webpackJsonp([1],{C1R5:function(t,e){},D7MI:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r("Jmt5");var a=r("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var n=r("VU/8")({name:"App"},i,!1,function(t){r("D7MI")},null,null).exports,o=r("/ocq"),l=r("Cx91"),s=r("mtWM"),h=r("BO1k"),d=r.n(h),c=r("Zrlr"),p=r.n(c),u=r("wxAW"),g=r.n(u),f=r("fZjL"),y=r.n(f),v=r("Gu7T"),m=r.n(v),x=r("YVj4"),b=r("kvU2"),w=r.n(b);function N(t){var e=new x.graphlib.Graph({compound:!0});if(e.setGraph({}),e.setDefaultEdgeLabel(function(){return{}}),"bf"in t)for(var r=0;r<t.bf.length;r+=1){var a=t.bf[r],i="bf-"+r,n=a.name,o=a.function_type,l=a.value,s=a.body;e.setNode(i,{label:n,value:l,type:o,body:s});e.setNode("aux-"+i,{auxLabel:"aux",width:1,height:1})}if("pif"in t)for(var h=0;h<t.pif.length;h+=1){var d=t.pif[h],c="pif-"+h,p=d.name;e.setNode(c,{label:p,width:50,height:50}),e.setParent(c,"bf-"+(d.box-1))}if("pof"in t)for(var u=0;u<t.pof.length;u+=1){var g=t.pof[u],f="pof-"+u,v=g.name;e.setNode(f,{label:v,width:50,height:50}),e.setParent(f,"bf-"+(g.box-1))}if("opo"in t)for(var b=0;b<t.opo.length;b+=1){var N="opo-"+b,S=t.opo[b].name;e.setNode(N,{label:S,width:50,height:50})}if("opi"in t)for(var M=0;M<t.opi.length;M+=1){var z="opi-"+M,L=t.opi[M].name;e.setNode(z,{label:L,width:50,height:50})}if("wff"in t)for(var A=0;A<t.wff.length;A+=1){var I=t.wff[A],C="pif-"+(I.src-1),F="pof-"+(I.tgt-1);e.setEdge(C,F)}if("wfopi"in t)for(var T=0;T<t.wfopi.length;T+=1){var P=t.wfopi[T],O="pif-"+(P.src-1),B="opi-"+(P.tgt-1);e.setEdge(O,B)}if("wfopo"in t)for(var R=0;R<t.wfopo.length;R+=1){var U=t.wfopo[R],j="opo-"+(U.src-1),G="pof-"+(U.tgt-1);e.setEdge(j,G)}if("wopio"in t)for(var D=0;D<t.wopio.length;D+=1){var W=t.wopio[D],V="opo-"+(W.src-1),X="opi-"+(W.tgt-1);e.setEdge(V,X)}if("bc"in t)for(var q=0;q<t.bc.length;q+=1){var H=t.bc[q],J="bc-"+q,Z=H.name,$=H.function_type,Y=H.value,Q=H.condition,K=H.body_if,tt=H.body_else;e.setNode(J,{label:Z,value:Y,type:$,condition:Q,body_if:K,body_else:tt});e.setNode("aux-"+J,{auxLabel:"aux",width:1,height:1})}if("pic"in t)for(var et=0;et<t.pic.length;et+=1){var rt=t.pic[et],at="pic-"+et,it=rt.name;e.setNode(at,{label:it,width:50,height:50}),e.setParent(at,"bc-"+(rt.box-1))}if("poc"in t)for(var nt=0;nt<t.poc.length;nt+=1){var ot=t.poc[nt],lt="poc-"+nt,st=ot.name;e.setNode(lt,{label:st,width:50,height:50}),e.setParent(lt,"bc-"+(ot.box-1))}if("wfc"in t)for(var ht=0;ht<t.wfc.length;ht+=1){var dt=t.wfc[ht],ct="pic-"+(dt.src-1),pt="pof-"+(dt.tgt-1);e.setEdge(ct,pt)}if("wcf"in t)for(var ut=0;ut<t.wcf.length;ut+=1){var gt=t.wcf[ut],ft="pif-"+(gt.src-1),yt="poc-"+(gt.tgt-1);e.setEdge(ft,yt)}if("wcc"in t)for(var vt=0;vt<t.wcc.length;vt+=1){var mt=t.wcc[vt],xt="pic-"+(mt.src-1),bt="poc-"+(mt.tgt-1);e.setEdge(xt,bt)}if("wcopi"in t)for(var wt=0;wt<t.wcopi.length;wt+=1){var Nt=t.wcopi[wt],_t="pic-"+(Nt.src-1),kt="opi-"+(Nt.tgt-1);e.setEdge(_t,kt)}if("wcopo"in t)for(var Et=0;Et<t.wcopo.length;Et+=1){var St=t.wcopo[Et],Mt="opo-"+(St.src-1),zt="poc-"+(St.tgt-1);e.setEdge(Mt,zt)}if("bl"in t)for(var Lt=0;Lt<t.bl.length;Lt+=1){var At=t.bl[Lt],It="bl-"+Lt,Ct=At.name,Ft=At.function_type,Tt=At.value,Pt=At.condition,Ot=At.pre,Bt=At.body,Rt=At.post;e.setNode(It,{label:Ct,value:Tt,type:Ft,condition:Pt,pre:Ot,body:Bt,post:Rt});e.setNode("aux-"+It,{auxLabel:"aux",width:1,height:1})}if("pil"in t)for(var Ut=0;Ut<t.pil.length;Ut+=1){var jt=t.pil[Ut],Gt="pil-"+Ut,Dt=jt.name;e.setNode(Gt,{label:Dt,width:50,height:50}),e.setParent(Gt,"bl-"+(jt.box-1))}if("pol"in t)for(var Wt=0;Wt<t.pol.length;Wt+=1){var Vt=t.pol[Wt],Xt="pol-"+Wt,qt=Vt.name;e.setNode(Xt,{label:qt,width:50,height:50}),e.setParent(Xt,"bl-"+(Vt.box-1))}if("wfl"in t)for(var Ht=0;Ht<t.wfl.length;Ht+=1){var Jt=t.wfl[Ht],Zt="pil-"+(Jt.src-1),$t="pof-"+(Jt.tgt-1);e.setEdge(Zt,$t)}if("wcl"in t)for(var Yt=0;Yt<t.wcl.length;Yt+=1){var Qt=t.wcl[Yt],Kt="pil-"+(Qt.src-1),te="poc-"+(Qt.tgt-1);e.setEdge(Kt,te)}if("wlopi"in t)for(var ee=0;ee<t.wlopi.length;ee+=1){var re=t.wlopi[ee],ae="pil-"+(re.src-1),ie="opi-"+(re.tgt-1);e.setEdge(ae,ie)}if("wll"in t)for(var ne=0;ne<t.wll.length;ne+=1){var oe=t.wll[ne],le="pil-"+(oe.src-1),se="pol-"+(oe.tgt-1);e.setEdge(le,se)}if("wlf"in t)for(var he=0;he<t.wlf.length;he+=1){var de=t.wlf[he],ce="pif-"+(de.src-1),pe="pol-"+(de.tgt-1);e.setEdge(ce,pe)}if("wlc"in t)for(var ue=0;ue<t.wlc.length;ue+=1){var ge=t.wlc[ue],fe="pic-"+(ge.src-1),ye="pol-"+(ge.tgt-1);e.setEdge(fe,ye)}if("wlopo"in t)for(var ve=0;ve<t.wlopo.length;ve+=1){var me=t.wlopo[ve],xe="opo-"+(me.src-1),be="pol-"+(me.tgt-1);e.setEdge(xe,be)}if("pif"in t)for(var we=0;we<t.pif.length;we+=1){var Ne="pif-"+we,_e="aux-bf-"+(t.pif[we].box-1);e.predecessors(Ne).length>0||e.setEdge(_e,Ne)}if("pof"in t)for(var ke=0;ke<t.pof.length;ke+=1){var Ee="pof-"+ke,Se="aux-bf-"+(t.pof[ke].box-1);e.successors(Ee).length>0||e.setEdge(Ee,Se)}if("pic"in t)for(var Me=0;Me<t.pic.length;Me+=1){var ze="pic-"+Me,Le="aux-bc-"+(t.pic[Me].box-1);e.predecessors(ze).length>0||e.setEdge(Le,ze)}if("poc"in t)for(var Ae=0;Ae<t.poc.length;Ae+=1){var Ie="poc-"+Ae,Ce="aux-bc-"+(t.poc[Ae].box-1);e.successors(Ie).length>0||e.setEdge(Ie,Ce)}if("pil"in t)for(var Fe=0;Fe<t.pil.length;Fe+=1){var Te="pil-"+Fe,Pe="aux-bl-"+(t.pil[Fe].box-1);e.predecessors(Te).length>0||e.setEdge(Pe,Te)}if("pol"in t)for(var Oe=0;Oe<t.pol.length;Oe+=1){var Be="pol-"+Oe,Re="aux-bl-"+(t.pol[Oe].box-1);e.successors(Be).length>0||e.setEdge(Be,Re)}var Ue=e.nodes().filter(function(t){return t.startsWith("bf")}),je=e.nodes().filter(function(t){return t.startsWith("bc")}),Ge=e.nodes().filter(function(t){return t.startsWith("bl")}),De=(e.nodes().filter(function(t){return t.startsWith("opo")}),e.nodes().filter(function(t){return t.startsWith("opi")}),[].concat(m()(je),m()(Ue),m()(Ge))),We=w()(e),Ve=function(t,e){for(var r=new _(e),a=0;a<e.length;a++)for(var i=a+1;i<e.length;i++)k(t,e[a],e[i])&&r.union(e[a],e[i]);var n={};e.forEach(function(t){var e=r.find(t);n[e]||(n[e]=[]),n[e].push(t)});var o=0,l={},s=function(e){var r="aux-super-"+o;t.setNode(r,{label:"aux-super",virtual:!0}),n[e].forEach(function(e){return t.setParent(e,r)}),l[r]=n[e],r,o++};for(var h in n)s(h);return l}(We,De);y()(Ve).length>1&&(e=We),e.setGraph({ranksep:30,rankdir:"BT"}),x.layout(e),console.log(e),console.log(Ve),y()(Ve).length>1e3&&function(t,e){var r=0;console.log(t);var a=y()(e);a.sort(function(t,e){return parseInt(t.split("-")[2])-parseInt(e.split("-")[2])});var i=t.node(a[0]),n=i.x+100;i.x+=100,r=i.y,E(t,a[0],100,0);for(var o=1;o<a.length;o++){var l=a[o],s=t.node(a[o-1]),h=t.node(l);r+=50+h.height/2+s.height/2;var d=n-h.x,c=r-h.y;h.x+=d,h.y+=c;E(t,l,d,c)}}(e,Ve);var Xe={nodes:{},edges:[]};if(console.log(t),e.nodes().forEach(function(t){var r=e.node(t);Xe.nodes[t]={x:r.x,y:r.y,width:r.width,height:r.height,label:r.label,type:r.type,value:r.value,body:r.body,condition:r.condition,body_if:r.body_if,body_else:r.body_else,pre:r.pre,post:r.post}}),e.edges().forEach(function(t,e){Xe.edges.push({id:e,source:t.v,target:t.w})}),"bf"in t)for(var qe=function(e){var r="bf-"+e;if("pif"in t&&"pof"in t){var a=t.pof.find(function(t){return t.box===e+1}),i=t.pif.find(function(t){return t.box===e+1});Xe.nodes[r].fullBox=!(!a||!i)}else Xe.nodes[r].fullBox=!1},He=0;He<t.bf.length;He+=1)qe(He);if("bc"in t)for(var Je=function(e){var r="bc-"+e;if("pic"in t&&"poc"in t){var a=t.poc.find(function(t){return t.box===e+1}),i=t.pic.find(function(t){return t.box===e+1});Xe.nodes[r].fullBox=!(!a||!i)}else Xe.nodes[r].fullBox=!1},Ze=0;Ze<t.bc.length;Ze+=1)Je(Ze);if("bl"in t)for(var $e=function(e){var r="bl-"+e;if("pil"in t&&"pol"in t){var a=t.pol.find(function(t){return t.box===e+1}),i=t.pil.find(function(t){return t.box===e+1});Xe.nodes[r].fullBox=!(!a||!i)}else Xe.nodes[r].fullBox=!1},Ye=0;Ye<t.bl.length;Ye+=1)$e(Ye);return Xe.meta={},Xe.meta.name=t.b[0].name,Xe.meta.identifier=t.b[0].function_type+"-"+t.b[0].metadata,Xe.meta.type=t.b[0].function_type,Xe}var _=function(){function t(e){var r=this;p()(this,t),this.parent={},e.forEach(function(t){return r.parent[t]=t})}return g()(t,[{key:"find",value:function(t){return this.parent[t]!==t&&(this.parent[t]=this.find(this.parent[t])),this.parent[t]}},{key:"union",value:function(t,e){var r=this.find(t),a=this.find(e);r!==a&&(this.parent[a]=r)}}]),t}();function k(t,e,r){var a=[],i=[];e.startsWith("opo")||e.startsWith("opi")?a.push(e):a=t.children(e),r.startsWith("opo")||r.startsWith("opi")?i.push(r):i=t.children(r);var n=!0,o=!1,l=void 0;try{for(var s,h=d()(a);!(n=(s=h.next()).done);n=!0){var c=s.value,p=!0,u=!1,g=void 0;try{for(var f,y=d()(i);!(p=(f=y.next()).done);p=!0){var v=f.value;if(t.edge(c,v)||t.edge(v,c))return!0}}catch(t){u=!0,g=t}finally{try{!p&&y.return&&y.return()}finally{if(u)throw g}}}}catch(t){o=!0,l=t}finally{try{!n&&h.return&&h.return()}finally{if(o)throw l}}return!1}function E(t,e,r,a){t.children(e).forEach(function(e){var i=t.node(e);i.x+=r,i.y+=a,t.children(e).length>0&&E(t,e,r,a),"bf"===e.split("-")[0]&&S(t,"aux-"+e,r,a),"bc"===e.split("-")[0]&&S(t,"aux-"+e,r,a),"bl"===e.split("-")[0]&&S(t,"aux-"+e,r,a)})}function S(t,e,r,a){var i=t.node(e);i.x+=r,i.y+=a}var M=r("d7EF"),z=r.n(M),L=r("gRE1"),A=r.n(L),I=r("mvHQ"),C=r.n(I);function F(t,e,r,a,i,n){var o=Number(l.g("#boxid"+a).select("#"+t).attr("x"))+Number(l.g("#boxid"+a).select("#"+t).attr("width")),s=Number(l.g("#boxid"+a).select("#"+t).attr("y"))+Number(l.g("#boxid"+a).select("#"+t).attr("height"))/2,h=Number(l.g("#"+e).attr("x"))+r[0],d=Number(l.g("#"+e).attr("x"))+r[0],c=Number(l.g("#"+e).attr("y"))+r[1],p=Number(l.g("#"+e).attr("y"))+Number(l.g("#"+e).attr("height"))+r[1],u=h-o,g=c-s,f=d-o,y=p-s,v={},m={},x={},b={};v.x=o+.375*u,v.y=s+.3*g,m.x=o+.75*.8*u,m.y=s+.75*g,x.x=o+.375*f,x.y=s+.3*y,b.x=o+.75*.8*f,b.y=s+.75*y;var w=l.g("svg").append("g").attr("id","line"+String(a)+"_"+String(i)).attr("class","drawer");w.attr("sourceid",t).attr("targetid",e).attr("locationTransform",r).attr("body_num_source",a).attr("body_num_target",i).attr("color",n);var N=[{x:o,y:s},{x:v.x,y:v.y},{x:m.x,y:m.y},{x:h,y:c+17}],_=[{x:o,y:s},{x:x.x,y:x.y},{x:b.x,y:b.y},{x:d,y:p-17}],k=l.e().x(function(t){return t.x}).y(function(t){return t.y}).curve(l.c),E=k(N),S=document.createElementNS("http://www.w3.org/2000/svg","path");S.setAttribute("d",E);var M=k(_),z=document.createElementNS("http://www.w3.org/2000/svg","path");z.setAttribute("d",M);for(var L=S.getTotalLength(),A=z.getTotalLength(),I=[],C=0;C<500;C++){var F=S.getPointAtLength(C*L/499);I.push({x:F.x,y:F.y})}for(var T=[],P=0;P<500;P++){var O=z.getPointAtLength(P*A/499);T.push({x:O.x,y:O.y})}var B=l.f().domain(l.d(N,function(t){return t.x})).range([0,u]),R=l.b(function(t){return t.x}).left,U=l.f().domain(l.d(_,function(t){return t.x})).range([0,u]),j=l.b(function(t){return t.x}).left,G=l.a().x(function(t){return t.x}).y0(function(t){var e=t.x,r=R(I,B.invert(e));r>=I.length-1&&(r=I.length-2),r<1&&(r=1);var a=I[r-1],i=I[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),l=6*Math.pow((t.x-o+2)/u,.38);return t.y-Math.sqrt(1+Math.pow(n,2))*l}).y1(function(t){var e=t.x,r=R(I,B.invert(e));r>=I.length-1&&(r=I.length-2),r<1&&(r=1);var a=I[r-1],i=I[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),l=6*Math.pow((t.x-o+2)/u,.38);return t.y+Math.sqrt(1+Math.pow(n,2))*l}).curve(l.c),D=l.a().x(function(t){return t.x}).y0(function(t){var e=t.x,r=j(T,U.invert(e));r>=T.length-1&&(r=T.length-2),r<1&&(r=1);var a=T[r-1],i=T[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),l=6*Math.pow((t.x-o+2)/u,.38);return t.y-Math.sqrt(1+Math.pow(n,2))*l}).y1(function(t){var e=t.x,r=j(T,U.invert(e));r>=T.length-1&&(r=T.length-2),r<1&&(r=1);var a=T[r-1],i=T[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),l=6*Math.pow((t.x-o+2)/u,.38);return t.y+Math.sqrt(1+Math.pow(n,2))*l}).curve(l.c);w.append("path").datum(N).attr("d",G).attr("id","path1").attr("fill",n),w.append("path").datum(_).attr("d",D).attr("id","path2").attr("fill",n);l.g("#boxid"+a).selectAll("rect").each(function(a,o){var s=l.g(this);if(s.attr("id")!==t){var h=s.attr("data-body");if(void 0!==h&&null!==h&&h===i.split("-")[1]){s.attr("data-opened",!0);var d=Number(s.attr("x"))+Number(s.attr("width")),c=Number(s.attr("y"))+Number(s.attr("height"))/2,p=Number(l.g("#"+e).attr("x"))+r[0],u=Number(l.g("#"+e).attr("y"))+r[1]+Number(l.g("#"+e).attr("height"))/2;w.append("circle").attr("cx",p).attr("cy",u).attr("r",7).attr("fill",n),w.append("line").attr("x1",d).attr("y1",c).attr("x2",p).attr("y2",u).attr("stroke-width",3).attr("stroke",n).attr("stroke-dasharray","5,5").attr("marker-end","url(#arrow)").attr("class","arrowLine")}}})}function T(t,e,r,a,i,n,o){var s=Number(l.g("#boxid"+a).select("#"+t).attr("x"))+Number(l.g("#boxid"+a).select("#"+t).attr("width")),h=Number(l.g("#boxid"+a).select("#"+t).attr("y"))+Number(l.g("#boxid"+a).select("#"+t).attr("height"))/2,d=Number(l.g("#"+e).attr("x"))+r[0],c=Number(l.g("#"+e).attr("x"))+r[0],p=Number(l.g("#"+e).attr("y"))+r[1],u=Number(l.g("#"+e).attr("y"))+Number(l.g("#"+e).attr("height"))+r[1],g=d-s,f=p-h,y=c-s,v=u-h,m={},x={},b={},w={};m.x=s+.375*g,m.y=h+.3*f,x.x=s+.75*.8*g,x.y=h+.75*f,b.x=s+.375*y,b.y=h+.3*v,w.x=s+.75*.8*y,w.y=h+.75*v;var N=l.g("#"+o);N.attr("sourceid",t).attr("targetid",e).attr("locationTransform",r).attr("body_num_source",a).attr("body_num_target",i).attr("color",n);var _=[{x:s,y:h},{x:m.x,y:m.y},{x:x.x,y:x.y},{x:d,y:p+17}],k=[{x:s,y:h},{x:b.x,y:b.y},{x:w.x,y:w.y},{x:c,y:u-17}],E=l.e().x(function(t){return t.x}).y(function(t){return t.y}).curve(l.c),S=E(_),M=document.createElementNS("http://www.w3.org/2000/svg","path");M.setAttribute("d",S);var z=E(k),L=document.createElementNS("http://www.w3.org/2000/svg","path");L.setAttribute("d",z);for(var A=M.getTotalLength(),I=L.getTotalLength(),C=[],F=0;F<500;F++){var T=M.getPointAtLength(F*A/499);C.push({x:T.x,y:T.y})}for(var P=[],O=0;O<500;O++){var B=L.getPointAtLength(O*I/499);P.push({x:B.x,y:B.y})}var R=l.f().domain(l.d(_,function(t){return t.x})).range([0,g]),U=l.b(function(t){return t.x}).left,j=l.f().domain(l.d(k,function(t){return t.x})).range([0,g]),G=l.b(function(t){return t.x}).left,D=l.a().x(function(t){return t.x}).y0(function(t){var e=t.x,r=U(C,R.invert(e));r>=C.length-1&&(r=C.length-2),r<1&&(r=1);var a=C[r-1],i=C[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),o=6*Math.pow((t.x-s+2)/g,.38);return t.y-Math.sqrt(1+Math.pow(n,2))*o}).y1(function(t){var e=t.x,r=U(C,R.invert(e));r>=C.length-1&&(r=C.length-2),r<1&&(r=1);var a=C[r-1],i=C[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),o=6*Math.pow((t.x-s+2)/g,.38);return t.y+Math.sqrt(1+Math.pow(n,2))*o}).curve(l.c),W=l.a().x(function(t){return t.x}).y0(function(t){var e=t.x,r=G(P,j.invert(e));r>=P.length-1&&(r=P.length-2),r<1&&(r=1);var a=P[r-1],i=P[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),o=6*Math.pow((t.x-s+2)/g,.38);return t.y-Math.sqrt(1+Math.pow(n,2))*o}).y1(function(t){var e=t.x,r=G(P,j.invert(e));r>=P.length-1&&(r=P.length-2),r<1&&(r=1);var a=P[r-1],i=P[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),o=6*Math.pow((t.x-s+2)/g,.38);return t.y+Math.sqrt(1+Math.pow(n,2))*o}).curve(l.c);N.select("#path1").datum(_).transition().duration(720).attr("d",D).attr("fill",n),N.select("#path2").datum(k).transition().duration(720).attr("d",W).attr("fill",n);l.g("#boxid"+a).selectAll("rect").each(function(a,o){var s=l.g(this);if(s.attr("id")!==t){var h=s.attr("data-body");if(void 0!==h&&null!==h&&h===i.split("-")[1]){var d=Number(s.attr("x"))+Number(s.attr("width")),c=Number(s.attr("y"))+Number(s.attr("height"))/2,p=Number(l.g("#"+e).attr("x"))+r[0],u=Number(l.g("#"+e).attr("y"))+r[1]+Number(l.g("#"+e).attr("height"))/2;N.select("circle").transition().duration(720).attr("cx",p).attr("cy",u).attr("r",7).attr("fill",n),N.select("line").transition().duration(720).attr("x1",d).attr("y1",c).attr("x2",p).attr("y2",u).attr("stroke-width",3).attr("stroke",n).attr("stroke-dasharray","5,5").attr("marker-end","url(#arrow)").attr("class","arrowLine")}}})}function P(t,e,r,a,i){var n="frame"+e,o=t[r][0]-t[e][0]-Number(l.g("#"+n).attr("width")),s=t[r][1]-t[e][1],h=Number(l.g("#"+n).attr("x"))+Number(l.g("#"+n).attr("width")),d=Number(l.g("#"+n).attr("y"))+Number(l.g("#"+n).attr("height"))/2,c=h+o,p=d+s,u=l.g("svg").append("g").attr("id","line"+String(e)+"_"+String(r)).attr("line-type","dashed").attr("class","drawer");u.append("defs").append("marker").attr("id","arrow").attr("markerWidth",5).attr("markerHeight",3.5).attr("refX",5).attr("refY",1.75).attr("orient","auto").append("path").attr("d","M0,0 L5,1.75 L0,3.5 Z").style("fill","gray"),u.append("line").attr("x1",h).attr("y1",d).attr("x2",c).attr("y2",p).attr("stroke-width",5).attr("stroke",a).attr("stroke-dasharray","5,5").attr("marker-end","url(#arrow)").attr("class","arrowLine");var g=(h+c)/2-45,f=(d+p)/2-5;u.append("text").attr("x",g).attr("y",f).text(i).style("font-size","30px").style("fill","black")}function O(t,e,r,a,i,n){var o="frame"+e,s=t[r][0]-t[e][0]-Number(l.g("#"+o).attr("width")),h=t[r][1]-t[e][1],d=Number(l.g("#"+o).attr("x"))+Number(l.g("#"+o).attr("width")),c=Number(l.g("#"+o).attr("y"))+Number(l.g("#"+o).attr("height"))/2,p=d+s,u=c+h,g=l.g("svg").select("#"+n);g.select("line").transition().duration(720).attr("x1",d).attr("y1",c).attr("x2",p).attr("y2",u).attr("stroke-width",5).attr("stroke",a).attr("stroke-dasharray","5,5").attr("marker-end","url(#arrow)").attr("class","arrowLine");var f=(d+p)/2-45,y=(c+u)/2-5;g.select("text").transition().duration(720).attr("x",f).attr("y",y).text(i).style("font-size","30px").style("fill","black")}function B(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function R(t,e){e(t),t.children&&t.children.forEach(function(t){return R(t,e)}),t._children&&t._children.forEach(function(t){return R(t,e)})}function U(t,e){console.log(e),e.forEach(function(e){var r=t,a=2;e.path.forEach(function(t){if(0!==Number(t))if(a<=e.path.length-1){var i=r.children.filter(function(e){return Number(e.name)===Number(t)})[0];a+=1,r=i}else t===e.path[e.path.length-1]&&(r.hasOwnProperty("children")?(r.children.push(e),r.children.sort(function(t,e){for(var r=t.oName.split("-").map(Number),a=e.oName.split("-").map(Number),i=0;i<r.length;i++){if(r[i]<a[i])return-1;if(r[i]>a[i])return 1}return 0})):r.children=[e])})})}function j(){var t=l.g("svg").selectAll("g"),e=[],r=[],a=[],i=[];t.each(function(){var t=this.getBoundingClientRect();e.push(t.top),r.push(t.left),a.push(t.right),i.push(t.bottom)});var n=Math.max.apply(Math,a)-Math.min.apply(Math,r),o=Math.max.apply(Math,i)-Math.min.apply(Math,e);Math.min(2e3/n,2e3/o);t.attr("transform",function(t,e,r){var a=l.g(r[e]).attr("transform").match(/translate\(([^)]+)\)/),i=0,n=0;if(a){var o=a[1].split(",").map(Number),s=z()(o,2);i=s[0],n=s[1]}return"translate("+i+", "+n+")"})}var G=r("izJC");function D(t,e,r,a,i,n){var o=l.g("#boxid"+String(r)).select("#"+String(a));if(n||"true"===o.attr("data-opened"))return l.g("#boxid"+String(r)).selectAll("[data-opened='true']").attr("data-opened","false"),void l.h(".drawer").each(function(t,a){var i=this,n=l.g(this).attr("id").replace("line","").replace("boxid",""),o=(String(r)+"-"+String(e)).split("-");if(2===n.split("_").length){var s=!1,h=n.split("_")[0],d=n.split("_")[1],c=h.split("-"),p=d.split("-");if(B(c,o))l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(i).remove()}),s=!0;else if(c.length>o.length){var u=c.slice(0,o.length);C()(u)===C()(o)&&(l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(i).remove()}),s=!0)}if(!s)if(B(p,o))l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(i).remove()});else if(p.length>o.length){var g=p.slice(0,o.length);C()(g)===C()(o)&&l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(i).remove()})}}else{var f=n.split("-");if(B(f,o))l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(i).remove()});else if(f.length>o.length){var y=f.slice(0,o.length);C()(y)===C()(o)&&l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(i).remove()})}}});r=String(r);var s=N(t[e-1]),h=String(r)+"-"+String(e);V(s,t,h);var d={},c=[];l.h(".drawer").each(function(t,e){var r=l.g(this).attr("id").replace("boxid","");if(2!==r.split("_").length){var a=r.split("-"),i=a[a.length-1];if("0"===i)d.name=Number(i),d.oName=r,d.path=a,d.size=[Number(l.g(this).attr("width"))+100,Number(l.g(this).attr("height"))];else{var n={};n.name=Number(i),n.size=[Number(l.g(this).attr("width"))+100,Number(l.g(this).attr("height"))],n.path=a,n.oName=r,c.push(n)}}});c.sort(function(t,e){return t.path.length-e.path.length}),U(d,c),R(d,function(t){Array.isArray(t.size)&&(t._size||(t._size=t.size.slice()),t.size=t._size.slice().reverse())});var p=G.a({spacing:80}),u=p(p.hierarchy(d));u.each(function(t){var e=t.x;t.x=t.y,t.y=e});var g={};u.each(function(t){g[t.data.oName]=[t.x,t.y,t.data.size[1],1*t.data.size[0]]});y()(g);console.log(g);var f=g[h][0]-g[r][0],v=g[h][1]-g[h][3]/2-(g[r][1]-g[r][3]/2);F(a,"frame"+h,[f,v],r,h,i),l.h(".drawer").each(function(t,e){var r=l.g(this).attr("id").replace("boxid","");2!==r.split("_").length&&(r===h?(l.g(this).attr("transform","translate("+(g[r][0]+90)+","+(g[r][1]+675-g[r][3]/2)+")").attr("opacity",0),l.g(this).transition().duration(920).style("opacity",1)):l.g(this).transition().duration(720).attr("transform","translate("+(g[r][0]+90)+","+(g[r][1]+675-g[r][3]/2)+")"))}),l.h(".drawer").each(function(t,e){var r=l.g(this).attr("id").replace("boxid","");if(2===r.split("_").length)if("dashed"!==l.g(this).attr("line-type")){var a=r,i=r.replace("line","").split("_")[0],n=r.replace("line","").split("_")[1],o=l.g("#boxid"+i).attr("transform"),s=l.g("#boxid"+n).attr("transform");if(null!==o&&i!=h){var d,c=o.slice(10,-1).split(",").map(Number);d=[g[i][0]+90,g[i][1]+675-g[i][3]/2];var p=[g[n][0]-g[i][0],g[n][1]-g[n][3]/2-(g[i][1]-g[i][3]/2)];if(c[1]!==d[1]||c[0]!==d[0])T(l.g(this).attr("sourceid"),l.g(this).attr("targetid"),p,l.g(this).attr("body_num_source"),l.g(this).attr("body_num_target"),l.g(this).attr("color"),a)}if(null!==s&&n!=h){var u,f=s.slice(10,-1).split(",").map(Number),y=[g[n][0]-g[i][0],g[n][1]-g[n][3]/2-(g[i][1]-g[i][3]/2)];if(u=[g[n][0]+90,g[n][1]+675-g[n][3]/2],f[1]!==u[1]||f[0]!==u[0])T(l.g(this).attr("sourceid"),l.g(this).attr("targetid"),y,l.g(this).attr("body_num_source"),l.g(this).attr("body_num_target"),l.g(this).attr("color"),a)}r=(r=r.replace("line","")).split("_")[0],l.g(this).attr("transform","translate("+(g[r][0]+90)+","+(g[r][1]+675-g[r][3]/2)+")").style("opacity",.38)}else{var v=r,m=r.replace("line","").split("_")[0],x=r.replace("line","").split("_")[1],b=l.g("#boxid"+m).attr("transform"),w=l.g("#boxid"+x).attr("transform");if(null!==b&&m!=h){var N,_=b.slice(10,-1).split(",").map(Number);if(N=[g[m][0]+90,g[m][1]+675-g[m][3]/2],_[1]!==N[1]||_[0]!==N[0]){var k=l.g(this).select("text").text();O(g,m,x,"black",k,v)}}if(null!==w&&x!=h){var E,S=w.slice(10,-1).split(",").map(Number);if(E=[g[x][0]+90,g[x][1]+675-g[x][3]/2],S[1]!==E[1]||S[0]!==E[0]){var M=l.g(this).select("text").text();O(g,m,x,"black",M,v)}}r=(r=r.replace("line","")).split("_")[0],l.g(this).transition().duration(720).attr("transform","translate("+(g[r][0]+90)+","+(g[r][1]+675-g[r][3]/2)+")")}}),l.i().duration(1200).end().then(function(){j()})}function W(t,e,r,a,i,n,o,s,h){var d=l.g("#boxid"+String(n)).select("#"+String(o));if(h||"true"===d.attr("data-opened"))return l.g("#boxid"+String(n)).selectAll("[data-opened='true']").attr("data-opened","false"),void l.h(".drawer").each(function(t,r){var a=this,i=l.g(this).attr("id").replace("line","").replace("boxid",""),o=(String(n)+"-"+String(e)).split("-");if(2===i.split("_").length){var s=!1,h=i.split("_")[0],d=i.split("_")[1],c=h.split("-"),p=d.split("-");if(B(c,o))l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(a).remove()}),s=!0;else if(c.length>o.length){var u=c.slice(0,o.length);C()(u)===C()(o)&&(l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(a).remove()}),s=!0)}if(!s)if(B(p,o))l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(a).remove()});else if(p.length>o.length){var g=p.slice(0,o.length);C()(g)===C()(o)&&l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(a).remove()})}}else{var f=i.split("-");if(B(f,o))l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(a).remove()});else if(f.length>o.length){var y=f.slice(0,o.length);C()(y)===C()(o)&&l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(a).remove()})}}});n=String(n);var c=String(n)+"-"+String(e),p=String(c)+"-"+String(r),u=String(c)+"-"+String(a),g=String(c)+"-"+String(i);void 0!==e&&V(N(t[e-1]),t,c),void 0!==r&&V(N(t[r-1]),t,p),void 0!==a&&V(N(t[a-1]),t,u),void 0!==i&&V(N(t[i-1]),t,g);var f={},v=[];l.h(".drawer").each(function(t,e){var r=l.g(this).attr("id").replace("boxid","");if(2!==r.split("_").length){var a=r.split("-"),i=a[a.length-1];if("0"===i)f.name=Number(i),f.oName=r,f.path=a,f.size=[Number(l.g(this).attr("width"))+100,Number(l.g(this).attr("height"))];else{var n={};n.name=Number(i),n.size=[Number(l.g(this).attr("width"))+100,Number(l.g(this).attr("height"))],n.path=a,n.oName=r,v.push(n)}}});v.sort(function(t,e){return t.path.length-e.path.length}),U(f,v),R(f,function(t){Array.isArray(t.size)&&(t._size||(t._size=t.size.slice()),t.size=t._size.slice().reverse())});var m=G.a({spacing:80});console.log(f);var x=m(m.hierarchy(f));x.each(function(t){var e=t.x;t.x=t.y,t.y=e});var b={};x.each(function(t){b[t.data.oName]=[t.x,t.y,t.data.size[1],1*t.data.size[0]]});y()(b);console.log(b),console.log();var w=b[c][0]-b[n][0],_=b[c][1]-b[c][3]/2-(b[n][1]-b[n][3]/2);F(o,"frame"+c,[w,_],n,c,s),void 0!==r&&P(b,c,p,"black","PRE"),void 0!==a&&P(b,c,u,"black","WHILE TRUE"),void 0!==i&&P(b,c,g,"black","POST"),l.h(".drawer").each(function(t,e){var r=l.g(this).attr("id").replace("boxid","");if(2===r.split("_").length)if("dashed"!==l.g(this).attr("line-type")){var a=r,i=r.replace("line","").split("_")[0],n=r.replace("line","").split("_")[1],o=l.g("#boxid"+i).attr("transform"),s=l.g("#boxid"+n).attr("transform");if(null!==o&&i!=c){var h,d=o.slice(10,-1).split(",").map(Number);h=[b[i][0]+90,b[i][1]+675-b[i][3]/2];var f=[b[n][0]-b[i][0],b[n][1]-b[n][3]/2-(b[i][1]-b[i][3]/2)];if(d[1]!==h[1]||d[0]!==h[0]){var y=l.g(this).attr("sourceid"),v=l.g(this).attr("targetid");l.g(this).attr("locationTransform").split(",");T(y,v,f,l.g(this).attr("body_num_source"),l.g(this).attr("body_num_target"),l.g(this).attr("color"),a)}}if(null!==s&&n!=c){var m,x=s.slice(10,-1).split(",").map(Number);m=[b[n][0]+90,b[n][1]+675-b[n][3]/2];var w=[b[n][0]-b[i][0],b[n][1]-b[n][3]/2-(b[i][1]-b[i][3]/2)];if(x[1]!==m[1]||x[0]!==m[0]){var N=l.g(this).attr("sourceid"),_=l.g(this).attr("targetid");l.g(this).attr("locationTransform").split(",");T(N,_,w,l.g(this).attr("body_num_source"),l.g(this).attr("body_num_target"),l.g(this).attr("color"),a)}}r=(r=r.replace("line","")).split("_")[0],l.g(this).attr("transform","translate("+(b[r][0]+90)+","+(b[r][1]+675-b[r][3]/2)+")").style("opacity",.38)}else{var k=r,E=r.replace("line","").split("_")[0],S=r.replace("line","").split("_")[1],M=l.g("#boxid"+E).attr("transform"),z=l.g("#boxid"+S).attr("transform");if(null!==M&&E!=c){var L,A=M.slice(10,-1).split(",").map(Number);if(L=[b[E][0]+90,b[E][1]+675-b[E][3]/2],A[1]!==L[1]||A[0]!==L[0]){var I=l.g(this).select("text").text();O(b,E,S,"black",I,k)}}if(null!==z&&S!=c){var C,F=z.slice(10,-1).split(",").map(Number);if(C=[b[S][0]+90,b[S][1]+675-b[S][3]/2],F[1]!==C[1]||F[0]!==C[0]){var P=l.g(this).select("text").text();O(b,E,S,"black",P,k)}}r=(r=r.replace("line","")).split("_")[0],l.g(this).attr("transform","translate("+(b[r][0]+90)+","+(b[r][1]+675-b[r][3]/2)+")")}else r===c||r===p||r===u||r===g?(l.g(this).attr("transform","translate("+(b[r][0]+90)+","+(b[r][1]+675-b[r][3]/2)+")").attr("opacity",0),l.g(this).transition().duration(920).style("opacity",1)):l.g(this).transition().duration(720).attr("transform","translate("+(b[r][0]+90)+","+(b[r][1]+675-b[r][3]/2)+")")}),j()}function V(t,e,r){var a=l.g("#mainsvg").append("g").attr("id","boxid"+String(r)).attr("class","drawer"),i=t.nodes,n=!1,o=!1,s=Math.min.apply(Math,m()(A()(t.nodes).map(function(t){return t.y}))),h=Math.max.apply(Math,m()(A()(t.nodes).map(function(t){return t.y})));for(var d in i){var c=i[d],p=d.split("-"),u=z()(p,2),g=u[0],f=(u[1],"opo"===g);"opi"===g&&c.y===s&&(o=!0),f&&c.y===h&&(n=!0)}for(var y in console.log(i),i){var v=y.split("-"),x=z()(v,2),b=x[0],w=(x[1],"opo"===b);"opi"===b&&(i[y].y=o?s:s-50-37),w&&(i[y].y=n?h:h+50+37)}console.log(i);var N=1/0,_=1/0;for(var k in i){var E=k.split("-"),S=z()(E,2);S[0],S[1];i[k].x<N&&(N=i[k].x),i[k].y<_&&(_=i[k].y)}for(var M in i)i[M].x=i[M].x-N+50,i[M].y-=_;for(var L in console.log(i),i){var I=i[L],C=L.split("-"),F=z()(C,2),T=F[0],P=(F[1],"pof"===T),O="pif"===T,B="opo"===T,R="opi"===T,U="bc"===T,j="poc"===T,G="pic"===T,D="bl"===T,W="pol"===T,V="pil"===T;"aux"===T||("bf"===T?I.fullBox?"FUNCTION"==I.type?X(I,L,a,"green",37,e,r):"EXPRESSION"==I.type?X(I,L,a,"purple",37,e,r):"LITERAL"==I.type?Y(I,L,a,"red",37):"LANGUAGE_PRIMITIVE"==I.type&&Q(I,L,a,"red",37):"FUNCTION"==I.type?q(I,L,a,"green",37,e,r):"EXPRESSION"==I.type?q(I,L,a,"purple",37,e,r):"LITERAL"==I.type?tt(I,L,a,"red",37):"LANGUAGE_PRIMITIVE"==I.type&&K(I,L,a,"red",37):U?I.fullBox?H(I,L,a,"orange",37,e,r):J(I,L,a,"orange",37,e,r):D?I.fullBox?Z(I,L,a,"blue",37,e,r):$(I,L,a,"blue",37,e,r):(P||O||R||B||G||j||V||W)&&et(I,L,a,"black"))}a.append("defs").append("marker").attr("id","arrowhead").attr("markerWidth",10).attr("markerHeight",7).attr("refX",10).attr("refY",3.5).attr("orient","auto").append("path").attr("d","M0,0 L10,3.5 L0,7 Z").style("fill","gray"),t.edges.forEach(function(t){var e=i[t.source],r=i[t.target],n=t.source.split("-")[0],o=t.target.split("-")[0];"aux"===n||"aux"===o||a.append("line").attr("x1",e.x).attr("y1",e.y-e.height/2).attr("x2",r.x).attr("y2",r.y+r.height/2).style("stroke","gray").style("stroke-width",2.2).attr("marker-end","url(#arrowhead)")});var ot=a.node().getBBox(),lt=ot.width+90,st=ot.height+90;"opo-0"in i&&"opi-0"in i?"MODULE"===t.meta.type?rt(a,ot,lt,st,22.5,37,"gray",r):"EXPRESSION"===t.meta.type?rt(a,ot,lt,st,22.5,37,"purple",r):"FUNCTION"===t.meta.type?rt(a,ot,lt,st,22.5,37,"green",r):"PREDICATE"===t.meta.type&&rt(a,ot,lt,st,22.5,37,"Magenta",r):"opo-0"in i&&!("opi-0"in i)?"MODULE"===t.meta.type?at(a,ot,lt,st,22.5,37,"gray",r):"EXPRESSION"===t.meta.type?at(a,ot,lt,st,22.5,37,"purple",r):"FUNCTION"===t.meta.type?at(a,ot,lt,st,22.5,37,"green",r):"PREDICATE"===t.meta.type&&at(a,ot,lt,st,22.5,37,"Magenta",r):!("opo-0"in i)&&"opi-0"in i?"MODULE"===t.meta.type?it(a,ot,lt,st,22.5,37,"gray",r):"EXPRESSION"===t.meta.type?it(a,ot,lt,st,22.5,37,"purple",r):"FUNCTION"===t.meta.type?it(a,ot,lt,st,22.5,37,"green",r):"PREDICATE"===t.meta.type&&it(a,ot,lt,st,22.5,37,"Magenta",r):"MODULE"===t.meta.type?nt(a,ot,lt,st,22.5,37,"gray",r):"EXPRESSION"===t.meta.type?nt(a,ot,lt,st,22.5,37,"purple",r):"FUNCTION"===t.meta.type?nt(a,ot,lt,st,22.5,37,"green",r):"PREDICATE"===t.meta.type&&nt(a,ot,lt,st,22.5,37,"Magenta",r),a.attr("width",a.node().getBBox().width).attr("height",a.node().getBBox().height),0===r&&a.attr("transform","translate(90,"+(675-a.node().getBBox().height/2*1)+")")}function X(t,e,r,a,i,n,o){var l=!1,s=null;void 0!==t.body&&(s=t.body);var h=r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).attr("rx",15).attr("ry",15).attr("data-body",s).attr("data-opened","neo").style("fill","rgba(0, 0, 255, 0)").style("stroke",a).style("cursor","pointer").style("stroke-width",5);void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label),void 0!==t.body&&h.on("click",function(){D(n,t.body,o,e,a,l),l=!l})}function q(t,e,r,a,i,n,o){var l=null;void 0!==t.body&&(l=t.body);var s=!1,h=r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2-i).attr("width",t.width).attr("height",t.height).attr("rx",15).attr("ry",15).attr("data-body",l).attr("data-opened","neo").style("fill","rgba(0, 0, 255, 0)").style("cursor","pointer").style("stroke",a).style("stroke-width",5);void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y-t.height/4-i/2).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label),void 0!==t.body&&h.on("click",function(){D(n,t.body,o,e,a,s),s=!s})}function H(t,e,r,a,i,n,o){var s=!1,h=null;void 0!==t.condition&&(h=t.condition);var d=r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).attr("rx",15).attr("ry",15).attr("data-body",h).style("fill","rgba(0, 0, 255, 0)").style("stroke",a).style("cursor","pointer").style("stroke-width",5);void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label),void 0!==t.condition&&d.on("click",function(){!function(t,e,r,a,i,n,o,s){var h=l.g("#boxid"+String(i)).select("#"+String(n));if(s||"true"===h.attr("data-opened"))return l.g("#boxid"+String(i)).selectAll("[data-opened='true']").attr("data-opened","false"),void l.h(".drawer").each(function(t,r){var a=this,n=l.g(this).attr("id").replace("line","").replace("boxid",""),o=(String(i)+"-"+String(e)).split("-");if(2===n.split("_").length){var s=!1,h=n.split("_")[0],d=n.split("_")[1],c=h.split("-"),p=d.split("-");if(B(c,o))l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(a).remove()}),s=!0;else if(c.length>o.length){var u=c.slice(0,o.length);C()(u)===C()(o)&&(l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(a).remove()}),s=!0)}if(!s)if(B(p,o))l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(a).remove()});else if(p.length>o.length){var g=p.slice(0,o.length);C()(g)===C()(o)&&l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(a).remove()})}}else{var f=n.split("-");if(B(f,o))l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(a).remove()});else if(f.length>o.length){var y=f.slice(0,o.length);C()(y)===C()(o)&&l.g(this).transition().duration(200).style("opacity",0).end().then(function(){l.g(a).remove()})}}});i=String(i);var d=N(t[e-1]),c=N(t[r-1]),p=N(t[a-1]),u=String(i)+"-"+String(e),g=String(u)+"-"+String(r),f=String(u)+"-"+String(a);V(d,t,u),V(c,t,g),V(p,t,f);var v={},m=[];l.h(".drawer").each(function(t,e){var r=l.g(this).attr("id").replace("boxid","");if(2!==r.split("_").length){var a=r.split("-"),i=a[a.length-1];if("0"===i)v.name=Number(i),v.oName=r,v.path=a,v.size=[Number(l.g(this).attr("width"))+100,Number(l.g(this).attr("height"))];else{var n={};n.name=Number(i),n.size=[Number(l.g(this).attr("width"))+100,Number(l.g(this).attr("height"))],n.path=a,n.oName=r,m.push(n)}}}),m.sort(function(t,e){return t.path.length-e.path.length}),U(v,m),R(v,function(t){Array.isArray(t.size)&&(t._size||(t._size=t.size.slice()),t.size=t._size.slice().reverse())});var x=G.a({spacing:80});console.log(v);var b=x(x.hierarchy(v));b.each(function(t){var e=t.x;t.x=t.y,t.y=e});var w={};b.each(function(t){w[t.data.oName]=[t.x,t.y,t.data.size[1],1*t.data.size[0]]}),y()(w),console.log(w),console.log();var _=w[u][0]-w[i][0],k=w[u][1]-w[u][3]/2-(w[i][1]-w[i][3]/2);F(n,"frame"+u,[_,k],i,u,o),P(w,u,g,"black","TRUE"),P(w,u,f,"black","FALSE"),l.h(".drawer").each(function(t,e){var r=l.g(this).attr("id").replace("boxid","");if(2===r.split("_").length)if("dashed"!==l.g(this).attr("line-type")){var a=r,i=r.replace("line","").split("_")[0],n=r.replace("line","").split("_")[1],o=l.g("#boxid"+i).attr("transform"),s=l.g("#boxid"+n).attr("transform");if(null!==o&&i!=u){var h,d=o.slice(10,-1).split(",").map(Number);h=[w[i][0]+90,w[i][1]+675-w[i][3]/2];var c=[w[n][0]-w[i][0],w[n][1]-w[n][3]/2-(w[i][1]-w[i][3]/2)];if(d[1]!==h[1]||d[0]!==h[0]){var p=l.g(this).attr("sourceid"),y=l.g(this).attr("targetid");l.g(this).attr("locationTransform").split(","),T(p,y,c,l.g(this).attr("body_num_source"),l.g(this).attr("body_num_target"),l.g(this).attr("color"),a)}}if(null!==s&&n!=u){var v,m=s.slice(10,-1).split(",").map(Number);v=[w[n][0]+90,w[n][1]+675-w[n][3]/2];var x=[w[n][0]-w[i][0],w[n][1]-w[n][3]/2-(w[i][1]-w[i][3]/2)];if(m[1]!==v[1]||m[0]!==v[0]){var b=l.g(this).attr("sourceid"),N=l.g(this).attr("targetid");l.g(this).attr("locationTransform").split(","),T(b,N,x,l.g(this).attr("body_num_source"),l.g(this).attr("body_num_target"),l.g(this).attr("color"),a)}}r=(r=r.replace("line","")).split("_")[0],l.g(this).attr("transform","translate("+(w[r][0]+90)+","+(w[r][1]+675-w[r][3]/2)+")").style("opacity",.38)}else{var _=r,k=r.replace("line","").split("_")[0],E=r.replace("line","").split("_")[1],S=l.g("#boxid"+k).attr("transform"),M=l.g("#boxid"+E).attr("transform");if(null!==S&&k!=u){var z,L=S.slice(10,-1).split(",").map(Number);if(z=[w[k][0]+90,w[k][1]+675-w[k][3]/2],L[1]!==z[1]||L[0]!==z[0]){var A=l.g(this).select("text").text();O(w,k,E,"black",A,_)}}if(null!==M&&E!=u){var I,C=M.slice(10,-1).split(",").map(Number);if(I=[w[E][0]+90,w[E][1]+675-w[E][3]/2],C[1]!==I[1]||C[0]!==I[0]){var F=l.g(this).select("text").text();O(w,k,E,"black",F,_)}}r=(r=r.replace("line","")).split("_")[0],l.g(this).attr("transform","translate("+(w[r][0]+90)+","+(w[r][1]+675-w[r][3]/2)+")")}else r===u||r===f||r===g?(l.g(this).attr("transform","translate("+(w[r][0]+90)+","+(w[r][1]+675-w[r][3]/2)+")").attr("opacity",0),l.g(this).transition().duration(920).style("opacity",1)):l.g(this).transition().duration(720).attr("transform","translate("+(w[r][0]+90)+","+(w[r][1]+675-w[r][3]/2)+")")}),j()}(n,t.condition,t.body_if,t.body_else,o,e,a,s),s=!s})}function J(t,e,r,a,i,n,o){var l=null;void 0!==t.body&&(l=t.body);var s=!1,h=r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2-i).attr("width",t.width).attr("height",t.height).attr("rx",15).attr("ry",15).attr("data-body",l).style("fill","rgba(0, 0, 255, 0)").style("cursor","pointer").style("stroke",a).style("stroke-width",5);void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y-t.height/4-i/2).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label),void 0!==t.body&&h.on("click",function(){D(n,t.body,o,e,a,s),s=!s})}function Z(t,e,r,a,i,n,o){var l=!1,s=null;void 0!==t.condition&&(s=t.condition);var h=r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).attr("rx",15).attr("ry",15).attr("data-body",s).style("fill","rgba(0, 0, 255, 0)").style("stroke",a).style("cursor","pointer").style("stroke-width",5);void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label),void 0!==t.condition&&h.on("click",function(){W(n,t.condition,t.pre,t.body,t.post,o,e,a,l),l=!l})}function $(t,e,r,a,i,n,o){var l=null;void 0!==t.body&&(l=t.body);var s=!1,h=r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2-i).attr("width",t.width).attr("height",t.height).attr("rx",15).attr("ry",15).attr("data-body",l).style("fill","rgba(0, 0, 255, 0)").style("cursor","pointer").style("stroke",a).style("stroke-width",5);void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y-t.height/4-i/2).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label),void 0!==t.body&&h.on("click",function(){W(n,t.body,o,e,a,s),s=!s})}function Y(t,e,r,a,i){r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).style("fill","none").style("stroke",a).style("stroke-width",2),void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label),void 0!==t.value&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","30px").text(t.value.value)}function Q(t,e,r,a,i){r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).style("fill","none").style("stroke",a).style("stroke-width",5),void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","20px").text(t.label),void 0!==t.value&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","30px").text(t.value.value)}function K(t,e,r,a,i){r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2-i).attr("width",t.width).attr("height",t.height).style("fill","none").style("stroke",a).style("stroke-width",5),void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label),void 0!==t.value&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","30px").text(t.value.value)}function tt(t,e,r,a,i){r.append("rect").attr("id",e).attr("x",t.x-t.width/2+i/2).attr("y",t.y-t.height/2-i).attr("width",t.width-i).attr("height",t.height).style("fill","none").style("stroke",a).style("stroke-width",2),void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label),void 0!==t.value&&r.append("text").attr("x",t.x).attr("y",t.y-1.2*i).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","30px").text(t.value.value)}function et(t,e,r,a){r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2).attr("width",t.width).attr("height",t.height).style("fill","white").style("stroke",a).style("stroke-width",2),void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","27px").text(t.label)}function rt(t,e,r,a,i,n,o,l){t.append("rect",":first-child").attr("id","frame"+l).attr("x",e.x-i).attr("y",e.y-i+n).attr("rx",15).attr("ry",15).attr("width",r-2*i).attr("height",a-2*i-2*n).style("fill","none").style("stroke",o).style("stroke-width",5).lower()}function at(t,e,r,a,i,n,o,l){t.append("rect",":first-child").attr("id","frame"+l).attr("x",e.x-i).attr("y",e.y-i-n/10).attr("rx",15).attr("ry",15).attr("width",r-2*i).attr("height",a-2*i-n).style("fill","none").style("stroke",o).style("stroke-width",5).lower()}function it(t,e,r,a,i,n,o,l){t.append("rect",":first-child").attr("id","frame"+l).attr("x",e.x-i).attr("y",e.y-i+2*n).attr("rx",15).attr("ry",15).attr("width",r-2*i).attr("height",a-2*i-n).style("fill","none").style("stroke",o).style("stroke-width",5).lower()}function nt(t,e,r,a,i,n,o,l){t.append("rect",":first-child").attr("id","frame"+l).attr("x",e.x-i).attr("y",e.y-i).attr("rx",15).attr("ry",15).attr("width",r-2*i).attr("height",a-2*i).style("fill","none").style("stroke",o).style("stroke-width",5).lower()}var ot={data:function(){return{skemaVersion:"",url:"",blockStyle:{backgroundColor:"rgba(255, 255, 120, 0.5)",height:"90vh",width:"100%"},selectedOption:null,options:[{text:"Clay1",value:"https://raw.githubusercontent.com/hconhisway/webcrawler/master/get_beta--Gromet-FN-auto2.json"},{text:"core_dynamics",value:"https://raw.githubusercontent.com/hconhisway/webcrawler/master/core_dynamics_pack2.json"},{text:"while1",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/while1/FN_0.1.6/while1--Gromet-FN-auto.json"},{text:"cond1",value:"https://raw.githubusercontent.com/hconhisway/webcrawler/master/cond1--Gromet-FN-auto.json"},{text:"fun1",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/fun1/FN_0.1.6/fun1--Gromet-FN-auto.json"},{text:"fun4",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/fun4/FN_0.1.6/fun4--Gromet-FN-auto.json"},{text:"exp1",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/exp1/FN_0.1.6/exp1--Gromet-FN-auto.json"},{text:"exp2",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/exp2/FN_0.1.6/exp2--Gromet-FN-auto.json"},{text:"exp3",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/exp3/FN_0.1.6/exp3--Gromet-FN-auto.json"},{text:"fun_default1",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/fun_default1/FN_0.1.6/fun_default1--Gromet-FN-auto.json"},{text:"assign_operator1",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/assign_operator1/FN_0.1.6/assign_operator1--Gromet-FN-auto.json"}]}},methods:{fetchData:function(){var t=this;l.h("g").remove(),s.a.get(this.selectedOption).then(function(e){var r=e.data;t.skemaVersion=r.schema_version;var a=r.modules[0],i=a.fn,n=a.fn_array;V(N(i),n,0)}).catch(function(t){console.error(t)})},downloadSVG:function(){var t=document.getElementById("mainsvg"),e=(new XMLSerializer).serializeToString(t),r=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download="mainsvg.svg",document.body.appendChild(i),i.click(),document.body.removeChild(i)},submitUrl:function(){this.excuteFunction(this.url)},excuteFunction:function(t){var e=this;l.h("g").remove(),s.a.get(t).then(function(t){var r=t.data;e.skemaVersion=r.schema_version;var a=r.modules[0],i=a.fn,n=a.fn_array;V(N(i),n,0)}).catch(function(t){console.error(t)})}}},lt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("div",{staticClass:"d-flex justify-content-start"},[r("div",{staticClass:"button-spacing"}),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOption,expression:"selectedOption"}],staticClass:"my-select",attrs:{placeholder:"Select"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedOption=e.target.multiple?r:r[0]},t.fetchData]}},t._l(t.options,function(e){return r("option",{key:e.value,domProps:{value:e.value}},[t._v("\n      "+t._s(e.text)+"\n    ")])}),0),t._v(" "),t._m(0),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"url-input",attrs:{type:"text",placeholder:"Input URL of JSON file here."},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}}),t._v(" "),r("button",{staticClass:"btn btn-primary",on:{click:t.submitUrl}},[t._v("Submit")]),t._v(" "),r("button",{staticClass:"btn btn-primary download-button",on:{click:t.downloadSVG}},[t._v("downloadSVG")])]),t._v(" "),r("div",{staticClass:"row"},[r("div",{style:t.blockStyle,attrs:{id:"svg-container"}},[t._m(1),t._v(" "),r("div",{staticClass:"version-text"},[t._v("\n        Current File Version:\n        "),r("span",{staticClass:"highlight"},[t._v(t._s(t.skemaVersion))])]),t._v(" "),r("svg",{attrs:{id:"mainsvg",width:"30000",height:"6000"}},[r("g",{attrs:{id:"sumGroup"}})])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("p",[this._v(" Or ")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"version-text"},[this._v("\n        Current Supported Skema Version:\n        "),e("span",{staticClass:"highlight"},[this._v("0.1.6")])])}]};var st=r("VU/8")(ot,lt,!1,function(t){r("C1R5")},"data-v-cced9f34",null).exports;a.a.use(o.a);var ht=new o.a({routes:[{path:"/",name:"Moviz",component:st}],mode:"hash"});a.a.config.productionTip=!1,new a.a({el:"#app",router:ht,components:{App:n},template:"<App/>"})},"p+Xa":function(t,e){t.exports={name:"d3-flextree",version:"2.1.2",main:"build/d3-flextree.js",module:"index","jsnext:main":"index",author:{name:"Chris Maloney",url:"http://chrismaloney.org"},description:"Flexible tree layout algorithm that allows for variable node sizes.",keywords:["d3","d3-module","layout","tree","hierarchy","d3-hierarchy","plugin","d3-plugin","infovis","visualization","2d"],homepage:"https://github.com/klortho/d3-flextree",license:"WTFPL",repository:{type:"git",url:"https://github.com/klortho/d3-flextree.git"},scripts:{clean:"rm -rf build demo test","build:demo":"rollup -c --environment BUILD:demo","build:dev":"rollup -c --environment BUILD:dev","build:prod":"rollup -c --environment BUILD:prod","build:test":"rollup -c --environment BUILD:test",build:"rollup -c",lint:"eslint index.js src","test:main":"node test/bundle.js","test:browser":"node test/browser-tests.js",test:"npm-run-all test:*",prepare:"npm-run-all clean build lint test"},dependencies:{"d3-hierarchy":"^1.1.5"},devDependencies:{"babel-plugin-external-helpers":"^6.22.0","babel-preset-es2015-rollup":"^3.0.0",d3:"^4.13.0","d3-selection-multi":"^1.0.1",eslint:"^4.19.1",jsdom:"^11.6.2","npm-run-all":"^4.1.2",rollup:"^0.55.3","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.2","rollup-plugin-uglify":"^3.0.0","uglify-es":"^3.3.9"}}}},["NHnr"]);
//# sourceMappingURL=app.751709daf7ba96e6b993.js.map