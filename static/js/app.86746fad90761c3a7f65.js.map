{"version":3,"sources":["webpack:///./src/App.vue?0e87","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/utils/layout.js","webpack:///./src/utils/drawlines.js","webpack:///./src/utils/utilities.js","webpack:///./src/utils/flextree.js","webpack:///./src/utils/multitree.js","webpack:///./src/utils/click.js","webpack:///./src/utils/clickCond.js","webpack:///./src/utils/drawBox.js","webpack:///src/components/Moviz.vue","webpack:///./src/components/Moviz.vue?76e5","webpack:///./src/components/Moviz.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./node_modules/d3-flextree/package.json"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","getBoxLayout","data","graph","dagre","Graph","compound","setGraph","setDefaultEdgeLabel","i","bf","length","node","nodeId","label","type","function_type","value","body","setNode","auxLabel","width","height","pif","setParent","box","pof","opo","opi","wff","edge","srcNodeId","src","tgtNodeId","tgt","setEdge","wfopi","wfopo","wopio","bc","condition","body_if","body_else","pic","poc","wfc","wcf","wcc","wcopi","wcopo","bl","pre","post","pil","pol","wfl","wcl","wlopi","wll","wlf","wlc","wlopo","nodeID","auxID","predecessors","successors","nodes","filter","startsWith","ranksep","rankdir","console","log","layout","edges","forEach","x","y","push","source","v","target","w","_loop","bfNodeId","pofNode","find","pifNode","fullBox","_loop2","bcNodeId","pocNode","picNode","_loop3","blNodeId","polNode","pilNode","meta","b","identifier","metadata","UnionFind","elements","_this","classCallCheck_default","parent","e","parentX","parentY","drawLines","sourceid","targetid","locationTransform","body_num_source","body_num_target","color","direction","sourceX","Number","d3","select","attr","sourceY","targetX1","targetX2","targetY1","targetY2","dx1","dy1","dx2","dy2","controlPoint11","controlPoint12","controlPoint21","controlPoint22","g","append","String","data1","data2","lineGenerator","d","curve","pathString1","pathElement1","document","createElementNS","setAttribute","pathString2","pathElement2","totalLength1","getTotalLength","totalLength2","points1","point","getPointAtLength","points2","xScale1","domain","range","bisect1","left","xScale2","bisect2","area1","y0","xValue","indexOfNode","invert","pointBefore","pointAfter","slope","Math","abs","linewidth","pow","sqrt","y1","area2","x0","yValue","x1","datum","selectAll","each","currentNode","currentNodeBody","undefined","split","sourceXforSL","sourceYforSL","targetXforSL","targetYforSL","updateLines","lineID","transition","duration","drawLinesDashArrow","treeLayout","sourceID","targetID","sourceFrame","dx","dy","targetX","targetY","style","midX","midY","text","updateLinesDashArrow","arraysAreEqual","array1","array2","loopOverHierarchy","callback","children","c","_children","getChildren","hierarchies","childrens","element","zoomin","path","filterChild","item","hasOwnProperty","sort","a","aNums","oName","map","bNums","getHierarchy","spaceY","replace","routes","currentID","size","temp","Array","isArray","_size","slice","reverse","defaults","freeze_default","nodeSize","spacing","flextree","options","opts","assign_default","accessor","opt","tree","FlexNode","wtree","wrap","getFlexNode","_FlexNode","_class","_this2","possibleConstructorReturn_default","__proto__","get_prototype_of_default","call","relX","prelim","shift","change","lExt","lExtRelX","lThr","rExt","rExtRelX","rThr","inherits_default","createClass_default","key","oNode","layoutChildren","resolveX","get","set","update","_hierarchy$prototype$","constructor","descendants","ySize","xSize","ancs","ancestors","hasChildren","noChildren","numChildren","reduce","acc","kid","maxExtents","extents","nodeExtents","top","bottom","right","e0","e1","min","max","hierarchy","prototype","FlexClass","treeData","_wrap","depth","kidsData","kd","hl","arg","arguments","kids","dump","_dump","i0","i1","i2","kdumps","join","_acc","slicedToArray_default","lastLows","lowY","separate","updateLows","shiftChange","positionRoot","prevSum","sum","k","child","_acc2","lastShiftSum","lastChangeSum","shiftSum","changeSum","lows","lSib","curSubtree","rContour","rSumMods","lContour","lSumMods","isFirst","next","dist","moveSubtree","distributeExtra","index","rightBottom","leftBottom","nextRContour","nextLContour","setLThr","setRThr","subtree","distance","curSubtreeI","leftSibI","n","delta","firstChild","lastChild","diff","k0","kf","getMultiTree","subtrees","findAllSubtrees","currentLayout","toConsumableArray_default","down","mix","mergedCL","obj","extends_default","hasProperties","sharedNodes","getSharedKeys","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","get_iterator_default","done","nodeL","childrenRect","keyPre","nodeLPre","oldBoundingBox","findBoundingBox","differenceX1","differenceY1","err","return","copyNonDuplicateProperties","cloneDeep","obj1","obj2","sharedKeys","processTree","root","parentNodesRight","set_default","parentNodesDown","setParents","dfs","isSameDirection","checkProperties","add","parentNodesMix","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","has","delete","from_default","clone","removeDownChildren","clonex","flexLayout","newBoundingbox","removeRightChildren","cloneRight","cloneDown","flexLayoutDown","flexLayoutRight","treeDown","treeRight","cloneRightx","cloneDownx","treeDataDown","treeDataRight","treeLayoutDown","treeLayoutRight","differenceX","differenceY","mergedLayout","rectanglesObj","minX","Infinity","minY","maxX","maxY","rectangle","rectX","rectY","x2","y2","handleClick","fnS","body_num","clicked","openFlag","GID","deleteParts","deleteFlag","node1","node2","node1Parts","node2Parts","end","then","remove","firstNParts","stringify_default","GIDParts","newLabel","drawBox","keys_default","padding","sourceGID","targetGID","sourceTransString","targetTransString","newTransArray","transformArray","locationTransformForThis","a01","a02","a04","a05","line_label","handleClickCond","cond","layoutElse","layoutCond","layoutIf","newLabelCond","newLabelIf","newLabelElse","currentDirection","handleClickLoop","newLabelPre","newLabelBody","newLabelPost","directionO","opoNodeFlag","opiNodeFlag","minValue","apply","values_default","maxValue","_nodeId$split","_nodeId$split2","isOpoNode","_nodeId$split3","_nodeId$split4","minXofAllNodes","minYofAllNodes","_key$split","_key$split2","bbox","shapes","isPofNode","isPifNode","isOpiNode","isPocNode","isPicNode","isPolNode","isPilNode","computeBoundingRectangle","realOuterBox","getOuterBox","_nodeId2$split","_nodeId2$split2","isBcNode","isBlNode","drawBFs_full","drawLiteral_full","drawLPrimitive_full","drawBFs_nfull","drawLiteral_nfull","drawLPrimitive_nfull","drawBCs_full","drawBCs_nfull","drawBLs_full","drawBLs_nfull","drawPorts","sourceNode","targetNode","sourceType","targetType","drawOuterBoxFull","drawOuterBoxBottom","drawOuterBoxTop","drawOuterBoxEmpty","getBBox","node_body","outerRight","outerBottom","innerRight","innerBottom","selection","on","node_body_cond","lower","Moviz","skemaVersion","url","blockStyle","backgroundColor","selectedFile","selectedOption","methods","fetchData","axios","response","svg","zoom","transform","jsonData","schema_version","graphData","modules","fn0","fn","fn_array","catch","error","triggerFileInput","$refs","fileInput","click","handleFileChange","event","files","reader","FileReader","onload","JSON","parse","result","zoomasd","readAsText","downloadSVG","svgElement","getElementById","svgData","XMLSerializer","serializeToString","svgBlob","Blob","svgUrl","URL","createObjectURL","downloadLink","createElement","href","download","appendChild","removeChild","submitUrl","excuteFunction","_this3","components_Moviz","_vm","staticClass","_v","directives","rawName","expression","placeholder","$event","$$selectedVal","o","selected","_value","multiple","_l","option","domProps","_s","_m","input","composing","ref","staticStyle","display","overflow","src_components_Moviz","Moviz_normalizeComponent","Vue","use","Router","router","component","mode","config","productionTip","el","components","App","template","module","exports","version","main","jsnext:main","author","description","keywords","homepage","license","repository","scripts","clean","build:demo","build:dev","build:prod","build:test","build","lint","test:main","test:browser","test","prepare","dependencies","d3-hierarchy","devDependencies","babel-plugin-external-helpers","babel-preset-es2015-rollup","d3-selection-multi","eslint","jsdom","npm-run-all","rollup","rollup-plugin-babel","rollup-plugin-commonjs","rollup-plugin-copy","rollup-plugin-json","rollup-plugin-node-resolve","rollup-plugin-uglify","uglify-es"],"mappings":"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","file":"static/js/app.86746fad90761c3a7f65.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bee6a19a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bee6a19a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bee6a19a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App',\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n.container {\r\n  align-items: center;\r\n}\r\n\r\n.button-spacing {\r\n  width: 2vh; /*  */\r\n  display: inline-block;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","/* eslint-disable */\r\nimport * as dagre from 'dagre';\r\nimport cloneDeep from 'lodash/cloneDeep';\r\n\r\nexport function getBoxLayout(data) {\r\n  let graph = new dagre.graphlib.Graph({ compound: true });\r\n  graph.setGraph({});\r\n  // eslint-disable-next-line\r\n  graph.setDefaultEdgeLabel(() => { return {}; });\r\n  // get bf for all\r\n  if ('bf' in data) {\r\n    for (let i = 0; i < data.bf.length; i += 1) {\r\n      // eslint-disable-next-line\r\n      const node = data.bf[i];\r\n      const nodeId = `bf-${i}`;\r\n      const label = node.name;\r\n      const type = node.function_type;\r\n      const value = node.value;\r\n      const body = node.body;\r\n      graph.setNode(nodeId, { label, value, type, body });\r\n      // add auxi node for each bf\r\n      const auxLabel = 'aux';\r\n      const width = 1;\r\n      const height = 1;\r\n      graph.setNode(`aux-${nodeId}`, { auxLabel, width, height });\r\n      // graph.setParent(`aux-${nodeId}`, nodeId);\r\n    }\r\n  }\r\n\r\n  // get pif\r\n  if ('pif' in data) {\r\n    for (let i = 0; i < data.pif.length; i += 1) {\r\n      const node = data.pif[i];\r\n      const nodeId = `pif-${i}`;\r\n      const label = node.name;\r\n      const width = 50;\r\n      const height = 50;\r\n      graph.setNode(nodeId, { label, width, height });\r\n      graph.setParent(nodeId, `bf-${node.box - 1}`);\r\n    }\r\n  }\r\n\r\n  // get pof\r\n  if ('pof' in data) {\r\n    for (let i = 0; i < data.pof.length; i += 1) {\r\n      const node = data.pof[i];\r\n      const nodeId = `pof-${i}`;\r\n      const label = node.name;\r\n      const width = 50;\r\n      const height = 50;\r\n      graph.setNode(nodeId, { label, width, height });\r\n      graph.setParent(nodeId, `bf-${node.box - 1}`);\r\n    }\r\n  }\r\n\r\n  // get opo\r\n  if ('opo' in data) {\r\n    for (let i = 0; i < data.opo.length; i += 1) {\r\n      const node = data.opo[i];\r\n      const nodeId = `opo-${i}`;\r\n      const label = node.name;\r\n      const width = 50;\r\n      const height = 50;\r\n      graph.setNode(nodeId, { label, width, height });\r\n      // graph.setParent(nodeId, `bf-${node.box - 1}`);\r\n    }\r\n  }\r\n\r\n  // get opi\r\n  if ('opi' in data) {\r\n    for (let i = 0; i < data.opi.length; i += 1) {\r\n      const node = data.opi[i];\r\n      const nodeId = `opi-${i}`;\r\n      const label = node.name;\r\n      const width = 50;\r\n      const height = 50;\r\n      graph.setNode(nodeId, { label, width, height });\r\n      // graph.setParent(nodeId, `bf-${node.box - 1}`);\r\n    }\r\n  }\r\n\r\n  // set edges wff\r\n  if ('wff' in data) {\r\n    for (let i = 0; i < data.wff.length; i += 1) {\r\n      const edge = data.wff[i];\r\n      const srcNodeId = `pif-${edge.src - 1}`;\r\n      const tgtNodeId = `pof-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set edges wfopi\r\n  if ('wfopi' in data) {\r\n    for (let i = 0; i < data.wfopi.length; i += 1) {\r\n      const edge = data.wfopi[i];\r\n      const srcNodeId = `pif-${edge.src - 1}`;\r\n      const tgtNodeId = `opi-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set edges wfopo\r\n  if ('wfopo' in data) {\r\n    for (let i = 0; i < data.wfopo.length; i += 1) {\r\n      const edge = data.wfopo[i];\r\n      const srcNodeId = `opo-${edge.src - 1}`;\r\n      const tgtNodeId = `pof-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set edges wopio\r\n  if ('wopio' in data) {\r\n    for (let i = 0; i < data.wopio.length; i += 1) {\r\n      const edge = data.wopio[i];\r\n      const srcNodeId = `opo-${edge.src - 1}`;\r\n      const tgtNodeId = `opi-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set bc\r\n  if ('bc' in data) {\r\n    for (let i = 0; i < data.bc.length; i += 1) {\r\n      // eslint-disable-next-line\r\n      const node = data.bc[i];\r\n      const nodeId = `bc-${i}`;\r\n      const label = node.name;\r\n      const type = node.function_type;\r\n      const value = node.value;\r\n      const condition = node.condition;\r\n      const body_if = node.body_if;\r\n      const body_else = node.body_else;\r\n      graph.setNode(nodeId, { label, value, type, condition, body_if, body_else });\r\n      // add auxi node for each bc\r\n      const auxLabel = 'aux';\r\n      const width = 1;\r\n      const height = 1;\r\n      graph.setNode(`aux-${nodeId}`, { auxLabel, width, height });\r\n      // graph.setParent(`aux-${nodeId}`, nodeId);\r\n    }\r\n  }\r\n\r\n  // set pic\r\n  if ('pic' in data) {\r\n    for (let i = 0; i < data.pic.length; i += 1) {\r\n      const node = data.pic[i];\r\n      const nodeId = `pic-${i}`;\r\n      const label = node.name;\r\n      const width = 50;\r\n      const height = 50;\r\n      graph.setNode(nodeId, { label, width, height });\r\n      graph.setParent(nodeId, `bc-${node.box - 1}`);\r\n    }\r\n  }\r\n\r\n  // set poc\r\n  if ('poc' in data) {\r\n    for (let i = 0; i < data.poc.length; i += 1) {\r\n      const node = data.poc[i];\r\n      const nodeId = `poc-${i}`;\r\n      const label = node.name;\r\n      const width = 50;\r\n      const height = 50;\r\n      graph.setNode(nodeId, { label, width, height });\r\n      graph.setParent(nodeId, `bc-${node.box - 1}`);\r\n    }\r\n  }\r\n\r\n  // set wfc\r\n  if ('wfc' in data) {\r\n    for (let i = 0; i < data.wfc.length; i += 1) {\r\n      const edge = data.wfc[i];\r\n      const srcNodeId = `pic-${edge.src - 1}`;\r\n      const tgtNodeId = `pof-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set wcf\r\n  if ('wcf' in data) {\r\n    for (let i = 0; i < data.wcf.length; i += 1) {\r\n      const edge = data.wcf[i];\r\n      const srcNodeId = `pif-${edge.src - 1}`;\r\n      const tgtNodeId = `poc-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set wcc\r\n  if ('wcc' in data) {\r\n    for (let i = 0; i < data.wcc.length; i += 1) {\r\n      const edge = data.wcc[i];\r\n      const srcNodeId = `pic-${edge.src - 1}`;\r\n      const tgtNodeId = `poc-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set edges wcopi\r\n  if ('wcopi' in data) {\r\n    for (let i = 0; i < data.wcopi.length; i += 1) {\r\n      const edge = data.wcopi[i];\r\n      const srcNodeId = `pic-${edge.src - 1}`;\r\n      const tgtNodeId = `opi-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set edges wcopo\r\n  if ('wcopo' in data) {\r\n    for (let i = 0; i < data.wcopo.length; i += 1) {\r\n      const edge = data.wcopo[i];\r\n      const srcNodeId = `opo-${edge.src - 1}`;\r\n      const tgtNodeId = `poc-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  if ('bl' in data) {\r\n    for (let i = 0; i < data.bl.length; i += 1) {\r\n      // eslint-disable-next-line\r\n      const node = data.bl[i];\r\n      const nodeId = `bl-${i}`;\r\n      const label = node.name;\r\n      const type = node.function_type;\r\n      const value = node.value;\r\n      const condition = node.condition;\r\n      const pre = node.pre;\r\n      const body = node.body;\r\n      const post = node.post;\r\n      graph.setNode(nodeId, { label, value, type, condition, pre, body, post });\r\n      // add auxi node for each bl\r\n      const auxLabel = 'aux';\r\n      const width = 1;\r\n      const height = 1;\r\n      graph.setNode(`aux-${nodeId}`, { auxLabel, width, height });\r\n      // graph.setParent(`aux-${nodeId}`, nodeId);\r\n    }\r\n  }\r\n\r\n  // set pil\r\n  if ('pil' in data) {\r\n    for (let i = 0; i < data.pil.length; i += 1) {\r\n      const node = data.pil[i];\r\n      const nodeId = `pil-${i}`;\r\n      const label = node.name;\r\n      const width = 50;\r\n      const height = 50;\r\n      graph.setNode(nodeId, { label, width, height });\r\n      graph.setParent(nodeId, `bl-${node.box - 1}`);\r\n    }\r\n  }\r\n\r\n  // set pol\r\n  if ('pol' in data) {\r\n    for (let i = 0; i < data.pol.length; i += 1) {\r\n      const node = data.pol[i];\r\n      const nodeId = `pol-${i}`;\r\n      const label = node.name;\r\n      const width = 50;\r\n      const height = 50;\r\n      graph.setNode(nodeId, { label, width, height });\r\n      graph.setParent(nodeId, `bl-${node.box - 1}`);\r\n    }\r\n  }\r\n\r\n  // set wfl\r\n  if ('wfl' in data) {\r\n    for (let i = 0; i < data.wfl.length; i += 1) {\r\n      const edge = data.wfl[i];\r\n      const srcNodeId = `pil-${edge.src - 1}`;\r\n      const tgtNodeId = `pof-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set wcl\r\n  if ('wcl' in data) {\r\n    for (let i = 0; i < data.wcl.length; i += 1) {\r\n      const edge = data.wcl[i];\r\n      const srcNodeId = `pil-${edge.src - 1}`;\r\n      const tgtNodeId = `poc-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set wlopi\r\n  if ('wlopi' in data) {\r\n    for (let i = 0; i < data.wlopi.length; i += 1) {\r\n      const edge = data.wlopi[i];\r\n      const srcNodeId = `pil-${edge.src - 1}`;\r\n      const tgtNodeId = `opi-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set wll\r\n  if ('wll' in data) {\r\n    for (let i = 0; i < data.wll.length; i += 1) {\r\n      const edge = data.wll[i];\r\n      const srcNodeId = `pil-${edge.src - 1}`;\r\n      const tgtNodeId = `pol-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set wlf\r\n  if ('wlf' in data) {\r\n    for (let i = 0; i < data.wlf.length; i += 1) {\r\n      const edge = data.wlf[i];\r\n      const srcNodeId = `pif-${edge.src - 1}`;\r\n      const tgtNodeId = `pol-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set wlc\r\n  if ('wlc' in data) {\r\n    for (let i = 0; i < data.wlc.length; i += 1) {\r\n      const edge = data.wlc[i];\r\n      const srcNodeId = `pic-${edge.src - 1}`;\r\n      const tgtNodeId = `pol-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set wlopo\r\n  if ('wlopo' in data) {\r\n    for (let i = 0; i < data.wlopo.length; i += 1) {\r\n      const edge = data.wlopo[i];\r\n      const srcNodeId = `opo-${edge.src - 1}`;\r\n      const tgtNodeId = `pol-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // add auxi edges\r\n  if ('pif' in data) {\r\n    for (let i = 0; i < data.pif.length; i += 1) {\r\n      const nodeID = `pif-${i}`;\r\n      const pifNode = data.pif[i];\r\n      const auxID = `aux-bf-${pifNode.box - 1}`;\r\n      const hasIncomingEdges = graph.predecessors(nodeID).length > 0;\r\n      if (!hasIncomingEdges) {\r\n        graph.setEdge(auxID, nodeID);\r\n      }\r\n    }\r\n  }\r\n  if ('pof' in data) {\r\n    for (let i = 0; i < data.pof.length; i += 1) {\r\n      const nodeID = `pof-${i}`;\r\n      const pofNode = data.pof[i];\r\n      const auxID = `aux-bf-${pofNode.box - 1}`;\r\n      const hasOutgoingEdges = graph.successors(nodeID).length > 0;\r\n      if (!hasOutgoingEdges) {\r\n        graph.setEdge(nodeID, auxID);\r\n      }\r\n    }\r\n  }\r\n  if ('pic' in data) {\r\n    for (let i = 0; i < data.pic.length; i += 1) {\r\n      const nodeID = `pic-${i}`;\r\n      const picNode = data.pic[i];\r\n      const auxID = `aux-bc-${picNode.box - 1}`;\r\n      const hasIncomingEdges = graph.predecessors(nodeID).length > 0;\r\n      if (!hasIncomingEdges) {\r\n        graph.setEdge(auxID, nodeID);\r\n      }\r\n    }\r\n  }\r\n  if ('poc' in data) {\r\n    for (let i = 0; i < data.poc.length; i += 1) {\r\n      const nodeID = `poc-${i}`;\r\n      const pocNode = data.poc[i];\r\n      const auxID = `aux-bc-${pocNode.box - 1}`;\r\n      const hasOutgoingEdges = graph.successors(nodeID).length > 0;\r\n      if (!hasOutgoingEdges) {\r\n        graph.setEdge(nodeID, auxID);\r\n      }\r\n    }\r\n  }\r\n  if ('pil' in data) {\r\n    for (let i = 0; i < data.pil.length; i += 1) {\r\n      const nodeID = `pil-${i}`;\r\n      const pilNode = data.pil[i];\r\n      const auxID = `aux-bl-${pilNode.box - 1}`;\r\n      const hasIncomingEdges = graph.predecessors(nodeID).length > 0;\r\n      if (!hasIncomingEdges) {\r\n        graph.setEdge(auxID, nodeID);\r\n      }\r\n    }\r\n  }\r\n  if ('pol' in data) {\r\n    for (let i = 0; i < data.pol.length; i += 1) {\r\n      const nodeID = `pol-${i}`;\r\n      const polNode = data.pol[i];\r\n      const auxID = `aux-bl-${polNode.box - 1}`;\r\n      const hasOutgoingEdges = graph.successors(nodeID).length > 0;\r\n      if (!hasOutgoingEdges) {\r\n        graph.setEdge(nodeID, auxID);\r\n      }\r\n    }\r\n  }\r\n  const bfNodes = graph.nodes().filter(node => node.startsWith('bf'));\r\n  const bcNodes = graph.nodes().filter(node => node.startsWith('bc'));\r\n  const blNodes = graph.nodes().filter(node => node.startsWith('bl'));\r\n  const opoNodes = graph.nodes().filter(node => node.startsWith('opo'));\r\n  const opiNodes = graph.nodes().filter(node => node.startsWith('opi'));\r\n  // const parentNodes = [...bcNodes, ...bfNodes, ...blNodes];\r\n  // const graph_aux = cloneDeep(graph);\r\n  // const superNodes = groupParentNodes(graph_aux, parentNodes);\r\n  // if (Object.keys(superNodes).length>1) {\r\n  //   graph = graph_aux;\r\n  // }\r\n  // console.log(graph);\r\n  // eslint-disable-next-line\r\n  // console.log(graph);\r\n  // execute layout calculation\r\n  graph.setGraph({ ranksep: 30, rankdir: 'BT' });\r\n  dagre.layout(graph);\r\n  console.log(graph);\r\n  // console.log(superNodes);\r\n  // if (Object.keys(superNodes).length>1000) {\r\n  //   arrangeSuperNodes(graph,superNodes);\r\n  // }\r\n\r\n  // get layout result\r\n  const layout = {\r\n    nodes: {},\r\n    edges: [],\r\n  };\r\n  console.log(data);\r\n  graph.nodes().forEach((nodeId) => {\r\n    const node = graph.node(nodeId);\r\n    layout.nodes[nodeId] = {\r\n      x: node.x,\r\n      y: node.y,\r\n      width: node.width,\r\n      height: node.height,\r\n      label: node.label,\r\n      type: node.type,\r\n      value: node.value,\r\n      body: node.body,\r\n      condition: node.condition,\r\n      body_if: node.body_if,\r\n      body_else: node.body_else,\r\n      pre: node.pre,\r\n      post: node.post\r\n    };\r\n  });\r\n  graph.edges().forEach((edge, i) => {\r\n    layout.edges.push({\r\n      id: i,\r\n      source: edge.v,\r\n      target: edge.w,\r\n    });\r\n  });\r\n  // console.log(layout);\r\n  // set attributes for bf\r\n  if ('bf' in data) {\r\n    for (let i = 0; i < data.bf.length; i += 1) {\r\n      const bfNodeId = `bf-${i}`;\r\n      if (('pif' in data) && ('pof' in data)) {\r\n        const pofNode = data.pof.find(node => node.box === i + 1);\r\n        const pifNode = data.pif.find(node => node.box === i + 1);\r\n        if (pofNode && pifNode) {\r\n          layout.nodes[bfNodeId].fullBox = true;\r\n        } else {\r\n          layout.nodes[bfNodeId].fullBox = false;\r\n        }\r\n      } else {\r\n        layout.nodes[bfNodeId].fullBox = false;\r\n      }\r\n    }\r\n  }\r\n  if ('bc' in data) {\r\n    for (let i = 0; i < data.bc.length; i += 1) {\r\n      const bcNodeId = `bc-${i}`;\r\n      if (('pic' in data) && ('poc' in data)) {\r\n        const pocNode = data.poc.find(node => node.box === i + 1);\r\n        const picNode = data.pic.find(node => node.box === i + 1);\r\n        if (pocNode && picNode) {\r\n          layout.nodes[bcNodeId].fullBox = true;\r\n        } else {\r\n          layout.nodes[bcNodeId].fullBox = false;\r\n        }\r\n      } else {\r\n        layout.nodes[bcNodeId].fullBox = false;\r\n      }\r\n    }\r\n  }\r\n  if ('bl' in data) {\r\n    for (let i = 0; i < data.bl.length; i += 1) {\r\n      const blNodeId = `bl-${i}`;\r\n      if (('pil' in data) && ('pol' in data)) {\r\n        const polNode = data.pol.find(node => node.box === i + 1);\r\n        const pilNode = data.pil.find(node => node.box === i + 1);\r\n        if (polNode && pilNode) {\r\n          layout.nodes[blNodeId].fullBox = true;\r\n        } else {\r\n          layout.nodes[blNodeId].fullBox = false;\r\n        }\r\n      } else {\r\n        layout.nodes[blNodeId].fullBox = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  // set meta data for layout\r\n  layout.meta = {};\r\n  layout.meta.name = data.b[0].name;\r\n  layout.meta.identifier = `${data.b[0].function_type}-${data.b[0].metadata}`;\r\n  layout.meta.type = data.b[0].function_type;\r\n  return layout;\r\n}\r\n\r\nclass UnionFind {\r\n  constructor(elements) {\r\n    this.parent = {};\r\n    elements.forEach(e => this.parent[e] = e);\r\n  }\r\n\r\n  find(x) {\r\n    if(this.parent[x] !== x) {\r\n      this.parent[x] = this.find(this.parent[x]);\r\n    }\r\n    return this.parent[x];\r\n  }\r\n\r\n  union(x, y) {\r\n    const parentX = this.find(x);\r\n    const parentY = this.find(y);\r\n    if(parentX !== parentY) {\r\n      this.parent[parentY] = parentX;\r\n    }\r\n  }\r\n}\r\n\r\nfunction isEdgeBetweenChildNodes(graph, parentNode1, parentNode2) {\r\n  let nodes1 = [];\r\n  let nodes2 = [];\r\n\r\n  if (parentNode1.startsWith(\"opo\") || parentNode1.startsWith(\"opi\")) {\r\n    nodes1.push(parentNode1);\r\n  } else {\r\n    nodes1 = graph.children(parentNode1);\r\n  }\r\n\r\n  if (parentNode2.startsWith(\"opo\") || parentNode2.startsWith(\"opi\")) {\r\n    nodes2.push(parentNode2);\r\n  } else {\r\n    nodes2 = graph.children(parentNode2);\r\n  }\r\n\r\n  for (const node1 of nodes1) {\r\n    for (const node2 of nodes2) {\r\n      if (graph.edge(node1, node2) || graph.edge(node2, node1)) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nfunction groupParentNodes(graph, parentNodes) {\r\n  const uf = new UnionFind(parentNodes);\r\n  for(let i = 0; i < parentNodes.length; i++) {\r\n    for(let j = i+1; j < parentNodes.length; j++) {\r\n      if(isEdgeBetweenChildNodes(graph, parentNodes[i], parentNodes[j])) {\r\n        uf.union(parentNodes[i], parentNodes[j]);\r\n      }\r\n    }\r\n  }\r\n  const groups = {};\r\n  parentNodes.forEach(node => {\r\n    const root = uf.find(node);\r\n    if(!groups[root]) {\r\n      groups[root] = [];\r\n    }\r\n    groups[root].push(node);\r\n  });\r\n\r\n  let superNodeCounter = 0;\r\n  const superNodes = {};\r\n  let previousSuperNodeId = null;\r\n  for (let root in groups) {\r\n    const superNodeId = `aux-super-${superNodeCounter}`;\r\n    const label = `aux-super`;\r\n    const virtual = true;\r\n    graph.setNode(superNodeId, { label, virtual });\r\n    groups[root].forEach(node => graph.setParent(node, superNodeId));\r\n    superNodes[superNodeId] = groups[root];\r\n    \r\n    // Now there is a bug of dagre, it can not set an edge between group nodes\r\n    if (previousSuperNodeId) {\r\n      // graph.setEdge(previousSuperNodeId, superNodeId);\r\n    }\r\n    previousSuperNodeId = superNodeId;\r\n    superNodeCounter++;\r\n  }\r\n\r\n  return superNodes;\r\n}\r\n\r\nfunction adjustChildNodesPosition(graph, parentNodeId, deltaX, deltaY) {\r\n  const children = graph.children(parentNodeId);\r\n  children.forEach(childId => {\r\n    const childNode = graph.node(childId);\r\n    \r\n    childNode.x += deltaX;\r\n    childNode.y += deltaY;\r\n\r\n    if (graph.children(childId).length>0){\r\n      adjustChildNodesPosition(graph, childId, deltaX, deltaY);\r\n    }\r\n\r\n    if (childId.split('-')[0]===\"bf\") {\r\n      // console.log(\"aux-\" + childId);\r\n      adjustAuxNodesPosition(graph, \"aux-\" + childId, deltaX, deltaY);\r\n    }\r\n\r\n    if (childId.split('-')[0]===\"bc\") {\r\n      // console.log(\"aux-\" + childId);\r\n      adjustAuxNodesPosition(graph, \"aux-\" + childId, deltaX, deltaY);\r\n    }\r\n\r\n    if (childId.split('-')[0]===\"bl\") {\r\n      // console.log(\"aux-\" + childId);\r\n      adjustAuxNodesPosition(graph, \"aux-\" + childId, deltaX, deltaY);\r\n    }\r\n  });\r\n}\r\n\r\nfunction adjustAuxNodesPosition(graph, auxNodeId, deltaX, deltaY) {\r\n  const auxNode = graph.node(auxNodeId);\r\n  auxNode.x += deltaX;\r\n  auxNode.y += deltaY;\r\n}\r\n\r\nfunction arrangeSuperNodes(graph, superNodes) {\r\n  const nodeSpacing = 50; // \r\n  let currentY = 0;\r\n  console.log(graph);\r\n  // \r\n  const superNodeIds = Object.keys(superNodes);\r\n  superNodeIds.sort((a, b) => parseInt(a.split('-')[2]) - parseInt(b.split('-')[2]));\r\n\r\n  // \r\n  const firstSuperNode = graph.node(superNodeIds[0]);\r\n  const firstSuperNodeCenterX = firstSuperNode.x + 100;\r\n  firstSuperNode.x += 100;\r\n  currentY = firstSuperNode.y;\r\n  adjustChildNodesPosition(graph, superNodeIds[0], 100, 0);\r\n\r\n  // \r\n  for (let i = 1; i < superNodeIds.length; i++) {\r\n    \r\n    const superNodeId = superNodeIds[i];\r\n    const preSuperNode = graph.node(superNodeIds[i-1]);\r\n    const superNode = graph.node(superNodeId);\r\n    currentY += nodeSpacing + superNode.height / 2 + preSuperNode.height / 2;\r\n\r\n    // \r\n    const deltaX = firstSuperNodeCenterX - superNode.x;\r\n    const deltaY = currentY - superNode.y;\r\n\r\n    // \r\n    superNode.x += deltaX;\r\n    superNode.y += deltaY;\r\n\r\n    const moveFlag = false;\r\n    // graph.children(superNodeId).forEach(childId => {\r\n    //   if (childId.split)\r\n    // })\r\n    // \r\n    adjustChildNodesPosition(graph, superNodeId, deltaX, deltaY);\r\n\r\n    // y\r\n    // currentY += superNode.height + nodeSpacing;\r\n  }\r\n}\r\n\r\n\r\n\r\n// function isEdgeBetweenChildNodes(graph, parentNode1, parentNode2) {\r\n//   // \r\n//   const children1 = graph.children(parentNode1);\r\n//   const children2 = graph.children(parentNode2);\r\n\r\n//   // \r\n//   for (const child1 of children1) {\r\n//     for (const child2 of children2) {\r\n//       if (graph.edge(child1, child2) || graph.edge(child2, child1)) {\r\n//         // true\r\n//         return true;\r\n//       }\r\n//     }\r\n//   }\r\n\r\n//   // false\r\n//   return false;\r\n// }\r\n\r\n// function groupParentNodesWithConnectedChildren(graph, parentNodeIds) {\r\n//   // \r\n//   const sets = new Map(parentNodeIds.map(id => [id, new Set([id])]));\r\n\r\n//   // \r\n//   let superParentCounter = 0;\r\n\r\n//   // \r\n//   for (let i = 0; i < parentNodeIds.length; i++) {\r\n//     for (let j = i + 1; j < parentNodeIds.length; j++) {\r\n//       // \r\n//       if (isEdgeBetweenChildNodes(graph, parentNodeIds[i], parentNodeIds[j])) {\r\n//         // \r\n//         const set1 = sets.get(parentNodeIds[i]);\r\n//         const set2 = sets.get(parentNodeIds[j]);\r\n\r\n//         const newSet = new Set([...set1, ...set2]);\r\n\r\n//         // \r\n//         newSet.forEach(id => sets.set(id, newSet));\r\n//       }\r\n//     }\r\n//   }\r\n\r\n//   // \r\n//   const visited = new Set();\r\n//   const superParentNodes = [];\r\n\r\n//   sets.forEach((set, id) => {\r\n//     // \r\n//     if (visited.has(id)) return;\r\n\r\n//     const superParentNodeId = `aux-super-${superParentCounter++}`;\r\n\r\n//     // \r\n//     set.forEach(id => {\r\n//       graph.setParent(id, superParentNodeId);\r\n//       visited.add(id);\r\n//     });\r\n\r\n//     superParentNodes.push(superParentNodeId);\r\n//   });\r\n\r\n//   return superParentNodes;\r\n// }\r\n\r\n\r\nexport function getTreeLayout(data) {\r\n  const g = new dagre.graphlib.Graph({ compound: true });\r\n  g.setGraph({});\r\n  // eslint-disable-next-line\r\n  g.setDefaultEdgeLabel(() => { return {}; });\r\n\r\n  g.setGraph(data.graph);\r\n\r\n  data.subgraphs.forEach((subgraph) => {\r\n    const filteredAttributes = {};\r\n    Object.keys(subgraph.attributes).forEach((key) => {\r\n      if (key === 'label') {\r\n        filteredAttributes[key] = subgraph.attributes[key];\r\n      }\r\n    });\r\n    g.setNode(subgraph.name, filteredAttributes);\r\n    subgraph.nodes.forEach((node) => {\r\n      const filteredAttributesN = {};\r\n      Object.keys(node.attributes).forEach((key) => {\r\n        if (key === 'label') {\r\n          filteredAttributesN[key] = node.attributes[key];\r\n        }\r\n      });\r\n      g.setNode(node.name, filteredAttributesN);\r\n      g.setParent(node.name, subgraph.name);\r\n    });\r\n  });\r\n\r\n  data.edges.forEach((edge) => {\r\n    g.setEdge(edge.source, edge.target);\r\n  });\r\n\r\n  dagre.layout(g);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/layout.js","/* eslint-disable */\r\nimport * as d3 from \"d3\";\r\n\r\nexport function drawLines(sourceid, targetid, locationTransform, body_num_source, body_num_target, color, direction) {\r\n    // console.log(\"sourceid, \", sourceid);\r\n    // console.log(\"targetid, \", targetid);\r\n    // console.log(\"locationTransform, \", locationTransform);\r\n    // console.log(\"body_num_source, \", body_num_source);\r\n    // console.log(\"body_num_target, \", body_num_target);\r\n    // console.log(\"color, \", color);\r\n  \r\n    // d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr(\"data-opened\", \"true\");\r\n    let sourceX = Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('x')) + Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('width'));\r\n    let sourceY = Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('y')) + Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('height')) / 2;\r\n    let targetX1 = Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0];\r\n    let targetX2= Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0];\r\n    let targetY1 = Number(d3.select(\"#\" + targetid).attr('y')) + locationTransform[1];\r\n    let targetY2 = Number(d3.select(\"#\" + targetid).attr('y')) + Number(d3.select(\"#\" + targetid).attr('height')) + locationTransform[1];\r\n    let dx1 = targetX1 - sourceX;\r\n    let dy1 = targetY1 - sourceY;\r\n    let dx2 = targetX2 - sourceX;\r\n    let dy2 = targetY2 - sourceY;\r\n    let controlPoint11 = {};\r\n    let controlPoint12 = {};\r\n    let controlPoint21 = {};\r\n    let controlPoint22 = {};\r\n    controlPoint11.x = sourceX + 0.25 * 1.5 * dx1;\r\n    controlPoint11.y = sourceY + 0.25 * 1.2 * dy1;\r\n    controlPoint12.x = sourceX + 0.75 * 0.8 * dx1;\r\n    controlPoint12.y = sourceY + 0.75 * 1.0 * dy1;\r\n    controlPoint21.x = sourceX + 0.25 * 1.5 * dx2;\r\n    controlPoint21.y = sourceY + 0.25 * 1.2 * dy2;\r\n    controlPoint22.x = sourceX + 0.75 * 0.8 * dx2;\r\n    controlPoint22.y = sourceY + 0.75 * 1.0 * dy2;\r\n\r\n    if (direction === \"down\") {\r\n      sourceX = Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('x')) + Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('width')) / 2;\r\n      sourceY = Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('y')) + Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('height'));\r\n      targetX1 = Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0];\r\n      targetX2= Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0] + Number(d3.select(\"#\" + targetid).attr('width'));\r\n      targetY1 = Number(d3.select(\"#\" + targetid).attr('y')) + locationTransform[1];\r\n      targetY2 = Number(d3.select(\"#\" + targetid).attr('y')) + locationTransform[1];\r\n      dx1 = targetX1 - sourceX;\r\n      dy1 = targetY1 - sourceY;\r\n      dx2 = targetX2 - sourceX;\r\n      dy2 = targetY2 - sourceY;\r\n      controlPoint11 = {};\r\n      controlPoint12 = {};\r\n      controlPoint21 = {};\r\n      controlPoint22 = {};\r\n      controlPoint11.x = sourceX + 0.25 * 1.5 * dx1;\r\n      controlPoint11.y = sourceY + 0.25 * 1.2 * dy1;\r\n      controlPoint12.x = sourceX + 0.75 * 0.8 * dx1;\r\n      controlPoint12.y = sourceY + 0.75 * 1.0 * dy1;\r\n      controlPoint21.x = sourceX + 0.25 * 1.5 * dx2;\r\n      controlPoint21.y = sourceY + 0.25 * 1.2 * dy2;\r\n      controlPoint22.x = sourceX + 0.75 * 0.8 * dx2;\r\n      controlPoint22.y = sourceY + 0.75 * 1.0 * dy2;\r\n    }\r\n  \r\n    const g = d3.select('svg').select('#sumGroup').append(\"g\").attr('id', 'line' + String(body_num_source) + '_' + String(body_num_target)).attr('class', 'drawer');\r\n  \r\n    const paddingL = 17;\r\n\r\n    g.attr(\"sourceid\", sourceid)\r\n      .attr(\"targetid\", targetid)\r\n      .attr(\"locationTransform\", locationTransform)\r\n      .attr(\"body_num_source\", body_num_source)\r\n      .attr(\"body_num_target\", body_num_target)\r\n      .attr(\"color\", color);\r\n\r\n    let data1 = [\r\n      {x: sourceX, y: sourceY},\r\n      {x: controlPoint11.x, y: controlPoint11.y},\r\n      {x: controlPoint12.x, y: controlPoint12.y},\r\n      {x: targetX1, y: targetY1 + paddingL}\r\n    ];\r\n\r\n    let data2 = [\r\n      {x: sourceX, y: sourceY},\r\n      {x: controlPoint21.x, y: controlPoint21.y},\r\n      {x: controlPoint22.x, y: controlPoint22.y},\r\n      {x: targetX2, y: targetY2 - paddingL}\r\n    ];\r\n\r\n    if (direction===\"down\") {\r\n      data1 = [\r\n        {x: sourceX, y: sourceY},\r\n        {x: controlPoint11.x, y: controlPoint11.y},\r\n        {x: controlPoint12.x, y: controlPoint12.y},\r\n        {x: targetX1 + paddingL, y: targetY1}\r\n      ];\r\n  \r\n      data2 = [\r\n        {x: sourceX, y: sourceY},\r\n        {x: controlPoint21.x, y: controlPoint21.y},\r\n        {x: controlPoint22.x, y: controlPoint22.y},\r\n        {x: targetX2 - paddingL, y: targetY2}\r\n      ];\r\n    }\r\n    console.log(data1,data2);\r\n    let lineGenerator = d3.line()\r\n      .x(function(d) { return d.x; })\r\n      .y(function(d) { return d.y; })\r\n      .curve(d3.curveBasis);\r\n  \r\n    let pathString1 = lineGenerator(data1);\r\n    let pathElement1 = document.createElementNS('http://www.w3.org/2000/svg', 'path');\r\n    pathElement1.setAttribute('d', pathString1);\r\n\r\n    let pathString2 = lineGenerator(data2);\r\n    let pathElement2 = document.createElementNS('http://www.w3.org/2000/svg', 'path');\r\n    pathElement2.setAttribute('d', pathString2);\r\n    \r\n    let totalLength1 = pathElement1.getTotalLength();\r\n    let totalLength2 = pathElement2.getTotalLength();\r\n\r\n    const numPoints = 500;\r\n\r\n    let points1 = [];\r\n    for (let i = 0; i < numPoints; i++) {\r\n        let point = pathElement1.getPointAtLength(i * totalLength1 / (numPoints - 1));\r\n        points1.push({x: point.x, y: point.y});\r\n    }\r\n\r\n    let points2 = [];\r\n    for (let i = 0; i < numPoints; i++) {\r\n        let point = pathElement2.getPointAtLength(i * totalLength2 / (numPoints - 1));\r\n        points2.push({x: point.x, y: point.y});\r\n    }\r\n\r\n    // x\r\n    let xScale1 = d3.scaleLinear()\r\n    .domain(d3.extent(data1, function(d) { return d.x; }))\r\n    .range([0, dx1]); // widthSVG\r\n\r\n    // x\r\n    let bisect1 = d3.bisector(function(d) { return d.x; }).left;\r\n\r\n    // x\r\n    let xScale2 = d3.scaleLinear()\r\n    .domain(d3.extent(data2, function(d) { return d.x; }))\r\n    .range([0, dx1]); // widthSVG\r\n\r\n    // x\r\n    let bisect2 = d3.bisector(function(d) { return d.x; }).left;\r\n\r\n    if (direction===\"down\") {\r\n      // y\r\n      xScale1 = d3.scaleLinear()\r\n      .domain(d3.extent(data1, function(d) { return d.y; }))\r\n      .range([0, dy1]);\r\n\r\n      // y\r\n      bisect1 = d3.bisector(function(d) { return d.y; }).left;\r\n\r\n      // y\r\n      xScale2 = d3.scaleLinear()\r\n      .domain(d3.extent(data2, function(d) { return d.y; }))\r\n      .range([0, dy1]);\r\n\r\n      // y\r\n      bisect2 = d3.bisector(function(d) { return d.y; }).left;\r\n    }\r\n    let area1 = d3.area()\r\n      .x(function(d) { return d.x; })\r\n      .y0( d => {\r\n        const xValue = d.x;\r\n        let indexOfNode = bisect1(points1, xScale1.invert(xValue));\r\n        if(indexOfNode >= points1.length - 1) indexOfNode = points1.length - 2;\r\n        if(indexOfNode < 1) indexOfNode = 1;\r\n        let pointBefore = points1[indexOfNode - 1];\r\n        let pointAfter = points1[indexOfNode + 1];\r\n        let slope = Math.abs((pointAfter.y - pointBefore.y) / (pointAfter.x - pointBefore.x));\r\n        let linewidth = 6 * Math.pow(((d.x - sourceX + 2) / dx1), 0.38);\r\n        return d.y - Math.sqrt(1+slope**2) * linewidth;\r\n      })\r\n      .y1( d => {\r\n        const xValue = d.x;\r\n        let indexOfNode = bisect1(points1, xScale1.invert(xValue));\r\n        if(indexOfNode >= points1.length - 1) indexOfNode = points1.length - 2;\r\n        if(indexOfNode < 1) indexOfNode = 1;\r\n        let pointBefore = points1[indexOfNode - 1];\r\n        let pointAfter = points1[indexOfNode + 1];\r\n        let slope = Math.abs((pointAfter.y - pointBefore.y) / (pointAfter.x - pointBefore.x));\r\n        let linewidth = 6 * Math.pow(((d.x - sourceX + 2) / dx1), 0.38);\r\n        return d.y + Math.sqrt(1+slope**2) * linewidth;\r\n      })\r\n      .curve(d3.curveBasis);\r\n\r\n    let area2 = d3.area()\r\n      .x(function(d) { return d.x; })\r\n      .y0( d => {\r\n        const xValue = d.x;\r\n        let indexOfNode = bisect2(points2, xScale2.invert(xValue));\r\n        if(indexOfNode >= points2.length - 1) indexOfNode = points2.length - 2;\r\n        if(indexOfNode < 1) indexOfNode = 1;\r\n        let pointBefore = points2[indexOfNode - 1];\r\n        let pointAfter = points2[indexOfNode + 1];\r\n        let slope = Math.abs((pointAfter.y - pointBefore.y) / (pointAfter.x - pointBefore.x));\r\n        let linewidth = 6 * Math.pow(((d.x - sourceX + 2) / dx2), 0.38);\r\n        return d.y - Math.sqrt(1+slope**2) * linewidth;\r\n      })\r\n      .y1(d => {\r\n        const xValue = d.x;\r\n        let indexOfNode = bisect2(points2, xScale2.invert(xValue));\r\n        if(indexOfNode >= points2.length - 1) indexOfNode = points2.length - 2;\r\n        if(indexOfNode < 1) indexOfNode = 1;\r\n        let pointBefore = points2[indexOfNode - 1];\r\n        let pointAfter = points2[indexOfNode + 1];\r\n        let slope = Math.abs((pointAfter.y - pointBefore.y) / (pointAfter.x - pointBefore.x));\r\n        let linewidth = 6 * Math.pow(((d.x - sourceX + 2) / dx2), 0.38);\r\n        return d.y + Math.sqrt(1+slope**2) * linewidth;\r\n      })\r\n      .curve(d3.curveBasis);\r\n\r\n    if (direction===\"down\") {\r\n      area1 = d3.area()\r\n        .y(function(d) { return d.y; })\r\n        .x0( d => {\r\n          const yValue = d.y;\r\n          let indexOfNode = bisect1(points1, xScale1.invert(yValue));\r\n          if(indexOfNode >= points1.length - 1) indexOfNode = points1.length - 2;\r\n          if(indexOfNode < 1) indexOfNode = 1;\r\n          let pointBefore = points1[indexOfNode - 1];\r\n          let pointAfter = points1[indexOfNode + 1];\r\n          let slope = Math.abs((pointAfter.x - pointBefore.x) / (pointAfter.y - pointBefore.y));\r\n          // let slope = 0;\r\n          let linewidth = 6 * Math.pow(((d.y - sourceY + 2) / dy1), 0.38);\r\n          return d.x - Math.sqrt(1+slope**2) * linewidth;\r\n        })\r\n        .x1( d => {\r\n          const yValue = d.y;\r\n          let indexOfNode = bisect1(points1, xScale1.invert(yValue));\r\n          if(indexOfNode >= points1.length - 1) indexOfNode = points1.length - 2;\r\n          if(indexOfNode < 1) indexOfNode = 1;\r\n          let pointBefore = points1[indexOfNode - 1];\r\n          let pointAfter = points1[indexOfNode + 1];\r\n          let slope = Math.abs((pointAfter.x - pointBefore.x) / (pointAfter.y - pointBefore.y));\r\n          // let slope = 0;\r\n          let linewidth = 6 * Math.pow(((d.y - sourceY + 2) / dy1), 0.38);\r\n          return d.x + Math.sqrt(1+slope**2) * linewidth;\r\n        })\r\n        .curve(d3.curveBasis);\r\n\r\n      area2 = d3.area()\r\n        .y(function(d) { return d.y; })\r\n        .x0( d => {\r\n          const yValue = d.y;\r\n          let indexOfNode = bisect2(points2, xScale2.invert(yValue));\r\n          if(indexOfNode >= points2.length - 1) indexOfNode = points2.length - 2;\r\n          if(indexOfNode < 1) indexOfNode = 1;\r\n          let pointBefore = points2[indexOfNode - 1];\r\n          let pointAfter = points2[indexOfNode + 1];\r\n          let slope = Math.abs((pointAfter.x - pointBefore.x) / (pointAfter.y - pointBefore.y));\r\n          // let slope = 0;\r\n          let linewidth = 6 * Math.pow(((d.y - sourceY + 2) / dy2), 0.38);\r\n          return d.x - Math.sqrt(1+slope**2) * linewidth;\r\n        })\r\n        .x1(d => {\r\n          const yValue = d.y;\r\n          let indexOfNode = bisect2(points2, xScale2.invert(yValue));\r\n          if(indexOfNode >= points2.length - 1) indexOfNode = points2.length - 2;\r\n          if(indexOfNode < 1) indexOfNode = 1;\r\n          let pointBefore = points2[indexOfNode - 1];\r\n          let pointAfter = points2[indexOfNode + 1];\r\n          let slope = Math.abs((pointAfter.x - pointBefore.x) / (pointAfter.y - pointBefore.y));\r\n          // let slope = 0;\r\n          let linewidth = 6 * Math.pow(((d.y - sourceY + 2) / dy2), 0.38);\r\n          return d.x + Math.sqrt(1+slope**2) * linewidth;\r\n        })\r\n        .curve(d3.curveBasis);\r\n    }\r\n    // console.log(area1,area2);\r\n\r\n    let path1 = g.append(\"path\")\r\n    .datum(data1)\r\n    .attr(\"d\", area1)\r\n    .attr('id', 'path1')\r\n    .attr(\"fill\", color);\r\n  \r\n    let path2 = g.append(\"path\")\r\n    .datum(data2)\r\n    .attr(\"d\", area2)\r\n    .attr('id', 'path2')\r\n    .attr(\"fill\", color);\r\n\r\n    d3.select(\"#boxid\" + body_num_source).selectAll(\"rect\").each(function(d,i){\r\n      const currentNode = d3.select(this);\r\n      const currentNodeId = currentNode.attr(\"id\");\r\n      if (currentNodeId !== sourceid) {\r\n        const currentNodeBody = currentNode.attr(\"data-body\");\r\n        if (currentNodeBody !== undefined && currentNodeBody !== null && currentNodeBody === body_num_target.split('-')[1] ) {\r\n          currentNode.attr(\"data-opened\", true);\r\n          const sourceXforSL = Number(currentNode.attr('x')) + Number(currentNode.attr('width'));\r\n          const sourceYforSL = Number(currentNode.attr('y')) + Number(currentNode.attr('height')) / 2;\r\n          const targetXforSL= Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0];\r\n          const targetYforSL = Number(d3.select(\"#\" + targetid).attr('y')) + locationTransform[1] + Number(d3.select(\"#\" + targetid).attr('height')) / 2;\r\n          g.append(\"circle\")\r\n            .attr(\"cx\", targetXforSL)\r\n            .attr(\"cy\", targetYforSL)\r\n            .attr(\"r\", 7)  // \r\n            .attr(\"fill\", color);  // \r\n\r\n          g.append(\"line\")\r\n            .attr(\"x1\", sourceXforSL)\r\n            .attr(\"y1\", sourceYforSL)\r\n            .attr(\"x2\", targetXforSL)\r\n            .attr(\"y2\", targetYforSL)\r\n            .attr(\"stroke-width\", 3)  // \r\n            .attr(\"stroke\", color)  // \r\n            .attr(\"stroke-dasharray\", \"5,5\")  // \"5,5\"\r\n            .attr(\"marker-end\", \"url(#arrow)\")  // \r\n            .attr(\"class\", \"arrowLine\");\r\n        }\r\n      }\r\n    })\r\n\r\n  }\r\n  \r\nexport function updateLines(sourceid, targetid, locationTransform, body_num_source, body_num_target, color, lineID, direction) {\r\n    // console.log(\"sourceid, \", sourceid);\r\n    // console.log(\"targetid, \", targetid);\r\n    // console.log(\"locationTransform, \", locationTransform);\r\n    // console.log(\"body_num_source, \", body_num_source);\r\n    // console.log(\"body_num_target, \", body_num_target);\r\n    // console.log(\"color, \", color);\r\n\r\n    let sourceX = Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('x')) + Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('width'));\r\n    let sourceY = Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('y')) + Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('height')) / 2;\r\n    let targetX1 = Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0];\r\n    let targetX2= Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0];\r\n    let targetY1 = Number(d3.select(\"#\" + targetid).attr('y')) + locationTransform[1];\r\n    let targetY2 = Number(d3.select(\"#\" + targetid).attr('y')) + Number(d3.select(\"#\" + targetid).attr('height')) + locationTransform[1];\r\n    let dx1 = targetX1 - sourceX;\r\n    let dy1 = targetY1 - sourceY;\r\n    let dx2 = targetX2 - sourceX;\r\n    let dy2 = targetY2 - sourceY;\r\n    let controlPoint11 = {};\r\n    let controlPoint12 = {};\r\n    let controlPoint21 = {};\r\n    let controlPoint22 = {};\r\n    controlPoint11.x = sourceX + 0.25 * 1.5 * dx1;\r\n    controlPoint11.y = sourceY + 0.25 * 1.2 * dy1;\r\n    controlPoint12.x = sourceX + 0.75 * 0.8 * dx1;\r\n    controlPoint12.y = sourceY + 0.75 * 1.0 * dy1;\r\n    controlPoint21.x = sourceX + 0.25 * 1.5 * dx2;\r\n    controlPoint21.y = sourceY + 0.25 * 1.2 * dy2;\r\n    controlPoint22.x = sourceX + 0.75 * 0.8 * dx2;\r\n    controlPoint22.y = sourceY + 0.75 * 1.0 * dy2;\r\n    if (direction === \"down\") {\r\n      sourceX = Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('x')) + Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('width')) / 2;\r\n      sourceY = Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('y')) + Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('height'));\r\n      targetX1 = Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0];\r\n      targetX2= Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0] + Number(d3.select(\"#\" + targetid).attr('width'));\r\n      targetY1 = Number(d3.select(\"#\" + targetid).attr('y')) + locationTransform[1];\r\n      targetY2 = Number(d3.select(\"#\" + targetid).attr('y')) + locationTransform[1];\r\n      dx1 = targetX1 - sourceX;\r\n      dy1 = targetY1 - sourceY;\r\n      dx2 = targetX2 - sourceX;\r\n      dy2 = targetY2 - sourceY;\r\n      controlPoint11 = {};\r\n      controlPoint12 = {};\r\n      controlPoint21 = {};\r\n      controlPoint22 = {};\r\n      controlPoint11.x = sourceX + 0.25 * 1.5 * dx1;\r\n      controlPoint11.y = sourceY + 0.25 * 1.2 * dy1;\r\n      controlPoint12.x = sourceX + 0.75 * 0.8 * dx1;\r\n      controlPoint12.y = sourceY + 0.75 * 1.0 * dy1;\r\n      controlPoint21.x = sourceX + 0.25 * 1.5 * dx2;\r\n      controlPoint21.y = sourceY + 0.25 * 1.2 * dy2;\r\n      controlPoint22.x = sourceX + 0.75 * 0.8 * dx2;\r\n      controlPoint22.y = sourceY + 0.75 * 1.0 * dy2;\r\n    }\r\n    const g = d3.select('#' + lineID);\r\n\r\n    const paddingL = 17;\r\n\r\n    g.attr(\"sourceid\", sourceid)\r\n        .attr(\"targetid\", targetid)\r\n        .attr(\"locationTransform\", locationTransform)\r\n        .attr(\"body_num_source\", body_num_source)\r\n        .attr(\"body_num_target\", body_num_target)\r\n        .attr(\"color\", color);\r\n\r\n\r\n    let data1 = [\r\n      {x: sourceX, y: sourceY},\r\n      {x: controlPoint11.x, y: controlPoint11.y},\r\n      {x: controlPoint12.x, y: controlPoint12.y},\r\n      {x: targetX1, y: targetY1 + paddingL}\r\n    ];\r\n\r\n    let data2 = [\r\n      {x: sourceX, y: sourceY},\r\n      {x: controlPoint21.x, y: controlPoint21.y},\r\n      {x: controlPoint22.x, y: controlPoint22.y},\r\n      {x: targetX2, y: targetY2 - paddingL}\r\n    ];\r\n\r\n    if (direction===\"down\") {\r\n      data1 = [\r\n        {x: sourceX, y: sourceY},\r\n        {x: controlPoint11.x, y: controlPoint11.y},\r\n        {x: controlPoint12.x, y: controlPoint12.y},\r\n        {x: targetX1 + paddingL, y: targetY1}\r\n      ];\r\n  \r\n      data2 = [\r\n        {x: sourceX, y: sourceY},\r\n        {x: controlPoint21.x, y: controlPoint21.y},\r\n        {x: controlPoint22.x, y: controlPoint22.y},\r\n        {x: targetX2 - paddingL, y: targetY2}\r\n      ];\r\n    }\r\n\r\n    let lineGenerator = d3.line()\r\n      .x(function(d) { return d.x; })\r\n      .y(function(d) { return d.y; })\r\n      .curve(d3.curveBasis);\r\n  \r\n    let pathString1 = lineGenerator(data1);\r\n    let pathElement1 = document.createElementNS('http://www.w3.org/2000/svg', 'path');\r\n    pathElement1.setAttribute('d', pathString1);\r\n\r\n    let pathString2 = lineGenerator(data2);\r\n    let pathElement2 = document.createElementNS('http://www.w3.org/2000/svg', 'path');\r\n    pathElement2.setAttribute('d', pathString2);\r\n    \r\n    let totalLength1 = pathElement1.getTotalLength();\r\n    let totalLength2 = pathElement2.getTotalLength();\r\n\r\n    const numPoints = 500;\r\n\r\n    let points1 = [];\r\n    for (let i = 0; i < numPoints; i++) {\r\n        let point = pathElement1.getPointAtLength(i * totalLength1 / (numPoints - 1));\r\n        points1.push({x: point.x, y: point.y});\r\n    }\r\n\r\n    let points2 = [];\r\n    for (let i = 0; i < numPoints; i++) {\r\n        let point = pathElement2.getPointAtLength(i * totalLength2 / (numPoints - 1));\r\n        points2.push({x: point.x, y: point.y});\r\n    }\r\n\r\n    // x\r\n    let xScale1 = d3.scaleLinear()\r\n    .domain(d3.extent(data1, function(d) { return d.x; }))\r\n    .range([0, dx1]); // widthSVG\r\n\r\n    // x\r\n    let bisect1 = d3.bisector(function(d) { return d.x; }).left;\r\n\r\n    // x\r\n    let xScale2 = d3.scaleLinear()\r\n    .domain(d3.extent(data2, function(d) { return d.x; }))\r\n    .range([0, dx1]); // widthSVG\r\n\r\n    // x\r\n    let bisect2 = d3.bisector(function(d) { return d.x; }).left;\r\n\r\n    if (direction===\"down\") {\r\n      // y\r\n      xScale1 = d3.scaleLinear()\r\n      .domain(d3.extent(data1, function(d) { return d.y; }))\r\n      .range([0, dy1]);\r\n\r\n      // y\r\n      bisect1 = d3.bisector(function(d) { return d.y; }).left;\r\n\r\n      // y\r\n      xScale2 = d3.scaleLinear()\r\n      .domain(d3.extent(data2, function(d) { return d.y; }))\r\n      .range([0, dy1]);\r\n\r\n      // y\r\n      bisect2 = d3.bisector(function(d) { return d.y; }).left;\r\n    }\r\n    let area1 = d3.area()\r\n      .x(function(d) { return d.x; })\r\n      .y0( d => {\r\n        const xValue = d.x;\r\n        let indexOfNode = bisect1(points1, xScale1.invert(xValue));\r\n        if(indexOfNode >= points1.length - 1) indexOfNode = points1.length - 2;\r\n        if(indexOfNode < 1) indexOfNode = 1;\r\n        let pointBefore = points1[indexOfNode - 1];\r\n        let pointAfter = points1[indexOfNode + 1];\r\n        let slope = Math.abs((pointAfter.y - pointBefore.y) / (pointAfter.x - pointBefore.x));\r\n        let linewidth = 6 * Math.pow(((d.x - sourceX + 2) / dx1), 0.38);\r\n        return d.y - Math.sqrt(1+slope**2) * linewidth;\r\n      })\r\n      .y1( d => {\r\n        const xValue = d.x;\r\n        let indexOfNode = bisect1(points1, xScale1.invert(xValue));\r\n        if(indexOfNode >= points1.length - 1) indexOfNode = points1.length - 2;\r\n        if(indexOfNode < 1) indexOfNode = 1;\r\n        let pointBefore = points1[indexOfNode - 1];\r\n        let pointAfter = points1[indexOfNode + 1];\r\n        let slope = Math.abs((pointAfter.y - pointBefore.y) / (pointAfter.x - pointBefore.x));\r\n        let linewidth = 6 * Math.pow(((d.x - sourceX + 2) / dx1), 0.38);\r\n        return d.y + Math.sqrt(1+slope**2) * linewidth;\r\n      })\r\n      .curve(d3.curveBasis);\r\n\r\n    let area2 = d3.area()\r\n      .x(function(d) { return d.x; })\r\n      .y0( d => {\r\n        const xValue = d.x;\r\n        let indexOfNode = bisect2(points2, xScale2.invert(xValue));\r\n        if(indexOfNode >= points2.length - 1) indexOfNode = points2.length - 2;\r\n        if(indexOfNode < 1) indexOfNode = 1;\r\n        let pointBefore = points2[indexOfNode - 1];\r\n        let pointAfter = points2[indexOfNode + 1];\r\n        let slope = Math.abs((pointAfter.y - pointBefore.y) / (pointAfter.x - pointBefore.x));\r\n        let linewidth = 6 * Math.pow(((d.x - sourceX + 2) / dx1), 0.38);\r\n        return d.y - Math.sqrt(1+slope**2) * linewidth;\r\n      })\r\n      .y1(d => {\r\n        const xValue = d.x;\r\n        let indexOfNode = bisect2(points2, xScale2.invert(xValue));\r\n        if(indexOfNode >= points2.length - 1) indexOfNode = points2.length - 2;\r\n        if(indexOfNode < 1) indexOfNode = 1;\r\n        let pointBefore = points2[indexOfNode - 1];\r\n        let pointAfter = points2[indexOfNode + 1];\r\n        let slope = Math.abs((pointAfter.y - pointBefore.y) / (pointAfter.x - pointBefore.x));\r\n        let linewidth = 6 * Math.pow(((d.x - sourceX + 2) / dx1), 0.38);\r\n        return d.y + Math.sqrt(1+slope**2) * linewidth;\r\n      })\r\n      .curve(d3.curveBasis);\r\n\r\n    if (direction===\"down\") {\r\n      area1 = d3.area()\r\n        .y(function(d) { return d.y; })\r\n        .x0( d => {\r\n          const yValue = d.y;\r\n          let indexOfNode = bisect1(points1, xScale1.invert(yValue));\r\n          if(indexOfNode >= points1.length - 1) indexOfNode = points1.length - 2;\r\n          if(indexOfNode < 1) indexOfNode = 1;\r\n          let pointBefore = points1[indexOfNode - 1];\r\n          let pointAfter = points1[indexOfNode + 1];\r\n          let slope = Math.abs((pointAfter.x - pointBefore.x) / (pointAfter.y - pointBefore.y));\r\n          // let slope = 0;\r\n          let linewidth = 6 * Math.pow(((d.y - sourceY + 2) / dy1), 0.38);\r\n          return d.x - Math.sqrt(1+slope**2) * linewidth;\r\n        })\r\n        .x1( d => {\r\n          const yValue = d.y;\r\n          let indexOfNode = bisect1(points1, xScale1.invert(yValue));\r\n          if(indexOfNode >= points1.length - 1) indexOfNode = points1.length - 2;\r\n          if(indexOfNode < 1) indexOfNode = 1;\r\n          let pointBefore = points1[indexOfNode - 1];\r\n          let pointAfter = points1[indexOfNode + 1];\r\n          let slope = Math.abs((pointAfter.x - pointBefore.x) / (pointAfter.y - pointBefore.y));\r\n          // let slope = 0;\r\n          let linewidth = 6 * Math.pow(((d.y - sourceY + 2) / dy1), 0.38);\r\n          return d.x + Math.sqrt(1+slope**2) * linewidth;\r\n        })\r\n        .curve(d3.curveBasis);\r\n\r\n      area2 = d3.area()\r\n        .y(function(d) { return d.y; })\r\n        .x0( d => {\r\n          const yValue = d.y;\r\n          let indexOfNode = bisect2(points2, xScale2.invert(yValue));\r\n          if(indexOfNode >= points2.length - 1) indexOfNode = points2.length - 2;\r\n          if(indexOfNode < 1) indexOfNode = 1;\r\n          let pointBefore = points2[indexOfNode - 1];\r\n          let pointAfter = points2[indexOfNode + 1];\r\n          let slope = Math.abs((pointAfter.x - pointBefore.x) / (pointAfter.y - pointBefore.y));\r\n          // let slope = 0;\r\n          let linewidth = 6 * Math.pow(((d.y - sourceY + 2) / dy2), 0.38);\r\n          return d.x - Math.sqrt(1+slope**2) * linewidth;\r\n        })\r\n        .x1(d => {\r\n          const yValue = d.y;\r\n          let indexOfNode = bisect2(points2, xScale2.invert(yValue));\r\n          if(indexOfNode >= points2.length - 1) indexOfNode = points2.length - 2;\r\n          if(indexOfNode < 1) indexOfNode = 1;\r\n          let pointBefore = points2[indexOfNode - 1];\r\n          let pointAfter = points2[indexOfNode + 1];\r\n          let slope = Math.abs((pointAfter.x - pointBefore.x) / (pointAfter.y - pointBefore.y));\r\n          // let slope = 0;\r\n          let linewidth = 6 * Math.pow(((d.y - sourceY + 2) / dy2), 0.38);\r\n          return d.x + Math.sqrt(1+slope**2) * linewidth;\r\n        })\r\n        .curve(d3.curveBasis);\r\n    }\r\n    let path1 = g.select(\"#path1\")\r\n    .datum(data1)\r\n    .transition()\r\n    .duration(720)\r\n    .attr(\"d\", area1)\r\n    .attr(\"fill\", color);\r\n\r\n    let path2 = g.select(\"#path2\")\r\n    .datum(data2)\r\n    .transition()\r\n    .duration(720)\r\n    .attr(\"d\", area2)\r\n    .attr(\"fill\", color);\r\n\r\n    d3.select(\"#boxid\" + body_num_source).selectAll(\"rect\").each(function(d,i){\r\n      const currentNode = d3.select(this);\r\n      const currentNodeId = currentNode.attr(\"id\");\r\n      if (currentNodeId !== sourceid) {\r\n        const currentNodeBody = currentNode.attr(\"data-body\");\r\n        if (currentNodeBody !== undefined && currentNodeBody !== null && currentNodeBody === body_num_target.split('-')[1] ) {\r\n          const sourceXforSL = Number(currentNode.attr('x')) + Number(currentNode.attr('width'));\r\n          const sourceYforSL = Number(currentNode.attr('y')) + Number(currentNode.attr('height')) / 2;\r\n          const targetXforSL= Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0];\r\n          const targetYforSL = Number(d3.select(\"#\" + targetid).attr('y')) + locationTransform[1] + Number(d3.select(\"#\" + targetid).attr('height')) / 2;\r\n          g.select(\"circle\")\r\n            .transition()\r\n            .duration(720)\r\n            .attr(\"cx\", targetXforSL)\r\n            .attr(\"cy\", targetYforSL)\r\n            .attr(\"r\", 7)  // \r\n            .attr(\"fill\", color);  // \r\n\r\n          g.select(\"line\")\r\n            .transition()\r\n            .duration(720)\r\n            .attr(\"x1\", sourceXforSL)\r\n            .attr(\"y1\", sourceYforSL)\r\n            .attr(\"x2\", targetXforSL)\r\n            .attr(\"y2\", targetYforSL)\r\n            .attr(\"stroke-width\", 3)  // \r\n            .attr(\"stroke\", color)  // \r\n            .attr(\"stroke-dasharray\", \"5,5\")  // \"5,5\"\r\n            .attr(\"marker-end\", \"url(#arrow)\")  // \r\n            .attr(\"class\", \"arrowLine\");\r\n        }\r\n      }\r\n      \r\n    })\r\n}\r\n\r\nexport function drawLinesDashArrow(treeLayout, sourceID, targetID, color, label, direction) {\r\n  // d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr(\"data-opened\", \"true\");\r\n  const sourceFrame = \"frame\" + sourceID;\r\n  const targetFrame = \"frame\" + targetID;\r\n  let dx = treeLayout[targetID][0] - treeLayout[sourceID][0] - Number(d3.select(\"#\" + sourceFrame).attr('width'));\r\n  let dy = treeLayout[targetID][1] - treeLayout[sourceID][1];\r\n  let sourceX = Number(d3.select(\"#\" + sourceFrame).attr('x')) + Number(d3.select(\"#\" + sourceFrame).attr('width'));\r\n  let sourceY = Number(d3.select(\"#\" + sourceFrame).attr('y')) + Number(d3.select(\"#\" + sourceFrame).attr('height')) / 2;\r\n  let targetX = sourceX + dx;\r\n  let targetY = sourceY + dy;\r\n  if (direction===\"down\") {\r\n    sourceX = Number(d3.select(\"#\" + sourceFrame).attr('x')) + Number(d3.select(\"#\" + sourceFrame).attr('width')) / 2;\r\n    sourceY = Number(d3.select(\"#\" + sourceFrame).attr('y')) + Number(d3.select(\"#\" + sourceFrame).attr('height'));\r\n    dx = treeLayout[targetID][0] - treeLayout[sourceID][0];\r\n    dy = treeLayout[targetID][1] - treeLayout[sourceID][1] - Number(d3.select(\"#\" + sourceFrame).attr('height'));\r\n    targetX = sourceX + dx;\r\n    targetY = sourceY + dy;\r\n  }\r\n  const g = d3.select('svg').select('#sumGroup').append(\"g\").attr('id', 'line' + String(sourceID) + '_' + String(targetID)).attr(\"line-type\", \"dashed\").attr('class', 'drawer');\r\n  const paddingL = 17;\r\n  g.append(\"defs\")\r\n    .append(\"marker\")\r\n    .attr(\"id\", \"arrow\")\r\n    .attr(\"markerWidth\", 5)  // \r\n    .attr(\"markerHeight\", 3.5)  // \r\n    .attr(\"refX\", 5)  // \r\n    .attr(\"refY\", 1.75)  // \r\n    .attr(\"orient\", \"auto\")\r\n    .append(\"path\")\r\n    .attr(\"d\", \"M0,0 L5,1.75 L0,3.5 Z\")  // \r\n  .style(\"fill\", \"gray\");\r\n  g.append(\"line\")\r\n    .attr(\"x1\", sourceX)\r\n    .attr(\"y1\", sourceY)\r\n    .attr(\"x2\", targetX)\r\n    .attr(\"y2\", targetY)\r\n    .attr(\"stroke-width\", 5)  // \r\n    .attr(\"stroke\", color)  // \r\n    .attr(\"stroke-dasharray\", \"5,5\")  // \"5,5\"\r\n    .attr(\"marker-end\", \"url(#arrow)\")  // \r\n    .attr(\"class\", \"arrowLine\");\r\n  let midX = (sourceX + targetX) / 2 - 45;\r\n  let midY = (sourceY + targetY) / 2 - 5;\r\n  g.append(\"text\")\r\n    .attr(\"x\", midX)\r\n    .attr(\"y\", midY)\r\n    .text(label)\r\n    .style(\"font-size\", \"30px\")  // \r\n    .style(\"fill\", \"black\");  // \r\n}\r\n\r\nexport function updateLinesDashArrow(treeLayout, sourceID, targetID, color, label, lineID, direction) {\r\n  // d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr(\"data-opened\", \"true\");\r\n  let sourceFrame = \"frame\" + sourceID;\r\n  let targetFrame = \"frame\" + targetID;\r\n  let dx = treeLayout[targetID][0] - treeLayout[sourceID][0] - Number(d3.select(\"#\" + sourceFrame).attr('width'));\r\n  let dy = treeLayout[targetID][1] - treeLayout[sourceID][1];\r\n  let sourceX = Number(d3.select(\"#\" + sourceFrame).attr('x')) + Number(d3.select(\"#\" + sourceFrame).attr('width'));\r\n  let sourceY = Number(d3.select(\"#\" + sourceFrame).attr('y')) + Number(d3.select(\"#\" + sourceFrame).attr('height')) / 2;\r\n  let targetX = sourceX + dx;\r\n  let targetY = sourceY + dy;\r\n  if (direction===\"down\") {\r\n    sourceX = Number(d3.select(\"#\" + sourceFrame).attr('x')) + Number(d3.select(\"#\" + sourceFrame).attr('width')) / 2;\r\n    sourceY = Number(d3.select(\"#\" + sourceFrame).attr('y')) + Number(d3.select(\"#\" + sourceFrame).attr('height'));\r\n    dx = treeLayout[targetID][0] - treeLayout[sourceID][0];\r\n    dy = treeLayout[targetID][1] - treeLayout[sourceID][1] - Number(d3.select(\"#\" + sourceFrame).attr('height'));\r\n    targetX = sourceX + dx;\r\n    targetY = sourceY + dy;\r\n  }\r\n  const g = d3.select('svg').select('#sumGroup').select(\"#\" + lineID);\r\n  g.select(\"line\")\r\n    .transition()\r\n    .duration(720)\r\n    .attr(\"x1\", sourceX)\r\n    .attr(\"y1\", sourceY)\r\n    .attr(\"x2\", targetX)\r\n    .attr(\"y2\", targetY)\r\n    .attr(\"stroke-width\", 5)  // \r\n    .attr(\"stroke\", color)  // \r\n    .attr(\"stroke-dasharray\", \"5,5\")  // \"5,5\"\r\n    .attr(\"marker-end\", \"url(#arrow)\")  // \r\n    .attr(\"class\", \"arrowLine\");\r\n  let midX = (sourceX + targetX) / 2 - 45;\r\n  let midY = (sourceY + targetY) / 2 - 5;\r\n  g.select(\"text\")\r\n    .transition()\r\n    .duration(720)\r\n    .attr(\"x\", midX)\r\n    .attr(\"y\", midY)\r\n    .text(label)\r\n    .style(\"font-size\", \"30px\")  // \r\n    .style(\"fill\", \"black\");  // \r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/drawlines.js","/* eslint-disable */\r\nimport * as d3 from \"d3\";\r\n\r\nexport function arraysAreEqual(array1, array2) {\r\n    if (array1.length !== array2.length) {\r\n        return false;\r\n    }\r\n    for (var i = 0; i < array1.length; i++) {\r\n        if (array1[i] !== array2[i]) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\nexport function loopOverHierarchy(d, callback) {\r\n    callback(d);\r\n    if (d.children) d.children.forEach(c => loopOverHierarchy(c, callback));\r\n    if (d._children) d._children.forEach(c => loopOverHierarchy(c, callback));\r\n  }\r\n\r\nfunction getChildren(hierarchies, childrens) {\r\n  console.log(childrens);\r\n  childrens.forEach(function(element){\r\n    var children = hierarchies;\r\n    var zoomin = 2;\r\n    element.path.forEach(function(node){\r\n        if (Number(node) !== 0) {\r\n            if (zoomin <= element.path.length - 1) {\r\n                // debugger\r\n                const filterChild = children.children.filter(function(item){\r\n                    return Number(item.name) === Number(node);\r\n                })[0]\r\n                zoomin += 1\r\n                children = filterChild;\r\n            }\r\n            else if (node === element.path[element.path.length - 1]) {\r\n                // debugger\r\n                if (children.hasOwnProperty(\"children\")) {\r\n                    children.children.push(element);\r\n                    sortByOName(children.children);\r\n                } else {\r\n                    children.children = [ element ];\r\n                }\r\n            }\r\n        }\r\n  })\r\n})\r\n}\r\n\r\nexport function findChildrenAtSameLevel(arr) {\r\n  const paths = {};\r\n\r\n  for (let i = 0; i < arr.length; i++) {\r\n    const path = arr[i];\r\n    const lastIndex = path.lastIndexOf('-');\r\n\r\n    if (lastIndex !== -1) {\r\n      const parentPath = path.slice(0, lastIndex);\r\n\r\n      if (!paths[parentPath]) {\r\n        paths[parentPath] = [];\r\n      }\r\n\r\n      paths[parentPath].push(path);\r\n    }\r\n  }\r\n\r\n  const similarPaths = Object.values(paths).filter(pathGroup => pathGroup.length > 1);\r\n\r\n  return similarPaths;\r\n}\r\n\r\nfunction sortByOName(arr) {\r\n    return arr.sort((a, b) => {\r\n        const aNums = a.oName.split('-').map(Number);\r\n        const bNums = b.oName.split('-').map(Number);\r\n\r\n        // \r\n        for(let i = 0; i < aNums.length; i++) {\r\n            if (aNums[i] < bNums[i]) {\r\n                return -1;\r\n            } else if (aNums[i] > bNums[i]) {\r\n                return 1;\r\n            }\r\n            // \r\n        }\r\n\r\n        // 0\r\n        return 0;\r\n    });\r\n}\r\n\r\nexport function autoTranslate() {\r\n    let gs = d3.select('svg').selectAll('g');\r\n\r\n    let tops = [], lefts = [], rights = [], bottoms = [];\r\n    \r\n    gs.each(function() {\r\n        let rect = this.getBoundingClientRect();\r\n    \r\n        tops.push(rect.top);\r\n        lefts.push(rect.left);\r\n        rights.push(rect.right);\r\n        bottoms.push(rect.bottom);\r\n    });\r\n    \r\n    // \r\n    let initialWidth = Math.max(...rights) - Math.min(...lefts);\r\n    let initialHeight = Math.max(...bottoms) - Math.min(...tops);\r\n    \r\n    // \r\n    let desiredWidth = 2000;  // \r\n    let desiredHeight = 2000;  // \r\n    \r\n    // \r\n    let scale = Math.min(desiredWidth / initialWidth, desiredHeight / initialHeight);\r\n    \r\n    // \r\n    gs.attr('transform', (d, i, nodes) => {\r\n        //  transform \r\n        let originalTransform = d3.select(nodes[i]).attr('transform');\r\n        let translateValues = originalTransform.match(/translate\\(([^)]+)\\)/);\r\n    \r\n        let originalX = 0, originalY = 0;\r\n    \r\n        if (translateValues) {\r\n            [originalX, originalY] = translateValues[1].split(',').map(Number);\r\n        }\r\n    \r\n        // \r\n        return `translate(${originalX}, ${originalY})`;\r\n    });\r\n}\r\n\r\nexport function computeBoundingRectangle(shapes) {\r\n    let minX = Infinity;\r\n    let minY = Infinity;\r\n    let maxX = -Infinity;\r\n    let maxY = -Infinity;\r\n    const ranksep = 37;\r\n    \r\n    for (const key in shapes) {\r\n        const node = shapes[key];\r\n        const [type, index] = key.split(\"-\");\r\n        const isBfNode = (type === \"bf\");\r\n        const isPofNode = (type === \"pof\");\r\n        const isPifNode = (type === \"pif\");\r\n        const isAuxNode = (type === \"aux\");\r\n        const isOpoNode = (type === 'opo');\r\n        const isOpiNode = (type === 'opi');\r\n        const isBcNode = (type === \"bc\");\r\n        const isPocNode = (type === \"poc\");\r\n        const isPicNode = (type === \"pic\");\r\n        const isBlNode = (type === \"bl\");\r\n        const isPolNode = (type === \"pol\");\r\n        const isPilNode = (type === \"pil\");\r\n        if (isBfNode||isBcNode||isBlNode) {\r\n            if(node.width===undefined || node.height===undefined){\r\n                continue;\r\n            }\r\n            if (node.type == \"LITERAL\") {\r\n                if (node.fullBox) {\r\n                    minX = Math.min(minX, node.x - node.width / 2);\r\n                    minY = Math.min(minY, node.y - node.height / 2 + ranksep);\r\n                    maxX = Math.max(maxX, node.x + node.width / 2);\r\n                    maxY = Math.max(maxY, node.y + node.height / 2 - ranksep);\r\n                } else {\r\n                    minX = Math.min(minX, node.x - node.width / 2 + ranksep / 2);\r\n                    minY = Math.min(minY, node.y - node.height / 2 - ranksep);\r\n                    maxX = Math.max(maxX, node.x + node.width / 2 - ranksep / 2);\r\n                    maxY = Math.max(maxY, node.y + node.height / 2 - ranksep);\r\n                }\r\n            } else {\r\n                if (node.fullBox) {\r\n                    minX = Math.min(minX, node.x - node.width / 2);\r\n                    minY = Math.min(minY, node.y - node.height / 2 + ranksep);\r\n                    maxX = Math.max(maxX, node.x + node.width / 2);\r\n                    maxY = Math.max(maxY, node.y + node.height / 2 - ranksep);\r\n                } else {\r\n                    minX = Math.min(minX, node.x - node.width / 2);\r\n                    minY = Math.min(minY, node.y - node.height / 2 - ranksep);\r\n                    maxX = Math.max(maxX, node.x + node.width / 2);\r\n                    maxY = Math.max(maxY, node.y + node.height / 2 - ranksep);\r\n                }\r\n            }\r\n        } else if (isPofNode || isPifNode || isOpiNode || isOpoNode || isPicNode || isPocNode || isPilNode || isPolNode) {\r\n            minX = Math.min(minX, node.x - node.width / 2);\r\n            minY = Math.min(minY, node.y - node.height / 2);\r\n            maxX = Math.max(maxX, node.x + node.width / 2);\r\n            maxY = Math.max(maxY, node.y + node.height / 2);\r\n        }\r\n    }\r\n    return {\r\n        x: minX,\r\n        y: minY,\r\n        width: maxX - minX,\r\n        height: maxY - minY\r\n    };\r\n}\r\n\r\nexport function getOuterBox(bbox, padding, ranksep, nodes) {\r\n    let x;\r\n    let y;\r\n    let width;\r\n    let height;\r\n    if ('opo-0' in nodes && 'opi-0' in nodes){\r\n        // full\r\n        x = bbox.x - padding;\r\n        y = bbox.y - padding + ranksep;\r\n        width = bbox.width + 2 * padding;\r\n        height = bbox.height + 2 * padding - 2* ranksep;\r\n    } else if ('opo-0' in nodes && !('opi-0' in nodes)) {\r\n        // bottom\r\n        x = bbox.x - padding;\r\n        y = bbox.y - padding - ranksep / 10;\r\n        width = bbox.width + 2 * padding;\r\n        height = bbox.height + 2 * padding - ranksep;\r\n    } else if (!('opo-0' in nodes) && 'opi-0' in nodes) {\r\n        // top\r\n        x = bbox.x - padding;\r\n        y = bbox.y - padding + ranksep * 2;\r\n        width = bbox.width + 2 * padding;\r\n        height = bbox.height + 2 * padding - ranksep;\r\n    } else {\r\n        // empty\r\n        x = bbox.x - padding;\r\n        y = bbox.y - padding;\r\n        width = bbox.width + 2 * padding;\r\n        height = bbox.height + 2 * padding;\r\n    }\r\n    return {\r\n        x,\r\n        y,\r\n        width,\r\n        height\r\n    };\r\n}\r\n\r\nexport function getHierarchy(spaceY) {\r\n    var hierarchies = {};\r\n    const childrens = [];\r\n    const gs = d3.selectAll('.drawer').each(function(d, i){\r\n        const nodeID = d3.select(this).attr('id').replace(\"boxid\", \"\");\r\n        const direction = d3.select(this).attr('direction');\r\n        if (nodeID.split('_').length !== 2) {\r\n        const routes = nodeID.split(\"-\");\r\n        const currentID = routes[routes.length - 1];\r\n        if (currentID==='0') {\r\n            hierarchies.name = Number(currentID);\r\n            hierarchies.oName = nodeID;\r\n            hierarchies.path = routes;\r\n            hierarchies.size = [Number(d3.select(this).attr('width')) + spaceY, Number(d3.select(this).attr('height'))];\r\n            hierarchies.direction = direction;\r\n        } else {\r\n            const temp = {}\r\n            temp.name = Number(currentID);\r\n            temp.size = [Number(d3.select(this).attr('width')) + spaceY, Number(d3.select(this).attr('height'))];\r\n            temp.path = routes;\r\n            temp.oName = nodeID;\r\n            temp.direction = direction;\r\n            childrens.push(temp);\r\n        }\r\n        }\r\n    })\r\n    childrens.sort(function(a,b){\r\n        return a.path.length - b.path.length;\r\n    })\r\n    getChildren(hierarchies, childrens);\r\n    loopOverHierarchy(hierarchies, d => {\r\n        if (Array.isArray(d.size)) {\r\n        if (!d._size) d._size = d.size.slice();\r\n        d.size = d._size.slice().reverse();\r\n        }\r\n    });\r\n    return hierarchies;\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/utilities.js","/* eslint-disable */\r\nimport {hierarchy} from 'd3-hierarchy';\r\n\r\nconst defaults = Object.freeze({\r\n  children: data => data.children,\r\n  nodeSize: node => node.data.size,\r\n  spacing: 0,\r\n});\r\n\r\n// Create a layout function with customizable options. Per D3-style, the\r\n// options can be set at any time using setter methods. The layout function\r\n// will compute the tree node positions based on the options in effect at the\r\n// time it is called.\r\nexport default function flextree(options) {\r\n  const opts = Object.assign({}, defaults, options);\r\n  function accessor(name) {\r\n    const opt = opts[name];\r\n    return typeof opt === 'function' ? opt : () => opt;\r\n  }\r\n\r\n  function layout(tree) {\r\n    const wtree = wrap(getWrapper(), tree, node=>node.children);\r\n    wtree.update();\r\n    return wtree.data;\r\n  }\r\n\r\n  function getFlexNode() {\r\n    const nodeSize = accessor('nodeSize');\r\n    const spacing = accessor('spacing');\r\n    return class FlexNode extends hierarchy.prototype.constructor {\r\n      constructor(data) {\r\n        super(data);\r\n      }\r\n      copy() {\r\n        const c = wrap(this.constructor, this, node=>node.children);\r\n        c.each(node => node.data = node.data.data);\r\n        return c;\r\n      }\r\n      get size() { return nodeSize(this); }\r\n      spacing(oNode) { return spacing(this, oNode); }\r\n      get nodes() { return this.descendants(); }\r\n      get xSize() { return this.size[0]; }\r\n      get ySize() { return this.size[1]; }\r\n      get top() { return this.y; }\r\n      get bottom() { return this.y + this.ySize; }\r\n      get left() { return this.x - this.xSize / 2; }\r\n      get right() { return this.x + this.xSize / 2; }\r\n      get root() {\r\n        const ancs = this.ancestors();\r\n        return ancs[ancs.length - 1];\r\n      }\r\n      get numChildren() {\r\n        return this.hasChildren ? this.children.length : 0;\r\n      }\r\n      get hasChildren() { return !this.noChildren; }\r\n      get noChildren() { return this.children === null; }\r\n      get firstChild() {\r\n        return this.hasChildren ? this.children[0] : null;\r\n      }\r\n      get lastChild() {\r\n        return this.hasChildren ? this.children[this.numChildren - 1] : null;\r\n      }\r\n      get extents() {\r\n        return (this.children || []).reduce(\r\n          (acc, kid) => FlexNode.maxExtents(acc, kid.extents),\r\n          this.nodeExtents);\r\n      }\r\n      get nodeExtents() {\r\n        return {\r\n          top: this.top,\r\n          bottom: this.bottom,\r\n          left: this.left,\r\n          right: this.right,\r\n        };\r\n      }\r\n      static maxExtents(e0, e1) {\r\n        return {\r\n          top: Math.min(e0.top, e1.top),\r\n          bottom: Math.max(e0.bottom, e1.bottom),\r\n          left: Math.min(e0.left, e1.left),\r\n          right: Math.max(e0.right, e1.right),\r\n        };\r\n      }\r\n    };\r\n  }\r\n\r\n  function getWrapper() {\r\n    const FlexNode = getFlexNode();\r\n    const nodeSize = accessor('nodeSize');\r\n    const spacing = accessor('spacing');\r\n    return class extends FlexNode {\r\n      constructor(data) {\r\n        super(data);\r\n        Object.assign(this, {\r\n          x: 0, y: 0,\r\n          relX: 0, prelim: 0, shift: 0, change: 0,\r\n          lExt: this, lExtRelX: 0, lThr: null,\r\n          rExt: this, rExtRelX: 0, rThr: null,\r\n        });\r\n      }\r\n      get size() { return nodeSize(this.data); }\r\n      spacing(oNode) { return spacing(this.data, oNode.data); }\r\n      get x() { return this.data.x; }\r\n      set x(v) { this.data.x = v; }\r\n      get y() { return this.data.y; }\r\n      set y(v) { this.data.y = v; }\r\n      update() {\r\n        layoutChildren(this);\r\n        resolveX(this);\r\n        return this;\r\n      }\r\n    };\r\n  }\r\n\r\n  function wrap(FlexClass, treeData, children) {\r\n    const _wrap = (data, parent) => {\r\n      const node = new FlexClass(data);\r\n      Object.assign(node, {\r\n        parent,\r\n        depth: parent === null ? 0 : parent.depth + 1,\r\n        height: 0,\r\n        length: 1,\r\n      });\r\n      const kidsData = children(data) || [];\r\n      node.children = kidsData.length === 0 ? null\r\n        : kidsData.map(kd => _wrap(kd, node));\r\n      if (node.children) {\r\n        Object.assign(node, node.children.reduce(\r\n          (hl, kid) => ({\r\n            height: Math.max(hl.height, kid.height + 1),\r\n            length: hl.length + kid.length,\r\n          }), node\r\n        ));\r\n      }\r\n      return node;\r\n    };\r\n    return _wrap(treeData, null);\r\n  }\r\n\r\n\r\n  Object.assign(layout, {\r\n    nodeSize(arg) {\r\n      return arguments.length ? (opts.nodeSize = arg, layout) : opts.nodeSize;\r\n    },\r\n    spacing(arg) {\r\n      return arguments.length ? (opts.spacing = arg, layout) : opts.spacing;\r\n    },\r\n    children(arg) {\r\n      return arguments.length ? (opts.children = arg, layout) : opts.children;\r\n    },\r\n    hierarchy(treeData, children) {\r\n      const kids = typeof children === 'undefined' ? opts.children : children;\r\n      return wrap(getFlexNode(), treeData, kids);\r\n    },\r\n    dump(tree) {\r\n      const nodeSize = accessor('nodeSize');\r\n      const _dump = i0 => node => {\r\n        const i1 = i0 + '  ';\r\n        const i2 = i0 + '    ';\r\n        const {x, y} = node;\r\n        const size = nodeSize(node);\r\n        const kids = (node.children || []);\r\n        const kdumps = (kids.length === 0) ? ' ' :\r\n          `,${i1}children: [${i2}${kids.map(_dump(i2)).join(i2)}${i1}],${i0}`;\r\n        return `{ size: [${size.join(', ')}],${i1}x: ${x}, y: ${y}${kdumps}},`;\r\n      };\r\n      return _dump('\\n')(tree);\r\n    },\r\n  });\r\n  return layout;\r\n}\r\n\r\nconst layoutChildren = (w, y = 0) => {\r\n  w.y = y;\r\n  (w.children || []).reduce((acc, kid) => {\r\n    const [i, lastLows] = acc;\r\n    layoutChildren(kid, w.y + w.ySize);\r\n    // The lowest vertical coordinate while extreme nodes still point\r\n    // in current subtree.\r\n    const lowY = (i === 0 ? kid.lExt : kid.rExt).bottom;\r\n    if (i !== 0) separate(w, i, lastLows);\r\n    const lows = updateLows(lowY, i, lastLows);\r\n    return [i + 1, lows];\r\n  }, [0, null]);\r\n  shiftChange(w);\r\n  positionRoot(w);\r\n  return w;\r\n};\r\n\r\n// Resolves the relative coordinate properties - relX and prelim --\r\n// to set the final, absolute x coordinate for each node. This also sets\r\n// `prelim` to 0, so that `relX` for each node is its x-coordinate relative\r\n// to its parent.\r\nconst resolveX = (w, prevSum, parentX) => {\r\n  // A call to resolveX without arguments is assumed to be for the root of\r\n  // the tree. This will set the root's x-coord to zero.\r\n  if (typeof prevSum === 'undefined') {\r\n    prevSum = -w.relX - w.prelim;\r\n    parentX = 0;\r\n  }\r\n  const sum = prevSum + w.relX;\r\n  w.relX = sum + w.prelim - parentX;\r\n  w.prelim = 0;\r\n  w.x = parentX + w.relX;\r\n  (w.children || []).forEach(k => resolveX(k, sum, w.x));\r\n  return w;\r\n};\r\n\r\n// Process shift and change for all children, to add intermediate spacing to\r\n// each child's modifier.\r\nconst shiftChange = w => {\r\n  (w.children || []).reduce((acc, child) => {\r\n    const [lastShiftSum, lastChangeSum] = acc;\r\n    const shiftSum = lastShiftSum + child.shift;\r\n    const changeSum = lastChangeSum + shiftSum + child.change;\r\n    child.relX += changeSum;\r\n    return [shiftSum, changeSum];\r\n  }, [0, 0]);\r\n};\r\n\r\n// Separates the latest child from its previous sibling\r\n/* eslint-disable complexity */\r\nconst separate = (w, i, lows) => {\r\n  const lSib = w.children[i - 1];\r\n  const curSubtree = w.children[i];\r\n  let rContour = lSib;\r\n  let rSumMods = lSib.relX;\r\n  let lContour = curSubtree;\r\n  let lSumMods = curSubtree.relX;\r\n  let isFirst = true;\r\n  while (rContour && lContour) {\r\n    if (rContour.bottom > lows.lowY) lows = lows.next;\r\n    // How far to the left of the right side of rContour is the left side\r\n    // of lContour? First compute the center-to-center distance, then add\r\n    // the \"spacing\"\r\n    const dist =\r\n      (rSumMods + rContour.prelim) - (lSumMods + lContour.prelim) +\r\n      rContour.xSize / 2 + lContour.xSize / 2 +\r\n      rContour.spacing(lContour);\r\n    if (dist > 0 || (dist < 0 && isFirst)) {\r\n      lSumMods += dist;\r\n      // Move subtree by changing relX.\r\n      moveSubtree(curSubtree, dist);\r\n      distributeExtra(w, i, lows.index, dist);\r\n    }\r\n    isFirst = false;\r\n    // Advance highest node(s) and sum(s) of modifiers\r\n    const rightBottom = rContour.bottom;\r\n    const leftBottom = lContour.bottom;\r\n    if (rightBottom <= leftBottom) {\r\n      rContour = nextRContour(rContour);\r\n      if (rContour) rSumMods += rContour.relX;\r\n    }\r\n    if (rightBottom >= leftBottom) {\r\n      lContour = nextLContour(lContour);\r\n      if (lContour) lSumMods += lContour.relX;\r\n    }\r\n  }\r\n  // Set threads and update extreme nodes. In the first case, the\r\n  // current subtree is taller than the left siblings.\r\n  if (!rContour && lContour) setLThr(w, i, lContour, lSumMods);\r\n  // In the next case, the left siblings are taller than the current subtree\r\n  else if (rContour && !lContour) setRThr(w, i, rContour, rSumMods);\r\n};\r\n/* eslint-enable complexity */\r\n\r\n// Move subtree by changing relX.\r\nconst moveSubtree = (subtree, distance) => {\r\n  subtree.relX += distance;\r\n  subtree.lExtRelX += distance;\r\n  subtree.rExtRelX += distance;\r\n};\r\n\r\nconst distributeExtra = (w, curSubtreeI, leftSibI, dist) => {\r\n  const curSubtree = w.children[curSubtreeI];\r\n  const n = curSubtreeI - leftSibI;\r\n  // Are there intermediate children?\r\n  if (n > 1) {\r\n    const delta = dist / n;\r\n    w.children[leftSibI + 1].shift += delta;\r\n    curSubtree.shift -= delta;\r\n    curSubtree.change -= dist - delta;\r\n  }\r\n};\r\n\r\nconst nextLContour = w => {\r\n  return w.hasChildren ? w.firstChild : w.lThr;\r\n};\r\n\r\nconst nextRContour = w => {\r\n  return w.hasChildren ? w.lastChild : w.rThr;\r\n};\r\n\r\nconst setLThr = (w, i, lContour, lSumMods) => {\r\n  const firstChild = w.firstChild;\r\n  const lExt = firstChild.lExt;\r\n  const curSubtree = w.children[i];\r\n  lExt.lThr = lContour;\r\n  // Change relX so that the sum of modifier after following thread is correct.\r\n  const diff = lSumMods - lContour.relX - firstChild.lExtRelX;\r\n  lExt.relX += diff;\r\n  // Change preliminary x coordinate so that the node does not move.\r\n  lExt.prelim -= diff;\r\n  // Update extreme node and its sum of modifiers.\r\n  firstChild.lExt = curSubtree.lExt;\r\n  firstChild.lExtRelX = curSubtree.lExtRelX;\r\n};\r\n\r\n// Mirror image of setLThr.\r\nconst setRThr = (w, i, rContour, rSumMods) => {\r\n  const curSubtree = w.children[i];\r\n  const rExt = curSubtree.rExt;\r\n  const lSib = w.children[i - 1];\r\n  rExt.rThr = rContour;\r\n  const diff = rSumMods - rContour.relX - curSubtree.rExtRelX;\r\n  rExt.relX += diff;\r\n  rExt.prelim -= diff;\r\n  curSubtree.rExt = lSib.rExt;\r\n  curSubtree.rExtRelX = lSib.rExtRelX;\r\n};\r\n\r\n// Position root between children, taking into account their modifiers\r\nconst positionRoot = w => {\r\n  if (w.hasChildren) {\r\n    const k0 = w.firstChild;\r\n    const kf = w.lastChild;\r\n    const prelim = (k0.prelim + k0.relX - k0.xSize / 2 +\r\n      kf.relX + kf.prelim + kf.xSize / 2 ) / 2;\r\n    Object.assign(w, {\r\n      prelim,\r\n      lExt: k0.lExt, lExtRelX: k0.lExtRelX,\r\n      rExt: kf.rExt, rExtRelX: kf.rExtRelX,\r\n    });\r\n  }\r\n};\r\n\r\n// Make/maintain a linked list of the indexes of left siblings and their\r\n// lowest vertical coordinate.\r\nconst updateLows = (lowY, index, lastLows) => {\r\n  // Remove siblings that are hidden by the new subtree.\r\n  while (lastLows !== null && lowY >= lastLows.lowY)\r\n    lastLows = lastLows.next;\r\n  // Prepend the new subtree.\r\n  return {\r\n    lowY,\r\n    index,\r\n    next: lastLows,\r\n  };\r\n};\n\n\n// WEBPACK FOOTER //\n// ./src/utils/flextree.js","/* eslint-disable */\r\nimport { tree } from \"d3\";\r\nimport flextree from \"./flextree\";\r\nimport cloneDeep from 'lodash/cloneDeep';\r\nimport { layout } from \"dagre\";\r\nimport { loopOverHierarchy } from \"./utilities\";\r\n\r\nexport default function getMultiTree(hierarchies) {\r\n    let hierarchies_copy = cloneDeep(hierarchies);\r\n    const Layout = processTree(hierarchies_copy);\r\n    return Layout;\r\n}\r\n\r\nfunction processTree(hierarchies) {\r\n    let treeLayout = {};\r\n    do {\r\n        let subtrees = findAllSubtrees(hierarchies);\r\n        let currentLayout = [...subtrees.right, ...subtrees.down, ...subtrees.mix];\r\n        console.log(currentLayout, \"current\");\r\n        console.log(treeLayout, \"currentT\");\r\n        let mergedCL = currentLayout.reduce((acc, obj) => ({...acc, ...obj}), {});\r\n        if (hasProperties(treeLayout)) {\r\n            const sharedNodes = getSharedKeys(treeLayout, mergedCL);\r\n            console.log(sharedNodes)\r\n            for (let key of sharedNodes) {\r\n                const nodeL = mergedCL[key];\r\n                const childrenRect = {};\r\n                for (let keyPre  in treeLayout) {\r\n                    const nodeLPre = treeLayout[keyPre];\r\n                    if (keyPre.startsWith(key)) {\r\n                        childrenRect[keyPre] = nodeLPre;                   \r\n                    }\r\n                }\r\n                const oldBoundingBox = findBoundingBox(childrenRect);\r\n                // debugger\r\n                console.log(oldBoundingBox)\r\n                console.log(nodeL)\r\n                const differenceX1 = nodeL[0] - oldBoundingBox.x;\r\n                const differenceY1 = nodeL[1] - oldBoundingBox.y;\r\n                for (let keyPre  in treeLayout) {\r\n                    const nodeLPre = treeLayout[keyPre];\r\n                    if (keyPre.startsWith(key)) {\r\n                        nodeLPre[0] += differenceX1;\r\n                        nodeLPre[1] += differenceY1;\r\n                    }\r\n                }\r\n            }\r\n            copyNonDuplicateProperties(treeLayout, mergedCL);\r\n        } else {\r\n            treeLayout = cloneDeep(mergedCL);\r\n        }\r\n    } while ('children' in hierarchies);\r\n    console.log(treeLayout, \"layout\")\r\n    return treeLayout;\r\n    function hasProperties(obj) {\r\n        for (let key in obj) {\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    function getSharedKeys(obj1, obj2) {\r\n        let sharedKeys = [];\r\n    \r\n        for (let key in obj1) {\r\n            if (obj1.hasOwnProperty(key) && obj2.hasOwnProperty(key)) {\r\n                sharedKeys.push(key);\r\n            }\r\n        }\r\n    \r\n        return sharedKeys;\r\n    }\r\n    function copyNonDuplicateProperties(obj1, obj2) {\r\n        for (let key in obj2) {\r\n            if (obj2.hasOwnProperty(key) && !obj1.hasOwnProperty(key)) {\r\n                obj1[key] = obj2[key];\r\n            }\r\n        }\r\n    }\r\n  }\r\n\r\n  function findAllSubtrees(root) {\r\n    let parentNodesRight = new Set();\r\n    let parentNodesDown = new Set();\r\n    const spacing = 100;\r\n    setParents(root, null);\r\n    dfs(root, parentNodesRight, parentNodesDown);\r\n    const parentNodesMix = new Set();\r\n    for (const item of parentNodesRight) {\r\n        if (parentNodesDown.has(item)) {\r\n            parentNodesMix.add(item);\r\n            parentNodesRight.delete(item);\r\n            parentNodesDown.delete(item);\r\n        }\r\n    }\r\n    const result = {\r\n        right: Array.from(parentNodesRight).map(node => {\r\n            let clone = cloneDeep(node);\r\n            delete node.children;\r\n            removeDownChildren(clone);\r\n            if (node.direction===\"down\") {\r\n                const clonex = clone.size[0];\r\n                clone.size[0] = clone.size[1];\r\n                clone.size[1] = clonex;\r\n            }\r\n            loopOverHierarchy(clone, d => {\r\n                if (Array.isArray(d.size)) {\r\n                d.size[1] += spacing;\r\n                }\r\n            });\r\n            const flexLayout = flextree({ spacing: 80 });\r\n            const tree = flexLayout.hierarchy(clone);\r\n            var treeData = flexLayout(tree);\r\n            treeData.each(d => {\r\n                const x = d.x;\r\n                d.x = d.y;\r\n                d.y = x;\r\n              });\r\n            var treeLayout = {};\r\n            treeData.each(d => {\r\n                treeLayout[d.data.oName] = [d.x, d.y - d.data.size[0] / 2, d.data.size[1], d.data.size[0] * 1];\r\n            });\r\n            const newBoundingbox = findBoundingBox(treeLayout);\r\n            node._size = [newBoundingbox.width, newBoundingbox.height];\r\n            node.size = [newBoundingbox.height, newBoundingbox.width];\r\n            console.log(treeLayout, \"test\");\r\n            return treeLayout;\r\n        }),\r\n        down: Array.from(parentNodesDown).map(node => {\r\n            let clone = cloneDeep(node);\r\n            delete node.children;\r\n            removeRightChildren(clone);\r\n            loopOverHierarchy(clone, d => {\r\n                if (Array.isArray(d.size)) {\r\n                if (!d._size) d._size = d.size.slice();\r\n                d.size = [d.size[1], d.size[0]];\r\n                }\r\n            });\r\n            loopOverHierarchy(clone, d => {\r\n                if (Array.isArray(d.size)) {\r\n                d.size[1] += spacing;\r\n                }\r\n            });\r\n            if (node.direction===\"down\") {\r\n                const clonex = clone.size[0];\r\n                clone.size[0] = clone.size[1];\r\n                clone.size[1] = clonex;\r\n            }\r\n            const flexLayout = flextree({ spacing: 120 });\r\n            const tree = flexLayout.hierarchy(clone);\r\n            var treeData = flexLayout(tree);\r\n            var treeLayout = {};\r\n            treeData.each(d => {\r\n                treeLayout[d.data.oName] = [d.x - d.data.size[0] / 2, d.y, d.data.size[0] * 1, d.data.size[1]];\r\n            });\r\n            const newBoundingbox = findBoundingBox(treeLayout);\r\n            node._size = [newBoundingbox.width, newBoundingbox.height];\r\n            node.size = [newBoundingbox.height, newBoundingbox.width];\r\n            \r\n            return treeLayout;\r\n        }),\r\n        mix: Array.from(parentNodesMix).map(node => {\r\n            let cloneRight = cloneDeep(node);\r\n            delete node.children;\r\n            let cloneDown = cloneDeep(cloneRight);\r\n            loopOverHierarchy(cloneDown, d => {\r\n                if (Array.isArray(d.size)) {\r\n                if (!d._size) d._size = d.size.slice();\r\n                d.size = [d.size[1], d.size[0]];\r\n                }\r\n            });\r\n            loopOverHierarchy(cloneDown, d => {\r\n                if (Array.isArray(d.size)) {\r\n                d.size[1] += spacing;\r\n                }\r\n            });\r\n            loopOverHierarchy(cloneRight, d => {\r\n                if (Array.isArray(d.size)) {\r\n                d.size[1] += spacing;\r\n                }\r\n            });\r\n            removeRightChildren(cloneDown);\r\n            removeDownChildren(cloneRight);\r\n            const flexLayoutDown = flextree({ spacing: 120 });\r\n            const flexLayoutRight = flextree({ spacing: 80 });\r\n            const treeDown = flexLayoutDown.hierarchy(cloneDown);\r\n            const treeRight = flexLayoutRight.hierarchy(cloneRight);\r\n            // if (node.direction===\"right\") {\r\n            //     const cloneDownx = cloneDown.size[0];\r\n            //     cloneDown.size[0] = cloneDown.size[1];\r\n            //     cloneDown.size[1] = cloneDownx;\r\n            // }\r\n            if (node.direction===\"down\") {\r\n                const cloneRightx = cloneRight.size[0];\r\n                cloneRight.size[0] = cloneRight.size[1];\r\n                cloneRight.size[1] = cloneRightx;\r\n                const cloneDownx = cloneDown.size[0];\r\n                cloneDown.size[0] = cloneDown.size[1];\r\n                cloneDown.size[1] = cloneDownx;\r\n            }\r\n            var treeDataDown = flexLayoutDown(treeDown);\r\n            var treeDataRight = flexLayoutDown(treeRight);\r\n            treeDataRight.each(d => {\r\n                const x = d.x;\r\n                d.x = d.y;\r\n                d.y = x;\r\n              });\r\n            var treeLayoutDown = {};\r\n            treeDataDown.each(d => {\r\n                treeLayoutDown[d.data.oName] = [d.x - d.data.size[0] / 2, d.y, d.data.size[0], d.data.size[1] * 1];\r\n            });\r\n            var treeLayoutRight = {};\r\n            treeDataRight.each(d => {\r\n                treeLayoutRight[d.data.oName] = [d.x, d.y - d.data.size[0] / 2, d.data.size[1], d.data.size[0] * 1];\r\n            });\r\n            const differenceX = treeLayoutRight[node.oName][0] - treeLayoutDown[node.oName][0];\r\n            const differenceY = treeLayoutRight[node.oName][1] - treeLayoutDown[node.oName][1];\r\n            for (const key in treeLayoutDown) {\r\n                treeLayoutDown[key][0] += differenceX;\r\n                treeLayoutDown[key][1] += differenceY;\r\n            }\r\n            const mergedLayout = { ...treeLayoutRight, ...treeLayoutDown };\r\n            const newBoundingbox = findBoundingBox(mergedLayout);\r\n            node._size = [newBoundingbox.width, newBoundingbox.height];\r\n            node.size = [newBoundingbox.height, newBoundingbox.width];\r\n            console.log(newBoundingbox, \"test\");\r\n            return mergedLayout;\r\n        }),\r\n    };\r\n    return result;\r\n\r\n    function setParents(node, parent) {\r\n        node.parent = parent;\r\n        if (node.children) {\r\n            node.children.forEach(child => setParents(child, node));\r\n        }\r\n    }\r\n\r\n    function dfs(node, parentNodesRight, parentNodesDown) {\r\n        let isSameDirection = true;\r\n    \r\n        checkProperties(node);\r\n    \r\n        if (isSameDirection) {\r\n            if (node.direction === 'right') {\r\n                if (node.parent!==null) {\r\n                    parentNodesRight.add(node.parent);\r\n                } else {\r\n                    parentNodesRight.add(node);\r\n                }\r\n            } else if (node.direction === 'down') {\r\n                if (node.parent!==null) {\r\n                    parentNodesDown.add(node.parent);\r\n                } else {\r\n                    parentNodesDown.add(node.parent);\r\n                }\r\n            }\r\n            return true;\r\n        }\r\n    \r\n        if (node.children) {\r\n            node.children.forEach(child => dfs(child, parentNodesRight, parentNodesDown));\r\n        }\r\n    \r\n        return false;\r\n    \r\n        function checkProperties(currentNode) {\r\n            if (currentNode.direction !== node.direction) {\r\n                isSameDirection = false;\r\n            }\r\n    \r\n            if (currentNode.children) {\r\n                currentNode.children.forEach(checkProperties);\r\n            }\r\n        }\r\n    }\r\n    function removeRightChildren(node) {\r\n        if (node.children) {\r\n            node.children = node.children.filter(child => child.direction !== 'right');\r\n            node.children.forEach(removeRightChildren);\r\n        }\r\n    }\r\n    \r\n    function removeDownChildren(node) {\r\n        if (node.children) {\r\n            node.children = node.children.filter(child => child.direction !== 'down');\r\n            node.children.forEach(removeDownChildren);\r\n        }\r\n    }\r\n}\r\n\r\nfunction findBoundingBoxCentral(rectanglesObj) {\r\n    let minX = Infinity;\r\n    let minY = Infinity;\r\n    let maxX = -Infinity;\r\n    let maxY = -Infinity;\r\n\r\n    for (let key in rectanglesObj) {\r\n        let rectangle = rectanglesObj[key];\r\n        let centerX = rectangle[0];\r\n        let centerY = rectangle[1];\r\n        let width = rectangle[2];\r\n        let height = rectangle[3];\r\n\r\n        let x1 = centerX - width / 2;\r\n        let y1 = centerY - height / 2;\r\n        let x2 = centerX + width / 2;\r\n        let y2 = centerY + height / 2;\r\n\r\n        minX = Math.min(minX, x1);\r\n        minY = Math.min(minY, y1);\r\n        maxX = Math.max(maxX, x2);\r\n        maxY = Math.max(maxY, y2);\r\n    }\r\n\r\n    return {\r\n        x: (minX + maxX) / 2,\r\n        y: (minY + maxY) / 2,\r\n        width: maxX - minX,\r\n        height: maxY - minY\r\n    };\r\n}\r\n\r\nfunction findBoundingBox(rectanglesObj) {\r\n    let minX = Infinity;\r\n    let minY = Infinity;\r\n    let maxX = -Infinity;\r\n    let maxY = -Infinity;\r\n\r\n    for (let key in rectanglesObj) {\r\n        let rectangle = rectanglesObj[key];\r\n        let rectX = rectangle[0];\r\n        let rectY = rectangle[1];\r\n        let width = rectangle[2];\r\n        let height = rectangle[3];\r\n\r\n        let x1 = rectX;\r\n        let y1 = rectY;\r\n        let x2 = rectX + width;\r\n        let y2 = rectY + height;\r\n\r\n        minX = Math.min(minX, x1);\r\n        minY = Math.min(minY, y1);\r\n        maxX = Math.max(maxX, x2);\r\n        maxY = Math.max(maxY, y2);\r\n    }\r\n\r\n    return {\r\n        x: minX,\r\n        y: minY,\r\n        width: maxX - minX,\r\n        height: maxY - minY\r\n    };\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/multitree.js","/* eslint-disable */\r\nimport { drawBox } from \"./drawBox\";\r\nimport { drawLines, updateLines, updateLinesDashArrow } from \"./drawlines\";\r\nimport { getBoxLayout, getTreeLayout } from \"./layout\";\r\nimport { arraysAreEqual, getHierarchy, findChildrenAtSameLevel, autoTranslate } from \"./utilities\";\r\nimport flextree from \"./flextree\";\r\nimport getMultiTree from \"./multitree\";\r\nimport * as d3 from \"d3\";\r\n\r\nexport function handleClick(fnS, body, body_num, sourceid, color, clicked, direction) {\r\n  console.log(direction, \"direction\");\r\n  const transitionTime1 = 920;\r\n  const transitionTime2 = 720;\r\n  const transitionTime3 = 200;\r\n  const openFlag = d3.select(\"#boxid\" + String(body_num)).select(\"#\" + String(sourceid));\r\n  // console.log(openFlag.attr(\"data-opened\"));\r\n  if (clicked || openFlag.attr(\"data-opened\") === \"true\") {\r\n    // openFlag.attr(\"data-opened\", \"false\");\r\n    d3.select(\"#boxid\" + String(body_num)).selectAll(\"[data-opened='true']\").attr(\"data-opened\", \"false\");\r\n    d3.selectAll('.drawer').each(function(d,i){\r\n      let GID = d3.select(this).attr('id').replace('line', '').replace('boxid', '');\r\n      const deleteLabel = String(body_num) + '-' + String(body);\r\n      const deleteParts = deleteLabel.split('-');\r\n      // delete edges\r\n      if (GID.split('_').length === 2){\r\n        let deleteFlag = false;\r\n        const node1 = GID.split('_')[0];\r\n        const node2 = GID.split('_')[1];\r\n        const node1Parts = node1.split('-');\r\n        const node2Parts = node2.split('-');\r\n        if (arraysAreEqual(node1Parts, deleteParts)) {\r\n          d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n          deleteFlag = true;\r\n        } else if (node1Parts.length > deleteParts.length) {\r\n          const firstNParts = node1Parts.slice(0, deleteParts.length);\r\n          if (JSON.stringify(firstNParts) === JSON.stringify(deleteParts)) {\r\n            d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n            deleteFlag = true;\r\n          }\r\n        }\r\n        if (!deleteFlag) {\r\n          if (arraysAreEqual(node2Parts, deleteParts)) {\r\n            d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n          } else if (node2Parts.length > deleteParts.length) {\r\n            const firstNParts = node2Parts.slice(0, deleteParts.length);\r\n            if (JSON.stringify(firstNParts) === JSON.stringify(deleteParts)) {\r\n              d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n            }\r\n          }\r\n        }\r\n      } else { // delete nodes\r\n        const GIDParts = GID.split('-');\r\n        if (arraysAreEqual(GIDParts, deleteParts)) {\r\n          d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n        } else if (GIDParts.length > deleteParts.length) {\r\n          const firstNParts = GIDParts.slice(0, deleteParts.length);\r\n          if (JSON.stringify(firstNParts) === JSON.stringify(deleteParts)) {\r\n            d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n          }\r\n        }\r\n      }\r\n      // console.log(GID);\r\n    })\r\n    return;\r\n  }\r\n  body_num = String(body_num);\r\n  const layout = getBoxLayout(fnS[body-1]);\r\n  const spaceX = 80;\r\n  const spaceY = 0;\r\n  const padding = 90;\r\n  const newLabel = String(body_num) + '-' + String(body); // new body_num\r\n  drawBox(layout, fnS, newLabel, direction);\r\n  var hierarchies = getHierarchy(spaceY);\r\n  var treeLayout = {};\r\n  treeLayout = getMultiTree(hierarchies);\r\n  // console.log(hierarchies, \"hierarchies\");\r\n  // const flexLayout = flextree({ spacing: spaceX });\r\n  // const tree = flexLayout.hierarchy(hierarchies);\r\n  // var treeData = flexLayout(tree);\r\n  // treeData.each(d => {\r\n  //   const x = d.x;\r\n  //   d.x = d.y;\r\n  //   d.y = x;\r\n  // });\r\n  // var treeLayout = {};\r\n  // treeData.each(d => {\r\n  //   treeLayout[d.data.oName] = [d.x, d.y, d.data.size[1], d.data.size[0] * 1];\r\n  // });\r\n  const nodeNames = Object.keys(treeLayout);\r\n\r\n  console.log(treeLayout);\r\n  let differenceX = treeLayout[newLabel][0] - treeLayout[body_num][0];\r\n  let differenceY = treeLayout[newLabel][1] - (treeLayout[body_num][1]);\r\n  \r\n  const locationTransform = [differenceX, differenceY];\r\n  drawLines(sourceid, \"frame\" + newLabel, locationTransform, body_num, newLabel, color, direction);\r\n  // console.log(locationTransform);\r\n  d3.selectAll('.drawer').each(function(d, i){\r\n    let nodeID = d3.select(this).attr('id').replace(\"boxid\", \"\");\r\n    if (nodeID.split('_').length !==2) {\r\n      if (nodeID === newLabel) {\r\n        d3.select(this)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5})`)\r\n          .attr(\"opacity\", 0);\r\n        d3.select(this)\r\n          .transition()\r\n          .duration(transitionTime1)\r\n          .style(\"opacity\", 1);\r\n      } else {\r\n        d3.select(this)\r\n          .transition()\r\n          .duration(transitionTime2)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5})`);\r\n      }\r\n    }\r\n  })\r\n  d3.selectAll('.drawer').each(function(d, i){\r\n    let nodeID = d3.select(this).attr('id').replace(\"boxid\", \"\");\r\n    if (nodeID.split('_').length === 2){\r\n      if (d3.select(this).attr(\"line-type\") !== \"dashed\") {\r\n        const lineID = nodeID;\r\n        const sourceGID = nodeID.replace(\"line\", \"\").split('_')[0];\r\n        const targetGID = nodeID.replace(\"line\", \"\").split('_')[1];\r\n        const sourceTransString = d3.select(\"#boxid\" + sourceGID).attr('transform');\r\n        const targetTransString = d3.select(\"#boxid\" + targetGID).attr('transform');\r\n        if (sourceTransString!==null && sourceGID != newLabel){\r\n          const translatePart = sourceTransString.slice(10, -1);\r\n          const translateValues = translatePart.split(\",\");\r\n          const transformArray = translateValues.map(Number);\r\n          let newTransArray = [];\r\n          newTransArray = [treeLayout[sourceGID][0] + padding, treeLayout[sourceGID][1] + padding *7.5];\r\n          const locationTransformForThis = [treeLayout[targetGID][0] - treeLayout[sourceGID][0], treeLayout[targetGID][1] - (treeLayout[sourceGID][1])];\r\n          if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n            const a01 = d3.select(this).attr('sourceid');\r\n            const a02 = d3.select(this).attr('targetid');\r\n            const a04 = d3.select(this).attr('body_num_source');\r\n            const a05 = d3.select(this).attr('body_num_target');\r\n            const a06 = d3.select(this).attr('color');\r\n            const currentDirection = d3.select(\"#boxid\" + a05).attr(\"direction\");\r\n            updateLines(a01, a02, locationTransformForThis, a04, a05, a06, lineID, currentDirection);\r\n          }\r\n        }\r\n        if (targetTransString!==null && targetGID != newLabel){\r\n          const translatePart = targetTransString.slice(10, -1);\r\n          const translateValues = translatePart.split(\",\");\r\n          const transformArray = translateValues.map(Number);\r\n          let newTransArray = [];\r\n          const locationTransformForThis = [treeLayout[targetGID][0] - treeLayout[sourceGID][0], treeLayout[targetGID][1] - (treeLayout[sourceGID][1])];\r\n          newTransArray = [treeLayout[targetGID][0] + padding, treeLayout[targetGID][1] + padding *7.5 ];\r\n          if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n            const a01 = d3.select(this).attr('sourceid');\r\n            const a02 = d3.select(this).attr('targetid');\r\n            const a04 = d3.select(this).attr('body_num_source');\r\n            const a05 = d3.select(this).attr('body_num_target');\r\n            const a06 = d3.select(this).attr('color');\r\n            const currentDirection = d3.select(\"#boxid\" + a05).attr(\"direction\");\r\n            updateLines(a01, a02, locationTransformForThis, a04, a05, a06, lineID, currentDirection);\r\n          }\r\n        }\r\n        \r\n        nodeID = nodeID.replace(\"line\", \"\");\r\n        nodeID = nodeID.split('_')[0];\r\n        d3.select(this)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 })`)\r\n          .style(\"opacity\", 0.38);\r\n      } else {\r\n        const lineID = nodeID;\r\n        const sourceGID = nodeID.replace(\"line\", \"\").split('_')[0];\r\n        const targetGID = nodeID.replace(\"line\", \"\").split('_')[1];\r\n        const sourceTransString = d3.select(\"#boxid\" + sourceGID).attr('transform');\r\n        const targetTransString = d3.select(\"#boxid\" + targetGID).attr('transform');\r\n        if (sourceTransString!==null && sourceGID != newLabel) {\r\n          const translatePart = sourceTransString.slice(10, -1);\r\n          const translateValues = translatePart.split(\",\");\r\n          const transformArray = translateValues.map(Number);\r\n          let newTransArray = [];\r\n          newTransArray = [treeLayout[sourceGID][0] + padding, treeLayout[sourceGID][1] + padding *7.5];\r\n          if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n            const line_label = d3.select(this).select('text').text();\r\n            updateLinesDashArrow(treeLayout, sourceGID, targetGID, \"black\", line_label, lineID);\r\n          }\r\n        }\r\n        if (targetTransString!==null && targetGID != newLabel){\r\n          const translatePart = targetTransString.slice(10, -1);\r\n          const translateValues = translatePart.split(\",\");\r\n          const transformArray = translateValues.map(Number);\r\n          let newTransArray = [];\r\n          newTransArray = [treeLayout[targetGID][0] + padding, treeLayout[targetGID][1] + padding *7.5];\r\n          if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n            const line_label = d3.select(this).select('text').text();\r\n            updateLinesDashArrow(treeLayout, sourceGID, targetGID, \"black\", line_label, lineID);\r\n          }\r\n        }\r\n        nodeID = nodeID.replace(\"line\", \"\");\r\n        nodeID = nodeID.split('_')[0];\r\n        d3.select(this)\r\n          .transition()\r\n          .duration(720)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5})`);\r\n      }\r\n    }\r\n  })\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/click.js","/* eslint-disable */\r\nimport { drawBox } from \"./drawBox\";\r\nimport { drawLines, updateLines, drawLinesDashArrow, updateLinesDashArrow } from \"./drawlines\";\r\nimport { getBoxLayout, getTreeLayout } from \"./layout\";\r\nimport { arraysAreEqual, findChildrenAtSameLevel, autoTranslate, getHierarchy } from \"./utilities\";\r\nimport * as flextree from \"d3-flextree\"\r\nimport getMultiTree from \"./multitree\";\r\nimport * as d3 from \"d3\";\r\n\r\nexport function handleClickCond(fnS, cond, body_if, body_else, body_num, sourceid, color, clicked, direction) {\r\n  const transitionTime1 = 920;\r\n  const transitionTime2 = 720;\r\n  const transitionTime3 = 200;\r\n  const openFlag = d3.select(\"#boxid\" + String(body_num)).select(\"#\" + String(sourceid));\r\n  if (clicked || openFlag.attr(\"data-opened\") === \"true\") {\r\n    // openFlag.attr(\"data-opened\", \"false\");\r\n    d3.select(\"#boxid\" + String(body_num)).selectAll(\"[data-opened='true']\").attr(\"data-opened\", \"false\");\r\n    d3.selectAll('.drawer').each(function(d,i){\r\n      let GID = d3.select(this).attr('id').replace('line', '').replace('boxid', '');\r\n      const deleteLabel = String(body_num) + '-' + String(cond);\r\n      const deleteParts = deleteLabel.split('-');\r\n      // delete edges\r\n      if (GID.split('_').length === 2){\r\n        let deleteFlag = false;\r\n        const node1 = GID.split('_')[0];\r\n        const node2 = GID.split('_')[1];\r\n        const node1Parts = node1.split('-');\r\n        const node2Parts = node2.split('-');\r\n        if (arraysAreEqual(node1Parts, deleteParts)) {\r\n          d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n          deleteFlag = true;\r\n        } else if (node1Parts.length > deleteParts.length) {\r\n          const firstNParts = node1Parts.slice(0, deleteParts.length);\r\n          if (JSON.stringify(firstNParts) === JSON.stringify(deleteParts)) {\r\n            d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n            deleteFlag = true;\r\n          }\r\n        }\r\n        if (!deleteFlag) {\r\n          if (arraysAreEqual(node2Parts, deleteParts)) {\r\n            d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n          } else if (node2Parts.length > deleteParts.length) {\r\n            const firstNParts = node2Parts.slice(0, deleteParts.length);\r\n            if (JSON.stringify(firstNParts) === JSON.stringify(deleteParts)) {\r\n              d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n            }\r\n          }\r\n        }\r\n      } else { // delete nodes\r\n        const GIDParts = GID.split('-');\r\n        if (arraysAreEqual(GIDParts, deleteParts)) {\r\n          d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n        } else if (GIDParts.length > deleteParts.length) {\r\n          const firstNParts = GIDParts.slice(0, deleteParts.length);\r\n          if (JSON.stringify(firstNParts) === JSON.stringify(deleteParts)) {\r\n            d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n          }\r\n        }\r\n      }\r\n      // console.log(GID);\r\n    })\r\n    return;\r\n  }\r\n  body_num = String(body_num);\r\n  let layoutElse;\r\n  const layoutCond = getBoxLayout(fnS[cond-1]);\r\n  const layoutIf = getBoxLayout(fnS[body_if-1]);\r\n  if (body_else!==undefined) {\r\n    layoutElse = getBoxLayout(fnS[body_else-1]);\r\n  }\r\n  const spaceX = 80;\r\n  const spaceY = 0;\r\n  const padding = 90;\r\n  const newLabelCond = String(body_num) + '-' + String(cond); // new body_num for Cond\r\n  const newLabelIf = String(newLabelCond) + '-' + String(body_if); // new body_num for if\r\n  const newLabelElse = String(newLabelCond) + '-' + String(body_else); // new body_num for else\r\n  drawBox(layoutCond, fnS, newLabelCond, direction);\r\n  drawBox(layoutIf, fnS, newLabelIf, direction);\r\n  if (body_else!==undefined) {\r\n    drawBox(layoutElse, fnS, newLabelElse, direction);\r\n  }\r\n  var hierarchies = getHierarchy(spaceY);\r\n  // const flexLayout = flextree.flextree({ spacing: spaceX });\r\n  // console.log(hierarchies);\r\n  // const tree = flexLayout.hierarchy(hierarchies);\r\n  // var treeData = flexLayout(tree);\r\n  // treeData.each(d => {\r\n  //   const x = d.x;\r\n  //   d.x = d.y;\r\n  //   d.y = x;\r\n  // });\r\n  // var treeLayout = {};\r\n  // treeData.each(d => {\r\n  //   treeLayout[d.data.oName] = [d.x, d.y, d.data.size[1], d.data.size[0] * 1];\r\n  // });\r\n  var treeLayout = {};\r\n  treeLayout = getMultiTree(hierarchies);\r\n  const nodeNames = Object.keys(treeLayout);\r\n\r\n  console.log(treeLayout);\r\n  console.log()\r\n  let differenceX = treeLayout[newLabelCond][0] - treeLayout[body_num][0];\r\n  let differenceY = treeLayout[newLabelCond][1] - (treeLayout[body_num][1]);\r\n  \r\n  const locationTransform = [differenceX, differenceY];\r\n  drawLines(sourceid, \"frame\" + newLabelCond, locationTransform, body_num, newLabelCond, color, direction);\r\n  drawLinesDashArrow(treeLayout, newLabelCond, newLabelIf, \"black\", \"TRUE\", direction);\r\n  if (layoutElse!==undefined) {\r\n    drawLinesDashArrow(treeLayout, newLabelCond, newLabelElse, \"black\", \"FALSE\", direction);\r\n  }\r\n  \r\n  // console.log(locationTransform);\r\n  d3.selectAll('.drawer').each(function(d, i){\r\n    let nodeID = d3.select(this).attr('id').replace(\"boxid\", \"\");\r\n    if (nodeID.split('_').length === 2){\r\n      if (d3.select(this).attr(\"line-type\") !== \"dashed\") {\r\n        const lineID = nodeID;\r\n        const sourceGID = nodeID.replace(\"line\", \"\").split('_')[0];\r\n        const targetGID = nodeID.replace(\"line\", \"\").split('_')[1];\r\n        const sourceTransString = d3.select(\"#boxid\" + sourceGID).attr('transform');\r\n        const targetTransString = d3.select(\"#boxid\" + targetGID).attr('transform');\r\n        if (sourceTransString!==null && sourceGID != newLabelCond){\r\n          const translatePart = sourceTransString.slice(10, -1);\r\n          const translateValues = translatePart.split(\",\");\r\n          const transformArray = translateValues.map(Number);\r\n          let newTransArray = [];\r\n          newTransArray = [treeLayout[sourceGID][0] + padding, treeLayout[sourceGID][1] + padding *7.5];\r\n          const locationTransformForThis = [treeLayout[targetGID][0] - treeLayout[sourceGID][0], treeLayout[targetGID][1] - (treeLayout[sourceGID][1] )];\r\n          if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n            const a01 = d3.select(this).attr('sourceid');\r\n            const a02 = d3.select(this).attr('targetid');\r\n            let a03 = d3.select(this).attr('locationTransform').split(',');\r\n            const a04 = d3.select(this).attr('body_num_source');\r\n            const a05 = d3.select(this).attr('body_num_target');\r\n            const a06 = d3.select(this).attr('color');\r\n            // const new03 = [Number(a03[0]) + newTransArray[0] - transformArray[0], Number(a03[1]) + newTransArray[1] - transformArray[1]];\r\n            // d3.select(\"#\" + lineID).selectAll('*').remove();\r\n            const currentDirection = d3.select(\"#boxid\" + a05).attr(\"direction\");\r\n            updateLines(a01, a02, locationTransformForThis, a04, a05, a06, lineID, currentDirection);\r\n          }\r\n        }\r\n        if (targetTransString!==null && targetGID != newLabelCond){\r\n          const translatePart = targetTransString.slice(10, -1);\r\n          const translateValues = translatePart.split(\",\");\r\n          const transformArray = translateValues.map(Number);\r\n          let newTransArray = [];\r\n          newTransArray = [treeLayout[targetGID][0] + padding, treeLayout[targetGID][1] + padding *7.5 ];\r\n          const locationTransformForThis = [treeLayout[targetGID][0] - treeLayout[sourceGID][0], treeLayout[targetGID][1] - (treeLayout[sourceGID][1])];\r\n          if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n            const a01 = d3.select(this).attr('sourceid');\r\n            const a02 = d3.select(this).attr('targetid');\r\n            let a03 = d3.select(this).attr('locationTransform').split(',');\r\n            const a04 = d3.select(this).attr('body_num_source');\r\n            const a05 = d3.select(this).attr('body_num_target');\r\n            const a06 = d3.select(this).attr('color');\r\n            // const new03 = [Number(a03[0]) + newTransArray[0] - transformArray[0], Number(a03[1]) + newTransArray[1] - transformArray[1]];\r\n            // d3.select(\"#\" + lineID).selectAll('*').remove();\r\n            const currentDirection = d3.select(\"#boxid\" + a05).attr(\"direction\");\r\n            updateLines(a01, a02, locationTransformForThis, a04, a05, a06, lineID, currentDirection);\r\n          }\r\n        }\r\n        \r\n        nodeID = nodeID.replace(\"line\", \"\");\r\n        nodeID = nodeID.split('_')[0];\r\n        d3.select(this)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5})`)\r\n          .style(\"opacity\", 0.38);\r\n      } else {\r\n        const lineID = nodeID;\r\n        const sourceGID = nodeID.replace(\"line\", \"\").split('_')[0];\r\n        const targetGID = nodeID.replace(\"line\", \"\").split('_')[1];\r\n        const sourceTransString = d3.select(\"#boxid\" + sourceGID).attr('transform');\r\n        const targetTransString = d3.select(\"#boxid\" + targetGID).attr('transform');\r\n        if (sourceTransString!==null && sourceGID != newLabelCond) {\r\n          const translatePart = sourceTransString.slice(10, -1);\r\n          const translateValues = translatePart.split(\",\");\r\n          const transformArray = translateValues.map(Number);\r\n          let newTransArray = [];\r\n          newTransArray = [treeLayout[sourceGID][0] + padding, treeLayout[sourceGID][1] + padding *7.5 ];\r\n          if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n            const line_label = d3.select(this).select('text').text();\r\n            const currentDirection = d3.select(\"#boxid\" + targetGID).attr(\"direction\");\r\n            updateLinesDashArrow(treeLayout, sourceGID, targetGID, \"black\", line_label, lineID, currentDirection);\r\n          }\r\n        }\r\n        if (targetTransString!==null && targetGID != newLabelCond){\r\n          const translatePart = targetTransString.slice(10, -1);\r\n          const translateValues = translatePart.split(\",\");\r\n          const transformArray = translateValues.map(Number);\r\n          let newTransArray = [];\r\n          newTransArray = [treeLayout[targetGID][0] + padding, treeLayout[targetGID][1] + padding *7.5 ];\r\n          if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n            const line_label = d3.select(this).select('text').text();\r\n            const currentDirection = d3.select(\"#boxid\" + targetGID).attr(\"direction\");\r\n            updateLinesDashArrow(treeLayout, sourceGID, targetGID, \"black\", line_label, lineID, currentDirection);\r\n          }\r\n        }\r\n        nodeID = nodeID.replace(\"line\", \"\");\r\n        nodeID = nodeID.split('_')[0];\r\n        d3.select(this)\r\n          // .transition()\r\n          // .duration(720)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 })`);\r\n      }\r\n    } else {\r\n      if (nodeID === newLabelCond || nodeID === newLabelElse || nodeID === newLabelIf) {\r\n        d3.select(this)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 })`)\r\n          .attr(\"opacity\", 0);\r\n        d3.select(this)\r\n          .transition()\r\n          .duration(transitionTime1)\r\n          .style(\"opacity\", 1);\r\n      } else {\r\n        d3.select(this)\r\n          .transition()\r\n          .duration(transitionTime2)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 })`);\r\n      }\r\n    }\r\n  }\r\n  )\r\n  // autoTranslate();\r\n}\r\n\r\nexport function handleClickLoop(fnS, cond, pre, body, post, body_num, sourceid, color, clicked, direction) {\r\n  const transitionTime1 = 920;\r\n  const transitionTime2 = 720;\r\n  const transitionTime3 = 200;\r\n  const openFlag = d3.select(\"#boxid\" + String(body_num)).select(\"#\" + String(sourceid));\r\n  if (clicked || openFlag.attr(\"data-opened\") === \"true\") {\r\n    // openFlag.attr(\"data-opened\", \"false\");\r\n    d3.select(\"#boxid\" + String(body_num)).selectAll(\"[data-opened='true']\").attr(\"data-opened\", \"false\");\r\n    d3.selectAll('.drawer').each(function(d,i){\r\n      let GID = d3.select(this).attr('id').replace('line', '').replace('boxid', '');\r\n      const deleteLabel = String(body_num) + '-' + String(cond);\r\n      const deleteParts = deleteLabel.split('-');\r\n      // delete edges\r\n      if (GID.split('_').length === 2){\r\n        let deleteFlag = false;\r\n        const node1 = GID.split('_')[0];\r\n        const node2 = GID.split('_')[1];\r\n        const node1Parts = node1.split('-');\r\n        const node2Parts = node2.split('-');\r\n        if (arraysAreEqual(node1Parts, deleteParts)) {\r\n          d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n          deleteFlag = true;\r\n        } else if (node1Parts.length > deleteParts.length) {\r\n          const firstNParts = node1Parts.slice(0, deleteParts.length);\r\n          if (JSON.stringify(firstNParts) === JSON.stringify(deleteParts)) {\r\n            d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n            deleteFlag = true;\r\n          }\r\n        }\r\n        if (!deleteFlag) {\r\n          if (arraysAreEqual(node2Parts, deleteParts)) {\r\n            d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n          } else if (node2Parts.length > deleteParts.length) {\r\n            const firstNParts = node2Parts.slice(0, deleteParts.length);\r\n            if (JSON.stringify(firstNParts) === JSON.stringify(deleteParts)) {\r\n              d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n            }\r\n          }\r\n        }\r\n      } else { // delete nodes\r\n        const GIDParts = GID.split('-');\r\n        if (arraysAreEqual(GIDParts, deleteParts)) {\r\n          d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n        } else if (GIDParts.length > deleteParts.length) {\r\n          const firstNParts = GIDParts.slice(0, deleteParts.length);\r\n          if (JSON.stringify(firstNParts) === JSON.stringify(deleteParts)) {\r\n            d3.select(this)\r\n            .transition()        // \r\n            .duration(transitionTime3)      // \r\n            .style('opacity', 0) // \r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n          }\r\n        }\r\n      }\r\n      // console.log(GID);\r\n    })\r\n    return;\r\n  }\r\n  body_num = String(body_num);\r\n  let layoutCond;\r\n  let layoutPre;\r\n  let layoutBody;\r\n  let layoutPost;\r\n  // const layoutPost = getBoxLayout(fnS[post-1]);\r\n  const spaceX = 80;\r\n  const spaceY = 100;\r\n  const padding = 90;\r\n  const newLabelCond = String(body_num) + '-' + String(cond); // new body_num for Cond\r\n  const newLabelPre = String(newLabelCond) + '-' + String(pre); // new body_num for pre\r\n  const newLabelBody = String(newLabelCond) + '-' + String(body); // new body_num for body\r\n  const newLabelPost = String(newLabelCond) + '-' + String(post); // new body_num for post\r\n  if (cond!==undefined) {\r\n    layoutCond = getBoxLayout(fnS[cond-1]);\r\n    drawBox(layoutCond, fnS, newLabelCond, direction);\r\n  }\r\n  if (pre!==undefined) {\r\n    layoutPre = getBoxLayout(fnS[pre-1]);\r\n    drawBox(layoutPre, fnS, newLabelPre, direction);\r\n  }\r\n  if (body!==undefined) {\r\n    layoutBody = getBoxLayout(fnS[body-1]);\r\n    drawBox(layoutBody, fnS, newLabelBody, direction);\r\n  }\r\n  if (post!==undefined) {\r\n    layoutPost = getBoxLayout(fnS[post-1]);\r\n    drawBox(layoutPost, fnS, newLabelPost, direction);\r\n  }\r\n  \r\n  \r\n  // drawBox(layoutPost, fnS, newLabelPost);\r\n  var hierarchies = getHierarchy(spaceY);\r\n  // const flexLayout = flextree.flextree({ spacing: spaceX });\r\n  // console.log(hierarchies);\r\n  // const tree = flexLayout.hierarchy(hierarchies);\r\n  // var treeData = flexLayout(tree);\r\n  // treeData.each(d => {\r\n  //   const x = d.x;\r\n  //   d.x = d.y;\r\n  //   d.y = x;\r\n  // });\r\n  // var treeLayout = {};\r\n  // treeData.each(d => {\r\n  //   treeLayout[d.data.oName] = [d.x, d.y, d.data.size[1], d.data.size[0] * 1];\r\n  // });\r\n  var treeLayout = {};\r\n  treeLayout = getMultiTree(hierarchies);\r\n  const nodeNames = Object.keys(treeLayout);\r\n\r\n  console.log(treeLayout);\r\n  console.log()\r\n  let differenceX = treeLayout[newLabelCond][0] - treeLayout[body_num][0];\r\n  let differenceY = treeLayout[newLabelCond][1] - (treeLayout[body_num][1] );\r\n  \r\n  const locationTransform = [differenceX, differenceY];\r\n  drawLines(sourceid, \"frame\" + newLabelCond, locationTransform, body_num, newLabelCond, color, direction);\r\n  if (pre!==undefined) {\r\n    drawLinesDashArrow(treeLayout, newLabelCond, newLabelPre, \"black\", \"PRE\", direction);\r\n  }\r\n  if (body!==undefined) {\r\n    drawLinesDashArrow(treeLayout, newLabelCond, newLabelBody, \"black\", \"WHILE TRUE\", direction);\r\n  }\r\n  if (post!==undefined) {\r\n    drawLinesDashArrow(treeLayout, newLabelCond, newLabelPost, \"black\", \"POST\", direction);\r\n  }\r\n\r\n  // console.log(locationTransform);\r\n  d3.selectAll('.drawer').each(function(d, i){\r\n    let nodeID = d3.select(this).attr('id').replace(\"boxid\", \"\");\r\n    if (nodeID.split('_').length === 2){\r\n      if (d3.select(this).attr(\"line-type\") !== \"dashed\") {\r\n        const lineID = nodeID;\r\n        const sourceGID = nodeID.replace(\"line\", \"\").split('_')[0];\r\n        const targetGID = nodeID.replace(\"line\", \"\").split('_')[1];\r\n        const sourceTransString = d3.select(\"#boxid\" + sourceGID).attr('transform');\r\n        const targetTransString = d3.select(\"#boxid\" + targetGID).attr('transform');\r\n        if (sourceTransString!==null && sourceGID != newLabelCond){\r\n          const translatePart = sourceTransString.slice(10, -1);\r\n          const translateValues = translatePart.split(\",\");\r\n          const transformArray = translateValues.map(Number);\r\n          let newTransArray = [];\r\n          newTransArray = [treeLayout[sourceGID][0] + padding, treeLayout[sourceGID][1] + padding *7.5 ];\r\n          const locationTransformForThis = [treeLayout[targetGID][0] - treeLayout[sourceGID][0], treeLayout[targetGID][1] - (treeLayout[sourceGID][1] )];\r\n          if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n            const a01 = d3.select(this).attr('sourceid');\r\n            const a02 = d3.select(this).attr('targetid');\r\n            let a03 = d3.select(this).attr('locationTransform').split(',');\r\n            const a04 = d3.select(this).attr('body_num_source');\r\n            const a05 = d3.select(this).attr('body_num_target');\r\n            const a06 = d3.select(this).attr('color');\r\n            // const new03 = [Number(a03[0]) + newTransArray[0] - transformArray[0], Number(a03[1]) + newTransArray[1] - transformArray[1]];\r\n            // d3.select(\"#\" + lineID).selectAll('*').remove();\r\n            const currentDirection = d3.select(\"#boxid\" + a05).attr(\"direction\");\r\n            updateLines(a01, a02, locationTransformForThis, a04, a05, a06, lineID, currentDirection);\r\n          }\r\n        }\r\n        if (targetTransString!==null && targetGID != newLabelCond){\r\n          const translatePart = targetTransString.slice(10, -1);\r\n          const translateValues = translatePart.split(\",\");\r\n          const transformArray = translateValues.map(Number);\r\n          let newTransArray = [];\r\n          newTransArray = [treeLayout[targetGID][0] + padding, treeLayout[targetGID][1] + padding *7.5];\r\n          const locationTransformForThis = [treeLayout[targetGID][0] - treeLayout[sourceGID][0], treeLayout[targetGID][1] - (treeLayout[sourceGID][1])];\r\n          if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n            const a01 = d3.select(this).attr('sourceid');\r\n            const a02 = d3.select(this).attr('targetid');\r\n            let a03 = d3.select(this).attr('locationTransform').split(',');\r\n            const a04 = d3.select(this).attr('body_num_source');\r\n            const a05 = d3.select(this).attr('body_num_target');\r\n            const a06 = d3.select(this).attr('color');\r\n            // const new03 = [Number(a03[0]) + newTransArray[0] - transformArray[0], Number(a03[1]) + newTransArray[1] - transformArray[1]];\r\n            // d3.select(\"#\" + lineID).selectAll('*').remove();\r\n            const currentDirection = d3.select(\"#boxid\" + a05).attr(\"direction\");\r\n            updateLines(a01, a02, locationTransformForThis, a04, a05, a06, lineID, currentDirection);\r\n          }\r\n        }\r\n        \r\n        nodeID = nodeID.replace(\"line\", \"\");\r\n        nodeID = nodeID.split('_')[0];\r\n        d3.select(this)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 })`)\r\n          .style(\"opacity\", 0.38);\r\n      } else {\r\n        const lineID = nodeID;\r\n        const sourceGID = nodeID.replace(\"line\", \"\").split('_')[0];\r\n        const targetGID = nodeID.replace(\"line\", \"\").split('_')[1];\r\n        const sourceTransString = d3.select(\"#boxid\" + sourceGID).attr('transform');\r\n        const targetTransString = d3.select(\"#boxid\" + targetGID).attr('transform');\r\n        if (sourceTransString!==null && sourceGID != newLabelCond) {\r\n          const translatePart = sourceTransString.slice(10, -1);\r\n          const translateValues = translatePart.split(\",\");\r\n          const transformArray = translateValues.map(Number);\r\n          let newTransArray = [];\r\n          newTransArray = [treeLayout[sourceGID][0] + padding, treeLayout[sourceGID][1] + padding *7.5 ];\r\n          if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n            const line_label = d3.select(this).select('text').text();\r\n            const currentDirection = d3.select(\"#boxid\" + targetGID).attr(\"direction\");\r\n            updateLinesDashArrow(treeLayout, sourceGID, targetGID, \"black\", line_label, lineID, currentDirection);\r\n          }\r\n        }\r\n        if (targetTransString!==null && targetGID != newLabelCond){\r\n          const translatePart = targetTransString.slice(10, -1);\r\n          const translateValues = translatePart.split(\",\");\r\n          const transformArray = translateValues.map(Number);\r\n          let newTransArray = [];\r\n          newTransArray = [treeLayout[targetGID][0] + padding, treeLayout[targetGID][1] + padding *7.5 ];\r\n          if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n            const line_label = d3.select(this).select('text').text();\r\n            const currentDirection = d3.select(\"#boxid\" + targetGID).attr(\"direction\");\r\n            updateLinesDashArrow(treeLayout, sourceGID, targetGID, \"black\", line_label, lineID, currentDirection);\r\n          }\r\n        }\r\n        nodeID = nodeID.replace(\"line\", \"\");\r\n        nodeID = nodeID.split('_')[0];\r\n        d3.select(this)\r\n          // .transition()\r\n          // .duration(720)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 })`);\r\n      }\r\n    } else {\r\n      if (nodeID === newLabelCond || nodeID === newLabelPre || nodeID === newLabelBody || nodeID === newLabelPost) {\r\n        d3.select(this)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 })`)\r\n          .attr(\"opacity\", 0);\r\n        d3.select(this)\r\n          .transition()\r\n          .duration(transitionTime1)\r\n          .style(\"opacity\", 1);\r\n      } else {\r\n        d3.select(this)\r\n          .transition()\r\n          .duration(transitionTime2)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 })`);\r\n      }\r\n    }\r\n  }\r\n  )\r\n  // autoTranslate();\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/utils/clickCond.js","/* eslint-disable */\r\nimport * as d3 from \"d3\";\r\nimport { handleClick } from \"./click\";\r\nimport { handleClickCond, handleClickLoop } from \"./clickCond\";\r\nimport { computeBoundingRectangle, getOuterBox } from \"./utilities\"\r\n\r\nexport function drawBox(layout, fnS, body_num, directionO = \"right\") {\r\n    // SVG\r\n    // debugger\r\n    const svg = d3.select(\"#mainsvg\").select(\"#sumGroup\");\r\n    const g = svg.append(\"g\").attr('id', \"boxid\" + String(body_num)).attr(\"class\", \"drawer\").attr(\"direction\", directionO);\r\n    const ranksep = 37;\r\n    const padding = 22.5; // padding\r\n    // \r\n    const nodes = layout.nodes;\r\n    let opoNodeFlag = false;\r\n    let opiNodeFlag = false;\r\n    const minValue = Math.min(...Object.values(layout.nodes).map(obj => obj.y));\r\n    const maxValue = Math.max(...Object.values(layout.nodes).map(obj => obj.y));\r\n    for (const nodeId in nodes) {\r\n      const node = nodes[nodeId];\r\n      const [type, index] = nodeId.split(\"-\");\r\n      const isOpoNode = (type === 'opo');\r\n      const isOpiNode = (type === 'opi');\r\n      if (isOpiNode) {\r\n        if (node.y === minValue){\r\n          // node.y = minValue - 50 - ranksep;\r\n          opiNodeFlag = true;\r\n        }\r\n      }\r\n\r\n      if (isOpoNode) {\r\n        if (node.y === maxValue){\r\n          // node.y = maxValue + 50 + ranksep;\r\n          opoNodeFlag = true;\r\n        }\r\n      }\r\n    }\r\n    console.log(nodes);\r\n    for (const nodeId in nodes) {\r\n      // const node = nodes[nodeId];\r\n      const [type, index] = nodeId.split(\"-\");\r\n      const isOpoNode = (type === 'opo');\r\n      const isOpiNode = (type === 'opi');\r\n      \r\n      if (isOpiNode) {\r\n        // debugger\r\n        if (opiNodeFlag){\r\n          nodes[nodeId].y = minValue;\r\n        } else {\r\n          nodes[nodeId].y = minValue - 50 - ranksep;\r\n        }\r\n      }\r\n      if (isOpoNode) {\r\n        if (opoNodeFlag){\r\n          nodes[nodeId].y = maxValue;\r\n        } else {\r\n          nodes[nodeId].y = maxValue + 50 + ranksep;\r\n        }\r\n      }\r\n    }\r\n    \r\n\r\n    //  x  y \r\n    let minXofAllNodes = Infinity;\r\n    let minYofAllNodes = Infinity;\r\n    for (const key in nodes) {\r\n      const [type, index] = key.split(\"-\");\r\n      const isAuxNode = (type === \"aux\");\r\n      // if (!isAuxNode) {\r\n        if (nodes[key].x < minXofAllNodes) {\r\n          minXofAllNodes = nodes[key].x;\r\n        }\r\n        if (nodes[key].y < minYofAllNodes) {\r\n          minYofAllNodes = nodes[key].y;\r\n        }\r\n      // }\r\n    }\r\n\r\n    //  x  y \r\n    for (const key in nodes) {\r\n      nodes[key].x = nodes[key].x - minXofAllNodes;\r\n      nodes[key].y -= minYofAllNodes;\r\n    }\r\n    const bbox = computeBoundingRectangle(nodes);\r\n    const realOuterBox = getOuterBox(bbox, padding, ranksep, nodes);\r\n    console.log(bbox,\"bbox\");\r\n    for (const nodeId in nodes) {\r\n      const node = nodes[nodeId];\r\n      const [type, index] = nodeId.split(\"-\");\r\n      const isBfNode = (type === \"bf\");\r\n      const isPofNode = (type === \"pof\");\r\n      const isPifNode = (type === \"pif\");\r\n      const isAuxNode = (type === \"aux\");\r\n      const isOpoNode = (type === 'opo');\r\n      const isOpiNode = (type === 'opi');\r\n      const isBcNode = (type === \"bc\");\r\n      const isPocNode = (type === \"poc\");\r\n      const isPicNode = (type === \"pic\");\r\n      const isBlNode = (type === \"bl\");\r\n      const isPolNode = (type === \"pol\");\r\n      const isPilNode = (type === \"pil\");\r\n  \r\n      if (isAuxNode) {\r\n        continue; // aux\r\n      }\r\n      const bboxO = bbox;\r\n      if (isBfNode) {\r\n        if (node.fullBox){\r\n            if (node.type == \"FUNCTION\") {\r\n              drawBFs_full(node, nodeId, g, \"green\", ranksep, fnS, body_num, realOuterBox);\r\n            } else if (node.type == \"EXPRESSION\") {\r\n              drawBFs_full(node, nodeId, g, \"purple\", ranksep, fnS, body_num, realOuterBox);\r\n            } else if (node.type == \"LITERAL\") {\r\n              drawLiteral_full(node, nodeId, g, \"red\", ranksep);\r\n            } else if (node.type == \"LANGUAGE_PRIMITIVE\") {\r\n              drawLPrimitive_full(node, nodeId, g, \"red\", ranksep);\r\n            }\r\n        } else {\r\n          if (node.type == \"FUNCTION\") {\r\n            drawBFs_nfull(node, nodeId, g, \"green\", ranksep, fnS, body_num, realOuterBox);\r\n          } else if (node.type == \"EXPRESSION\") {\r\n            drawBFs_nfull(node, nodeId, g, \"purple\", ranksep, fnS, body_num, realOuterBox);\r\n          } else if (node.type == \"LITERAL\") {\r\n            drawLiteral_nfull(node, nodeId, g, \"red\", ranksep);\r\n          } else if (node.type == \"LANGUAGE_PRIMITIVE\") {\r\n            drawLPrimitive_nfull(node, nodeId, g, \"red\", ranksep);\r\n          }\r\n        }\r\n      } else if (isBcNode) {\r\n        if (node.fullBox){\r\n          drawBCs_full(node, nodeId, g, \"orange\", ranksep, fnS, body_num, realOuterBox);\r\n        } else {\r\n          drawBCs_nfull(node, nodeId, g, \"orange\", ranksep, fnS, body_num, realOuterBox);\r\n        }\r\n      } else if (isBlNode) {\r\n        if (node.fullBox){\r\n          drawBLs_full(node, nodeId, g, \"blue\", ranksep, fnS, body_num, realOuterBox);\r\n        } else {\r\n          drawBLs_nfull(node, nodeId, g, \"blue\", ranksep, fnS, body_num, realOuterBox);\r\n        }\r\n      }\r\n      else if (isPofNode || isPifNode || isOpiNode || isOpoNode || isPicNode || isPocNode || isPilNode || isPolNode) {\r\n        drawPorts(node, nodeId, g, \"black\");\r\n      }\r\n    }\r\n    // \r\n    g.append(\"defs\")\r\n      .append(\"marker\")\r\n      .attr(\"id\", \"arrowhead\")\r\n      .attr(\"markerWidth\", 10)\r\n      .attr(\"markerHeight\", 7)\r\n      .attr(\"refX\", 10)\r\n      .attr(\"refY\", 3.5)\r\n      .attr(\"orient\", \"auto\")\r\n      .append(\"path\")\r\n      .attr(\"d\", \"M0,0 L10,3.5 L0,7 Z\")\r\n      .style(\"fill\", \"gray\");\r\n  \r\n    // \r\n    const edges = layout.edges;\r\n    edges.forEach((edge) => {\r\n      const sourceNode = nodes[edge.source];\r\n      const targetNode = nodes[edge.target];\r\n      const sourceType = edge.source.split(\"-\")[0];\r\n      const targetType = edge.target.split(\"-\")[0];\r\n      const isAuxEdge = (sourceType === \"aux\" || targetType === \"aux\");\r\n\r\n      if (!isAuxEdge) {\r\n        g.append(\"line\")\r\n          .attr(\"x1\", sourceNode.x)\r\n          .attr(\"y1\", sourceNode.y - sourceNode.height / 2)\r\n          .attr(\"x2\", targetNode.x)\r\n          .attr(\"y2\", targetNode.y + targetNode.height / 2)\r\n          .style(\"stroke\", \"gray\")\r\n          .style(\"stroke-width\", 2.2)\r\n          .attr(\"marker-end\", \"url(#arrowhead)\");\r\n      }\r\n    });\r\n\r\n    // SVG\r\n\r\n    const width = bbox.width + padding * 4;\r\n    const height = bbox.height + padding * 4;\r\n\r\n    if ('opo-0' in nodes && 'opi-0' in nodes){\r\n      if (layout.meta.type === \"MODULE\"){\r\n        drawOuterBoxFull(g, bbox, width, height, padding, ranksep, \"gray\", body_num);\r\n      } else if (layout.meta.type === \"EXPRESSION\") {\r\n        drawOuterBoxFull(g, bbox, width, height, padding, ranksep, \"purple\", body_num);\r\n      } else if (layout.meta.type === \"FUNCTION\") {\r\n        drawOuterBoxFull(g, bbox, width, height, padding, ranksep, \"green\", body_num);\r\n      } else if (layout.meta.type === \"PREDICATE\") {\r\n        drawOuterBoxFull(g, bbox, width, height, padding, ranksep, \"Magenta\", body_num);\r\n      }\r\n    } else if ('opo-0' in nodes && !('opi-0' in nodes)) {\r\n      if (layout.meta.type === \"MODULE\"){\r\n        drawOuterBoxBottom(g, bbox, width, height, padding, ranksep, \"gray\", body_num);\r\n      } else if (layout.meta.type === \"EXPRESSION\") {\r\n        drawOuterBoxBottom(g, bbox, width, height, padding, ranksep, \"purple\", body_num);\r\n      } else if (layout.meta.type === \"FUNCTION\") {\r\n        drawOuterBoxBottom(g, bbox, width, height, padding, ranksep, \"green\", body_num);\r\n      } else if (layout.meta.type === \"PREDICATE\") {\r\n        drawOuterBoxBottom(g, bbox, width, height, padding, ranksep, \"Magenta\", body_num);\r\n      }\r\n    } else if (!('opo-0' in nodes) && 'opi-0' in nodes) {\r\n      if (layout.meta.type === \"MODULE\"){\r\n        drawOuterBoxTop(g, bbox, width, height, padding, ranksep, \"gray\", body_num);\r\n      } else if (layout.meta.type === \"EXPRESSION\") {\r\n        drawOuterBoxTop(g, bbox, width, height, padding, ranksep, \"purple\", body_num);\r\n      } else if (layout.meta.type === \"FUNCTION\") {\r\n        drawOuterBoxTop(g, bbox, width, height, padding, ranksep, \"green\", body_num);\r\n      } else if (layout.meta.type === \"PREDICATE\") {\r\n        drawOuterBoxTop(g, bbox, width, height, padding, ranksep, \"Magenta\", body_num);\r\n      }\r\n    } else {\r\n      if (layout.meta.type === \"MODULE\"){\r\n        drawOuterBoxEmpty(g, bbox, width, height, padding, ranksep, \"gray\", body_num);\r\n      } else if (layout.meta.type === \"EXPRESSION\") {\r\n        drawOuterBoxEmpty(g, bbox, width, height, padding, ranksep, \"purple\", body_num);\r\n      } else if (layout.meta.type === \"FUNCTION\") {\r\n        drawOuterBoxEmpty(g, bbox, width, height, padding, ranksep, \"green\", body_num);\r\n      } else if (layout.meta.type === \"PREDICATE\") {\r\n        drawOuterBoxEmpty(g, bbox, width, height, padding, ranksep, \"Magenta\", body_num);\r\n      }\r\n    }\r\n    g.attr(\"width\", g.node().getBBox().width)\r\n      .attr(\"height\", g.node().getBBox().height)\r\n    if (body_num === 0){\r\n      g.attr(\"transform\", `translate(${padding * 4},${padding * 30 - g.node().getBBox().height / 2 * 1})`);\r\n    }\r\n  }\r\n\r\nfunction drawBFs_full(node, nodeId, g, color, ranksep, fnS, body_num, bbox) {\r\n  let clicked = false;\r\n  let node_body = null;\r\n  if (node.body !== undefined) {\r\n    node_body = node.body;\r\n  }\r\n  const outerRight = bbox.x + bbox.width;\r\n  const outerBottom = bbox.y + bbox.height;\r\n  const innerRight = node.x + node.width / 2;\r\n  const innerBottom = node.y + node.height / 2 - ranksep;\r\n  console.log(outerRight, \"outerRight\");\r\n  console.log(outerBottom, \"outerBottom\");\r\n  console.log(innerBottom, \"innerBottom\");\r\n  console.log(innerRight, \"innerRight\");\r\n  let direction = \"right\";\r\n  if ( (outerRight - innerRight) > (outerBottom - innerBottom) + 120) {\r\n    direction = \"down\";\r\n  }\r\n  const selection = g.append(\"rect\")\r\n  .attr(\"id\", nodeId)\r\n  .attr(\"x\", node.x - node.width / 2)\r\n  .attr(\"y\", node.y - node.height / 2 + ranksep)\r\n  .attr(\"width\", node.width)\r\n  .attr(\"height\", node.height - ranksep * 2)\r\n  .attr(\"rx\", 15)\r\n  .attr(\"ry\", 15)\r\n  .attr(\"data-body\", node_body)\r\n  .attr(\"data-opened\", \"neo\")\r\n  .style(\"fill\", \"rgba(0, 0, 255, 0)\")\r\n  .style(\"stroke\", color)\r\n  .style(\"cursor\", \"pointer\")\r\n  .style(\"stroke-width\", 5);\r\n  if (node.label !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"12px\")\r\n    .text(node.label);\r\n  }\r\n  if (node.body !== undefined) {\r\n    selection.on(\"click\", function(){\r\n      handleClick(fnS, node.body, body_num, nodeId, color, clicked, direction);\r\n      clicked = !clicked;\r\n    });\r\n  }\r\n}\r\n\r\nfunction drawBFs_nfull(node, nodeId, g, color, ranksep, fnS, body_num, bbox = \"right\") {\r\n  let node_body = null;\r\n  if (node.body !== undefined) {\r\n    node_body = node.body;\r\n  }\r\n  let clicked = false;\r\n  const outerRight = bbox.x + bbox.width;\r\n  const outerBottom = bbox.y + bbox.height;\r\n  const innerRight = node.x + node.width / 2;\r\n  const innerBottom = node.y + node.height / 2 - ranksep;\r\n  let direction = \"right\";\r\n  if ( (outerRight - innerRight) > (outerBottom - innerBottom) + 120) {\r\n    direction = \"down\";\r\n  }\r\n  const selection = g.append(\"rect\")\r\n  .attr(\"id\", nodeId)\r\n  .attr(\"x\", node.x - node.width / 2)\r\n  .attr(\"y\", node.y - node.height / 2 - ranksep)\r\n  .attr(\"width\", node.width)\r\n  .attr(\"height\", node.height)\r\n  .attr(\"rx\", 15)\r\n  .attr(\"ry\", 15)\r\n  .attr(\"data-body\", node_body)\r\n  .attr(\"data-opened\", \"neo\")\r\n  .style(\"fill\", \"rgba(0, 0, 255, 0)\")\r\n  .style(\"cursor\", \"pointer\")\r\n  .style(\"stroke\", color)\r\n  .style(\"stroke-width\", 5);\r\n  if (node.label !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y - node.height / 4 - ranksep / 2)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"12px\")\r\n    .text(node.label);\r\n  }\r\n  if (node.body !== undefined) {\r\n    selection.on(\"click\", function(){\r\n      handleClick(fnS, node.body, body_num, nodeId, color, clicked, direction);\r\n      clicked = !clicked;\r\n    });\r\n  }\r\n}\r\n\r\nfunction drawBCs_full(node, nodeId, g, color, ranksep, fnS, body_num, bbox) {\r\n  let clicked = false;\r\n  let node_body_cond = null;\r\n  if (node.condition !== undefined) {\r\n    node_body_cond = node.condition;\r\n  }\r\n  const outerRight = bbox.x + bbox.width;\r\n  const outerBottom = bbox.y + bbox.height;\r\n  const innerRight = node.x + node.width / 2;\r\n  const innerBottom = node.y + node.height / 2 - ranksep;\r\n  let direction = \"right\";\r\n  if ( (outerRight - innerRight) > (outerBottom - innerBottom) + 120) {\r\n    direction = \"down\";\r\n  }\r\n  const selection = g.append(\"rect\")\r\n  .attr(\"id\", nodeId)\r\n  .attr(\"x\", node.x - node.width / 2)\r\n  .attr(\"y\", node.y - node.height / 2 + ranksep)\r\n  .attr(\"width\", node.width)\r\n  .attr(\"height\", node.height - ranksep * 2)\r\n  .attr(\"rx\", 15)\r\n  .attr(\"ry\", 15)\r\n  .attr(\"data-body\", node_body_cond)\r\n  .style(\"fill\", \"rgba(0, 0, 255, 0)\")\r\n  .style(\"stroke\", color)\r\n  .style(\"cursor\", \"pointer\")\r\n  .style(\"stroke-width\", 5);\r\n  if (node.label !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"12px\")\r\n    .text(node.label);\r\n  }\r\n  if (node.condition !== undefined) {\r\n    selection.on(\"click\", function(){\r\n      handleClickCond(fnS, node.condition, node.body_if, node.body_else, body_num, nodeId, color, clicked, direction);\r\n      clicked = !clicked;\r\n    });\r\n  }\r\n}\r\n\r\nfunction drawBCs_nfull(node, nodeId, g, color, ranksep, fnS, body_num, bbox) {\r\n  let node_body = null;\r\n  if (node.body !== undefined) {\r\n    node_body = node.body;\r\n  }\r\n  let clicked = false;\r\n  const outerRight = bbox.x + bbox.width;\r\n  const outerBottom = bbox.y + bbox.height;\r\n  const innerRight = node.x + node.width / 2;\r\n  const innerBottom = node.y + node.height / 2 - ranksep;\r\n  let direction = \"right\";\r\n  if ( (outerRight - innerRight) > (outerBottom - innerBottom) + 120) {\r\n    direction = \"down\";\r\n  }\r\n  const selection = g.append(\"rect\")\r\n  .attr(\"id\", nodeId)\r\n  .attr(\"x\", node.x - node.width / 2)\r\n  .attr(\"y\", node.y - node.height / 2 - ranksep)\r\n  .attr(\"width\", node.width)\r\n  .attr(\"height\", node.height)\r\n  .attr(\"rx\", 15)\r\n  .attr(\"ry\", 15)\r\n  .attr(\"data-body\", node_body)\r\n  .style(\"fill\", \"rgba(0, 0, 255, 0)\")\r\n  .style(\"cursor\", \"pointer\")\r\n  .style(\"stroke\", color)\r\n  .style(\"stroke-width\", 5);\r\n  if (node.label !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y - node.height / 4 - ranksep / 2)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"12px\")\r\n    .text(node.label);\r\n  }\r\n  if (node.body !== undefined) {\r\n    selection.on(\"click\", function(){\r\n      handleClickCond(fnS, node.condition, node.body_if, node.body_else, body_num, nodeId, color, clicked, direction);\r\n      clicked = !clicked;\r\n    });\r\n  }\r\n}\r\n\r\nfunction drawBLs_full(node, nodeId, g, color, ranksep, fnS, body_num, bbox) {\r\n  let clicked = false;\r\n  let node_body_cond = null;\r\n  if (node.condition !== undefined) {\r\n    node_body_cond = node.condition;\r\n  }\r\n  const outerRight = bbox.x + bbox.width;\r\n  const outerBottom = bbox.y + bbox.height;\r\n  const innerRight = node.x + node.width / 2;\r\n  const innerBottom = node.y + node.height / 2 - ranksep;\r\n  let direction = \"right\";\r\n  if ( (outerRight - innerRight) > (outerBottom - innerBottom) + 120) {\r\n    direction = \"down\";\r\n  }\r\n  const selection = g.append(\"rect\")\r\n  .attr(\"id\", nodeId)\r\n  .attr(\"x\", node.x - node.width / 2)\r\n  .attr(\"y\", node.y - node.height / 2 + ranksep)\r\n  .attr(\"width\", node.width)\r\n  .attr(\"height\", node.height - ranksep * 2)\r\n  .attr(\"rx\", 15)\r\n  .attr(\"ry\", 15)\r\n  .attr(\"data-body\", node_body_cond)\r\n  .style(\"fill\", \"rgba(0, 0, 255, 0)\")\r\n  .style(\"stroke\", color)\r\n  .style(\"cursor\", \"pointer\")\r\n  .style(\"stroke-width\", 5);\r\n  if (node.label !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"12px\")\r\n    .text(node.label);\r\n  }\r\n  if (node.condition !== undefined) {\r\n    selection.on(\"click\", function(){\r\n      handleClickLoop(fnS, node.condition, node.pre, node.body, node.post, body_num, nodeId, color, clicked, direction);\r\n      clicked = !clicked;\r\n    });\r\n  }\r\n}\r\n\r\nfunction drawBLs_nfull(node, nodeId, g, color, ranksep, fnS, body_num, bbox) {\r\n  let node_body = null;\r\n  if (node.body !== undefined) {\r\n    node_body = node.body;\r\n  }\r\n  let clicked = false;\r\n  const outerRight = bbox.x + bbox.width;\r\n  const outerBottom = bbox.y + bbox.height;\r\n  const innerRight = node.x + node.width / 2;\r\n  const innerBottom = node.y + node.height / 2 - ranksep;\r\n  let direction = \"right\";\r\n  if ( (outerRight - innerRight) > (outerBottom - innerBottom) + 120) {\r\n    direction = \"down\";\r\n  }\r\n  const selection = g.append(\"rect\")\r\n  .attr(\"id\", nodeId)\r\n  .attr(\"x\", node.x - node.width / 2)\r\n  .attr(\"y\", node.y - node.height / 2 - ranksep)\r\n  .attr(\"width\", node.width)\r\n  .attr(\"height\", node.height)\r\n  .attr(\"rx\", 15)\r\n  .attr(\"ry\", 15)\r\n  .attr(\"data-body\", node_body)\r\n  .style(\"fill\", \"rgba(0, 0, 255, 0)\")\r\n  .style(\"cursor\", \"pointer\")\r\n  .style(\"stroke\", color)\r\n  .style(\"stroke-width\", 5);\r\n  if (node.label !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y - node.height / 4 - ranksep / 2)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"12px\")\r\n    .text(node.label);\r\n  }\r\n  if (node.body !== undefined) {\r\n    selection.on(\"click\", function(){\r\n      handleClickLoop(fnS, node.body, body_num, nodeId, color, clicked, direction);\r\n      clicked = !clicked;\r\n    });\r\n  }\r\n}\r\n\r\nfunction drawLiteral_full(node, nodeId, g, color, ranksep) {\r\n  g.append(\"rect\")\r\n  .attr(\"id\", nodeId)\r\n  .attr(\"x\", node.x - node.width / 2)\r\n  .attr(\"y\", node.y - node.height / 2 + ranksep)\r\n  .attr(\"width\", node.width)\r\n  .attr(\"height\", node.height - ranksep * 2)\r\n  .style(\"fill\", \"none\")\r\n  .style(\"stroke\", color)\r\n  .style(\"stroke-width\", 2);\r\n  if (node.label !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"12px\")\r\n    .text(node.label);\r\n  }\r\n  if (node.value !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"30px\")\r\n    .text(node.value.value);\r\n  }\r\n}\r\n\r\nfunction drawLPrimitive_full(node, nodeId, g, color, ranksep) {\r\n  g.append(\"rect\")\r\n  .attr(\"id\", nodeId)\r\n  .attr(\"x\", node.x - node.width / 2)\r\n  .attr(\"y\", node.y - node.height / 2 + ranksep)\r\n  .attr(\"width\", node.width)\r\n  .attr(\"height\", node.height - ranksep * 2)\r\n  .style(\"fill\", \"none\")\r\n  .style(\"stroke\", color)\r\n  .style(\"stroke-width\", 5);\r\n  if (node.label !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"20px\")\r\n    .text(node.label);\r\n  }\r\n  if (node.value !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"30px\")\r\n    .text(node.value.value);\r\n  }\r\n}\r\n\r\nfunction drawLPrimitive_nfull(node, nodeId, g, color, ranksep) {\r\n  g.append(\"rect\")\r\n  .attr(\"id\", nodeId)\r\n  .attr(\"x\", node.x - node.width / 2)\r\n  .attr(\"y\", node.y - node.height / 2 - ranksep)\r\n  .attr(\"width\", node.width)\r\n  .attr(\"height\", node.height)\r\n  .style(\"fill\", \"none\")\r\n  .style(\"stroke\", color)\r\n  .style(\"stroke-width\", 5);\r\n  if (node.label !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"12px\")\r\n    .text(node.label);\r\n  }\r\n  if (node.value !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"30px\")\r\n    .text(node.value.value);\r\n  }\r\n}\r\n\r\nfunction drawLiteral_nfull(node, nodeId, g, color, ranksep) {\r\n  g.append(\"rect\")\r\n  .attr(\"id\", nodeId)\r\n  .attr(\"x\", node.x - node.width / 2 + ranksep / 2)\r\n  .attr(\"y\", node.y - node.height / 2 - ranksep)\r\n  .attr(\"width\", node.width - ranksep)\r\n  .attr(\"height\", node.height)\r\n  .style(\"fill\", \"none\")\r\n  .style(\"stroke\", color)\r\n  .style(\"stroke-width\", 2);\r\n  if (node.label !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"12px\")\r\n    .text(node.label);\r\n  }\r\n  if (node.value !== undefined){\r\n    g.append(\"text\") // label\r\n    .attr(\"x\", node.x)\r\n    .attr(\"y\", node.y - ranksep * 1.2)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .attr(\"dominant-baseline\", \"middle\")\r\n    .style(\"font-size\", \"30px\")\r\n    .text(node.value.value);\r\n  }\r\n}\r\n\r\nfunction drawPorts(node, nodeId, g, color) {\r\n  g.append(\"rect\")\r\n    .attr(\"id\", nodeId)\r\n    .attr(\"x\", node.x - node.width / 2)\r\n    .attr(\"y\", node.y - node.height / 2)\r\n    .attr(\"width\", node.width)\r\n    .attr(\"height\", node.height)\r\n    .style(\"fill\", \"white\")\r\n    .style(\"stroke\", color)\r\n    .style(\"stroke-width\", 2);\r\n    if (node.label !== undefined){\r\n      g.append(\"text\") // label\r\n      .attr(\"x\", node.x)\r\n      .attr(\"y\", node.y)\r\n      .attr(\"text-anchor\", \"middle\")\r\n      .attr(\"dominant-baseline\", \"middle\")\r\n      .style(\"font-size\", \"27px\")\r\n      .text(node.label);\r\n    }\r\n}\r\n\r\nfunction drawOuterBoxFull(g, bbox, width, height, padding, ranksep, color, body_num) {\r\n  // \r\n  g.append(\"rect\", \":first-child\")\r\n  .attr(\"id\", \"frame\" + body_num)\r\n  .attr(\"x\", bbox.x - padding)\r\n  .attr(\"y\", bbox.y - padding + ranksep)\r\n  .attr(\"rx\", 15)\r\n  .attr(\"ry\", 15)\r\n  .attr(\"width\", width - padding * 2)\r\n  .attr(\"height\", height - padding * 2 - ranksep * 2)\r\n  .style(\"fill\", \"none\")\r\n  .style(\"stroke\", color)\r\n  .style(\"stroke-width\", 5)\r\n  .lower();\r\n}\r\n\r\nfunction drawOuterBoxBottom(g, bbox, width, height, padding, ranksep, color, body_num) {\r\n  // \r\n  g.append(\"rect\", \":first-child\")\r\n    .attr(\"id\", \"frame\" + body_num)\r\n    .attr(\"x\", bbox.x - padding)\r\n    .attr(\"y\", bbox.y - padding - ranksep / 10)\r\n    .attr(\"rx\", 15)\r\n    .attr(\"ry\", 15)\r\n    .attr(\"width\", width - padding * 2)\r\n    .attr(\"height\", height - padding * 2 - ranksep)\r\n    .style(\"fill\", \"none\")\r\n    .style(\"stroke\", color)\r\n    .style(\"stroke-width\", 5)\r\n    .lower();\r\n}\r\n\r\nfunction drawOuterBoxTop(g, bbox, width, height, padding, ranksep, color, body_num) {\r\n  // \r\n  g.append(\"rect\", \":first-child\")\r\n    .attr(\"id\", \"frame\" + body_num)\r\n    .attr(\"x\", bbox.x - padding)\r\n    .attr(\"y\", bbox.y - padding + ranksep * 2)\r\n    .attr(\"rx\", 15)\r\n    .attr(\"ry\", 15)\r\n    .attr(\"width\", width - padding * 2)\r\n    .attr(\"height\", height - padding * 2 - ranksep)\r\n    .style(\"fill\", \"none\")\r\n    .style(\"stroke\", color)\r\n    .style(\"stroke-width\", 5)\r\n    .lower();\r\n}\r\n\r\nfunction drawOuterBoxEmpty(g, bbox, width, height, padding, ranksep, color, body_num) {\r\n  // \r\n  g.append(\"rect\", \":first-child\")\r\n    .attr(\"id\", \"frame\" + body_num)\r\n    .attr(\"x\", bbox.x - padding)\r\n    .attr(\"y\", bbox.y - padding)\r\n    .attr(\"rx\", 15)\r\n    .attr(\"ry\", 15)\r\n    .attr(\"width\", width - padding * 2)\r\n    .attr(\"height\", height - padding * 2)\r\n    .style(\"fill\", \"none\")\r\n    .style(\"stroke\", color)\r\n    .style(\"stroke-width\", 5)\r\n    .lower();\r\n}\r\n  \n\n\n// WEBPACK FOOTER //\n// ./src/utils/drawBox.js","<template>\r\n  <div class=\"container\">\r\n  <div class=\"d-flex justify-content-start\">\r\n    <!-- <button class=\"btn btn-primary\" @click=\"fetchData\">upload</button> -->\r\n    <div class=\"button-spacing\"></div> <!--  -->\r\n    <select v-model=\"selectedOption\" @change=\"fetchData\" class=\"my-select\" placeholder=\"Select\">\r\n      <option v-for=\"option in options\" :value=\"option.value\" :key=\"option.value\">\r\n        {{ option.text }}\r\n      </option>\r\n    </select>\r\n    <div><p> Or </p></div>\r\n    <input type=\"text\" v-model=\"url\" class=\"url-input\" placeholder=\"Input URL of JSON file here.\"/>\r\n    <input\r\n      type=\"file\"\r\n      ref=\"fileInput\"\r\n      @change=\"handleFileChange\"\r\n      style=\"display: none;\"\r\n    />\r\n    <button class=\"btn btn-primary\" @click=\"submitUrl\">Submit</button>\r\n    <button @click=\"triggerFileInput\">\r\n      Choose File\r\n    </button>\r\n    <button class=\"btn btn-primary download-button\" @click=\"downloadSVG\" >downloadSVG</button>\r\n  </div>\r\n    <div class=\"row\">\r\n      <div id=\"svg-container\" :style=\"blockStyle\">\r\n        <div class=\"version-text\">\r\n          Current Supported Skema Version:\r\n          <span class=\"highlight\">0.1.7</span>\r\n        </div>\r\n        <div class=\"version-text\">\r\n          Current File Version:\r\n          <span class=\"highlight\">{{ skemaVersion }}</span>\r\n        </div>\r\n        <svg id=\"mainsvg\" width=\"1200\" height=\"1000\" overflow=\"visible\">\r\n          <g id=\"sumGroup\"></g>\r\n        </svg>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as d3 from 'd3';\r\nimport axios from 'axios';\r\nimport { getBoxLayout } from '../utils/layout';\r\nimport { drawBox } from '../utils/drawBox';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      skemaVersion: '',\r\n      url: '',\r\n      blockStyle: {\r\n        backgroundColor: 'rgba(255, 255, 120, 0)',\r\n        height: '90vh',\r\n        width: '100%',\r\n      },\r\n      selectedFile: null,\r\n      selectedOption: null,\r\n      options: [\r\n        { text: 'Clay1', value: 'https://raw.githubusercontent.com/hconhisway/webcrawler/master/get_beta--Gromet-FN-auto2.json' },\r\n        { text: 'core_dynamics', value: 'https://raw.githubusercontent.com/hconhisway/webcrawler/master/core_dynamics_pack2.json' },\r\n        { text: 'while1', value: 'https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/while1/FN_0.1.6/while1--Gromet-FN-auto.json' },\r\n        { text: 'cond1', value: 'https://raw.githubusercontent.com/hconhisway/webcrawler/master/cond1--Gromet-FN-auto.json' },\r\n        { text: 'fun1', value: 'https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/fun1/FN_0.1.6/fun1--Gromet-FN-auto.json' },\r\n        { text: 'fun4', value: 'https://raw.githubusercontent.com/ml4ai/skema/adarshp/nom_error_handling/data/gromet/python/fun4/FN_0.1.6/fun4--Gromet-FN-auto.json' },\r\n        { text: 'exp1', value: 'https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/exp1/FN_0.1.6/exp1--Gromet-FN-auto.json' },\r\n        { text: 'exp2', value: 'https://gist.githubusercontent.com/jastier/76f7566ac44265707d892a252d8f85ab/raw/2be498c5fb369635725e9e6b493732a5c181ac65/first_matlab.json' },\r\n        { text: 'exp3', value: 'https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/exp3/FN_0.1.6/exp3--Gromet-FN-auto.json' },\r\n        { text: 'fun_default1', value: 'https://raw.githubusercontent.com/ml4ai/skema/adarshp/nom_error_handling/data/gromet/python/fun_default1/FN_0.1.6/fun_default1--Gromet-FN-auto.json' },\r\n        { text: 'assign_operator1', value: 'https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/assign_operator1/FN_0.1.6/assign_operator1--Gromet-FN-auto.json' },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    fetchData() {\r\n      d3.selectAll('g').remove();\r\n      axios.get(this.selectedOption)\r\n        .then((response) => {\r\n          function handleZoom(e) {\r\n            d3.select('svg g')\r\n              .attr('transform', e.transform);\r\n          }\r\n          const svg = d3.select('svg');\r\n          svg.append('g').attr('id', 'sumGroup');\r\n          const zoom = d3.zoom()\r\n            .on('zoom', handleZoom);\r\n          svg.call(zoom);\r\n          const jsonData = response.data;\r\n          this.skemaVersion = jsonData.schema_version;\r\n          const graphData = jsonData.modules[0];\r\n          const fn0 = graphData.fn;\r\n          const fnS = graphData.fn_array;\r\n          const layout = getBoxLayout(fn0);\r\n          drawBox(layout, fnS, 0);\r\n        })\r\n        .catch((error) => {\r\n          // eslint-disable-next-line\r\n          console.error(error);\r\n        });\r\n    },\r\n    triggerFileInput() {\r\n      this.$refs.fileInput.click();\r\n    },\r\n    handleFileChange(event) {\r\n      this.selectedFile = event.target.files[0];\r\n\r\n      if (this.selectedFile) {\r\n        const reader = new FileReader();\r\n        reader.onload = (e) => {\r\n          function handleZoom(zoomasd) {\r\n            d3.select('svg g')\r\n              .attr('transform', zoomasd.transform);\r\n          }\r\n          try {\r\n            const jsonData = JSON.parse(e.target.result);\r\n            const svg = d3.select('svg');\r\n            svg.append('g').attr('id', 'sumGroup');\r\n            const zoom = d3.zoom()\r\n              .on('zoom', handleZoom);\r\n            svg.call(zoom);\r\n            this.skemaVersion = jsonData.schema_version;\r\n            const graphData = jsonData.modules[0];\r\n            const fn0 = graphData.fn;\r\n            const fnS = graphData.fn_array;\r\n            const layout = getBoxLayout(fn0);\r\n            drawBox(layout, fnS, 0);\r\n          } catch (error) {\r\n            // eslint-disable-next-line\r\n            console.error('Error parsing JSON:', error);\r\n          }\r\n        };\r\n\r\n        reader.readAsText(this.selectedFile); // \r\n      }\r\n    },\r\n    downloadSVG() {\r\n      //  SVG \r\n      const svgElement = document.getElementById('mainsvg');\r\n      //  SVG \r\n      const svgData = new XMLSerializer().serializeToString(svgElement);\r\n      //  Blob \r\n      const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });\r\n      //  Blob  URL\r\n      const svgUrl = URL.createObjectURL(svgBlob);\r\n      //  SVG \r\n      const downloadLink = document.createElement('a');\r\n      downloadLink.href = svgUrl;\r\n      downloadLink.download = 'mainsvg.svg';\r\n      document.body.appendChild(downloadLink);\r\n      downloadLink.click();\r\n      document.body.removeChild(downloadLink);\r\n    },\r\n    submitUrl() {\r\n      this.excuteFunction(this.url);\r\n    },\r\n    excuteFunction(url) {\r\n      d3.selectAll('g').remove();\r\n      axios.get(url)\r\n        .then((response) => {\r\n          const jsonData = response.data;\r\n          this.skemaVersion = jsonData.schema_version;\r\n          const graphData = jsonData.modules[0];\r\n          const fn0 = graphData.fn;\r\n          const fnS = graphData.fn_array;\r\n          const layout = getBoxLayout(fn0);\r\n          drawBox(layout, fnS, 0);\r\n        })\r\n        .catch((error) => {\r\n          // eslint-disable-next-line\r\n          console.error(error);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.svg-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n.my-select {\r\n    /*  */\r\n    padding: 10px;\r\n    font-size: 16px;\r\n    border-radius: 5px;\r\n    border: 1px solid #ccc;\r\n    margin-right: 20px; /*  */\r\n}\r\n\r\n.url-input {\r\n    /*  */\r\n    padding: 10px;\r\n    font-size: 16px;\r\n    border: 1px solid #ccc;\r\n    width: 400px;\r\n    overflow-x: auto;\r\n    margin-left: 20px; /*  */\r\n}\r\n\r\np {\r\n  margin-bottom: -10px;\r\n  font-size: 27px;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n.download-button {\r\n  margin-left: 300px;\r\n}\r\n\r\n.version-text {\r\n  font-size: 27px;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n.highlight {\r\n  color: red;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Moviz.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"d-flex justify-content-start\"},[_c('div',{staticClass:\"button-spacing\"}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedOption),expression:\"selectedOption\"}],staticClass:\"my-select\",attrs:{\"placeholder\":\"Select\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedOption=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.fetchData]}},_vm._l((_vm.options),function(option){return _c('option',{key:option.value,domProps:{\"value\":option.value}},[_vm._v(\"\\n      \"+_vm._s(option.text)+\"\\n    \")])}),0),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],staticClass:\"url-input\",attrs:{\"type\":\"text\",\"placeholder\":\"Input URL of JSON file here.\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}}),_vm._v(\" \"),_c('input',{ref:\"fileInput\",staticStyle:{\"display\":\"none\"},attrs:{\"type\":\"file\"},on:{\"change\":_vm.handleFileChange}}),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.submitUrl}},[_vm._v(\"Submit\")]),_vm._v(\" \"),_c('button',{on:{\"click\":_vm.triggerFileInput}},[_vm._v(\"\\n    Choose File\\n  \")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary download-button\",on:{\"click\":_vm.downloadSVG}},[_vm._v(\"downloadSVG\")])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{style:(_vm.blockStyle),attrs:{\"id\":\"svg-container\"}},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"version-text\"},[_vm._v(\"\\n        Current File Version:\\n        \"),_c('span',{staticClass:\"highlight\"},[_vm._v(_vm._s(_vm.skemaVersion))])]),_vm._v(\" \"),_c('svg',{attrs:{\"id\":\"mainsvg\",\"width\":\"1200\",\"height\":\"1000\",\"overflow\":\"visible\"}},[_c('g',{attrs:{\"id\":\"sumGroup\"}})])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._v(\" Or \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"version-text\"},[_vm._v(\"\\n        Current Supported Skema Version:\\n        \"),_c('span',{staticClass:\"highlight\"},[_vm._v(\"0.1.7\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4fc6362e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Moviz.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4fc6362e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Moviz.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Moviz.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Moviz.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4fc6362e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Moviz.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4fc6362e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Moviz.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport Moviz from '@/components/Moviz';\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'Moviz',\r\n      component: Moviz,\r\n    },\r\n  ],\r\n  mode: 'hash',\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Vue from 'vue';\r\nimport App from './App';\r\nimport router from './router';\r\n\r\nVue.config.productionTip = false;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  components: { App },\r\n  template: '<App/>',\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = {\"name\":\"d3-flextree\",\"version\":\"2.1.2\",\"main\":\"build/d3-flextree.js\",\"module\":\"index\",\"jsnext:main\":\"index\",\"author\":{\"name\":\"Chris Maloney\",\"url\":\"http://chrismaloney.org\"},\"description\":\"Flexible tree layout algorithm that allows for variable node sizes.\",\"keywords\":[\"d3\",\"d3-module\",\"layout\",\"tree\",\"hierarchy\",\"d3-hierarchy\",\"plugin\",\"d3-plugin\",\"infovis\",\"visualization\",\"2d\"],\"homepage\":\"https://github.com/klortho/d3-flextree\",\"license\":\"WTFPL\",\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/klortho/d3-flextree.git\"},\"scripts\":{\"clean\":\"rm -rf build demo test\",\"build:demo\":\"rollup -c --environment BUILD:demo\",\"build:dev\":\"rollup -c --environment BUILD:dev\",\"build:prod\":\"rollup -c --environment BUILD:prod\",\"build:test\":\"rollup -c --environment BUILD:test\",\"build\":\"rollup -c\",\"lint\":\"eslint index.js src\",\"test:main\":\"node test/bundle.js\",\"test:browser\":\"node test/browser-tests.js\",\"test\":\"npm-run-all test:*\",\"prepare\":\"npm-run-all clean build lint test\"},\"dependencies\":{\"d3-hierarchy\":\"^1.1.5\"},\"devDependencies\":{\"babel-plugin-external-helpers\":\"^6.22.0\",\"babel-preset-es2015-rollup\":\"^3.0.0\",\"d3\":\"^4.13.0\",\"d3-selection-multi\":\"^1.0.1\",\"eslint\":\"^4.19.1\",\"jsdom\":\"^11.6.2\",\"npm-run-all\":\"^4.1.2\",\"rollup\":\"^0.55.3\",\"rollup-plugin-babel\":\"^2.7.1\",\"rollup-plugin-commonjs\":\"^8.0.2\",\"rollup-plugin-copy\":\"^0.2.3\",\"rollup-plugin-json\":\"^2.3.0\",\"rollup-plugin-node-resolve\":\"^3.0.2\",\"rollup-plugin-uglify\":\"^3.0.0\",\"uglify-es\":\"^3.3.9\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/d3-flextree/package.json\n// module id = p+Xa\n// module chunks = 1"],"sourceRoot":""}