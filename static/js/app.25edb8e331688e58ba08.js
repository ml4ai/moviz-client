webpackJsonp([1],{Jmt5:function(t,e){},NHnr:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});r("Jmt5");var a=r("7+uW"),i=r("fZjL"),n=r.n(i),o=r("Dd8w"),l=r.n(o),s=r("Xxa5"),h=r.n(s),d=r("exGp"),c=r.n(d),u=r("Cx91"),g=r("mtWM"),p=r("5i7/"),f=r.n(p),y=(r("iMEU"),r("BO1k")),m=r.n(y),v=r("Zrlr"),x=r.n(v),b=r("wxAW"),w=r.n(b),N=r("YVj4"),_=r("kvU2"),E=r.n(_);function k(t){var e=new N.graphlib.Graph({compound:!0});if(e.setGraph({}),e.setDefaultEdgeLabel(function(){return{}}),"bf"in t)for(var r=0;r<t.bf.length;r+=1){var a=t.bf[r],i="bf-"+r,n=a.name,o=a.function_type,l=a.value,s=a.body,h=a.metadata;e.setNode(i,{label:n,value:l,type:o,body:s,metadata:h});e.setNode("aux-"+i,{auxLabel:"aux",width:1,height:1})}if("pif"in t)for(var d=0;d<t.pif.length;d+=1){var c=t.pif[d],u="pif-"+d,g=c.name,p=c.metadata;e.setNode(u,{label:g,width:50,height:50,metadata:p}),e.setParent(u,"bf-"+(c.box-1))}if("pof"in t)for(var f=0;f<t.pof.length;f+=1){var y=t.pof[f],m="pof-"+f,v=y.name,x=y.metadata;e.setNode(m,{label:v,width:50,height:50,metadata:x}),e.setParent(m,"bf-"+(y.box-1))}if("opo"in t)for(var b=0;b<t.opo.length;b+=1){var w=t.opo[b],_="opo-"+b,E=w.name,k=w.metadata;e.setNode(_,{label:E,width:50,height:50,metadata:k})}if("opi"in t)for(var M=0;M<t.opi.length;M+=1){var z=t.opi[M],S="opi-"+M,C=z.name,T=z.metadata;e.setNode(S,{label:C,width:50,height:50,metadata:T})}if("wff"in t)for(var A=0;A<t.wff.length;A+=1){var R=t.wff[A],P="pif-"+(R.src-1),O="pof-"+(R.tgt-1);if(e.hasNode(P)&&e.hasNode(O))e.setEdge(P,O);else if(e.hasNode(P)&&!e.hasNode(O)){var J=O;e.setNode(J,{label:"err",width:50,height:50}),e.setEdge(P,O)}else if(!e.hasNode(P)&&e.hasNode(O)){var F=P;e.setNode(F,{label:"err",width:50,height:50}),e.setEdge(P,O)}else{var I=P,D=O;e.setNode(I,{label:"err",width:50,height:50}),e.setNode(D,{label:"err",width:50,height:50}),e.setEdge(P,O)}}if("wfopi"in t)for(var L=0;L<t.wfopi.length;L+=1){var X=t.wfopi[L],B="pif-"+(X.src-1),G="opi-"+(X.tgt-1);if(e.hasNode(B)&&e.hasNode(G))e.setEdge(B,G);else if(e.hasNode(B)&&!e.hasNode(G)){var j=G;e.setNode(j,{label:"err",width:50,height:50}),e.setEdge(B,G)}else if(!e.hasNode(B)&&e.hasNode(G)){var U=B;e.setNode(U,{label:"err",width:50,height:50}),e.setEdge(B,G)}else{var H=B,q=G;e.setNode(H,{label:"err",width:50,height:50}),e.setNode(q,{label:"err",width:50,height:50}),e.setEdge(B,G)}}if("wfopo"in t)for(var V=0;V<t.wfopo.length;V+=1){var W=t.wfopo[V],$="opo-"+(W.src-1),Y="pof-"+(W.tgt-1);if(e.hasNode($)&&e.hasNode(Y))e.setEdge($,Y);else if(e.hasNode($)&&!e.hasNode(Y)){var Z=Y;e.setNode(Z,{label:"err",width:50,height:50}),e.setEdge($,Y)}else if(!e.hasNode($)&&e.hasNode(Y)){var K=$;e.setNode(K,{label:"err",width:50,height:50}),e.setEdge($,Y)}else{var Q=$,tt=Y;e.setNode(Q,{label:"err",width:50,height:50}),e.setNode(tt,{label:"err",width:50,height:50}),e.setEdge($,Y)}}if("wopio"in t)for(var et=0;et<t.wopio.length;et+=1){var rt=t.wopio[et],at="opo-"+(rt.src-1),it="opi-"+(rt.tgt-1);if(e.hasNode(at)&&e.hasNode(it))e.setEdge(at,it);else if(e.hasNode(at)&&!e.hasNode(it)){var nt=it;e.setNode(nt,{label:"err",width:50,height:50}),e.setEdge(at,it)}else if(!e.hasNode(at)&&e.hasNode(it)){var ot=at;e.setNode(ot,{label:"err",width:50,height:50}),e.setEdge(at,it)}else{var lt=at,st=it;e.setNode(lt,{label:"err",width:50,height:50}),e.setNode(st,{label:"err",width:50,height:50}),e.setEdge(at,it)}}if("bc"in t)for(var ht=0;ht<t.bc.length;ht+=1){var dt=t.bc[ht],ct="bc-"+ht,ut=dt.name,gt=dt.function_type,pt=dt.value,ft=dt.condition,yt=dt.body_if,mt=dt.body_else,vt=dt.metadata;e.setNode(ct,{label:ut,value:pt,type:gt,condition:ft,body_if:yt,body_else:mt,metadata:vt});e.setNode("aux-"+ct,{auxLabel:"aux",width:1,height:1})}if("pic"in t)for(var xt=0;xt<t.pic.length;xt+=1){var bt=t.pic[xt],wt="pic-"+xt,Nt=bt.name,_t=bt.metadata;e.setNode(wt,{label:Nt,width:50,height:50,metadata:_t}),e.setParent(wt,"bc-"+(bt.box-1))}if("poc"in t)for(var Et=0;Et<t.poc.length;Et+=1){var kt=t.poc[Et],Mt="poc-"+Et,zt=kt.name,St=kt.metadata;e.setNode(Mt,{label:zt,width:50,height:50,metadata:St}),e.setParent(Mt,"bc-"+(kt.box-1))}if("wfc"in t)for(var Ct=0;Ct<t.wfc.length;Ct+=1){var Tt=t.wfc[Ct],At="pic-"+(Tt.src-1),Rt="pof-"+(Tt.tgt-1);if(e.hasNode(At)&&e.hasNode(Rt))e.setEdge(At,Rt);else if(e.hasNode(At)&&!e.hasNode(Rt)){var Pt=Rt;e.setNode(Pt,{label:"err",width:50,height:50}),e.setEdge(At,Rt)}else if(!e.hasNode(At)&&e.hasNode(Rt)){var Ot=At;e.setNode(Ot,{label:"err",width:50,height:50}),e.setEdge(At,Rt)}else{var Jt=At,Ft=Rt;e.setNode(Jt,{label:"err",width:50,height:50}),e.setNode(Ft,{label:"err",width:50,height:50}),e.setEdge(At,Rt)}}if("wcf"in t)for(var It=0;It<t.wcf.length;It+=1){var Dt=t.wcf[It],Lt="pif-"+(Dt.src-1),Xt="poc-"+(Dt.tgt-1);if(e.hasNode(Lt)&&e.hasNode(Xt))e.setEdge(Lt,Xt);else if(e.hasNode(Lt)&&!e.hasNode(Xt)){var Bt=Xt;e.setNode(Bt,{label:"err",width:50,height:50}),e.setEdge(Lt,Xt)}else if(!e.hasNode(Lt)&&e.hasNode(Xt)){var Gt=Lt;e.setNode(Gt,{label:"err",width:50,height:50}),e.setEdge(Lt,Xt)}else{var jt=Lt,Ut=Xt;e.setNode(jt,{label:"err",width:50,height:50}),e.setNode(Ut,{label:"err",width:50,height:50}),e.setEdge(Lt,Xt)}}if("wcc"in t)for(var Ht=0;Ht<t.wcc.length;Ht+=1){var qt=t.wcc[Ht],Vt="pic-"+(qt.src-1),Wt="poc-"+(qt.tgt-1);if(e.hasNode(Vt)&&e.hasNode(Wt))e.setEdge(Vt,Wt);else if(e.hasNode(Vt)&&!e.hasNode(Wt)){var $t=Wt;e.setNode($t,{label:"err",width:50,height:50}),e.setEdge(Vt,Wt)}else if(!e.hasNode(Vt)&&e.hasNode(Wt)){var Yt=Vt;e.setNode(Yt,{label:"err",width:50,height:50}),e.setEdge(Vt,Wt)}else{var Zt=Vt,Kt=Wt;e.setNode(Zt,{label:"err",width:50,height:50}),e.setNode(Kt,{label:"err",width:50,height:50}),e.setEdge(Vt,Wt)}}if("wcopi"in t)for(var Qt=0;Qt<t.wcopi.length;Qt+=1){var te=t.wcopi[Qt],ee="pic-"+(te.src-1),re="opi-"+(te.tgt-1);if(e.hasNode(ee)&&e.hasNode(re))e.setEdge(ee,re);else if(e.hasNode(ee)&&!e.hasNode(re)){var ae=re;e.setNode(ae,{label:"err",width:50,height:50}),e.setEdge(ee,re)}else if(!e.hasNode(ee)&&e.hasNode(re)){var ie=ee;e.setNode(ie,{label:"err",width:50,height:50}),e.setEdge(ee,re)}else{var ne=ee,oe=re;e.setNode(ne,{label:"err",width:50,height:50}),e.setNode(oe,{label:"err",width:50,height:50}),e.setEdge(ee,re)}}if("wcopo"in t)for(var le=0;le<t.wcopo.length;le+=1){var se=t.wcopo[le],he="opo-"+(se.src-1),de="poc-"+(se.tgt-1);if(e.hasNode(he)&&e.hasNode(de))e.setEdge(he,de);else if(e.hasNode(he)&&!e.hasNode(de)){var ce=de;e.setNode(ce,{label:"err",width:50,height:50}),e.setEdge(he,de)}else if(!e.hasNode(he)&&e.hasNode(de)){var ue=he;e.setNode(ue,{label:"err",width:50,height:50}),e.setEdge(he,de)}else{var ge=he,pe=de;e.setNode(ge,{label:"err",width:50,height:50}),e.setNode(pe,{label:"err",width:50,height:50}),e.setEdge(he,de)}}if("bl"in t)for(var fe=0;fe<t.bl.length;fe+=1){var ye=t.bl[fe],me="bl-"+fe,ve=ye.name,xe=ye.function_type,be=ye.value,we=ye.condition,Ne=ye.pre,_e=ye.body,Ee=ye.post,ke=ye.metadata;e.setNode(me,{label:ve,value:be,type:xe,condition:we,pre:Ne,body:_e,post:Ee,metadata:ke});e.setNode("aux-"+me,{auxLabel:"aux",width:1,height:1})}if("pil"in t)for(var Me=0;Me<t.pil.length;Me+=1){var ze=t.pil[Me],Se="pil-"+Me,Ce=ze.name,Te=ze.metadata;e.setNode(Se,{label:Ce,width:50,height:50,metadata:Te}),e.setParent(Se,"bl-"+(ze.box-1))}if("pol"in t)for(var Ae=0;Ae<t.pol.length;Ae+=1){var Re=t.pol[Ae],Pe="pol-"+Ae,Oe=Re.name,Je=Re.metadata;e.setNode(Pe,{label:Oe,width:50,height:50,metadata:Je}),e.setParent(Pe,"bl-"+(Re.box-1))}if("wfl"in t)for(var Fe=0;Fe<t.wfl.length;Fe+=1){var Ie=t.wfl[Fe],De="pil-"+(Ie.src-1),Le="pof-"+(Ie.tgt-1);if(e.hasNode(De)&&e.hasNode(Le))e.setEdge(De,Le);else if(e.hasNode(De)&&!e.hasNode(Le)){var Xe=Le;e.setNode(Xe,{label:"err",width:50,height:50}),e.setEdge(De,Le)}else if(!e.hasNode(De)&&e.hasNode(Le)){var Be=De;e.setNode(Be,{label:"err",width:50,height:50}),e.setEdge(De,Le)}else{var Ge=De,je=Le;e.setNode(Ge,{label:"err",width:50,height:50}),e.setNode(je,{label:"err",width:50,height:50}),e.setEdge(De,Le)}}if("wcl"in t)for(var Ue=0;Ue<t.wcl.length;Ue+=1){var He=t.wcl[Ue],qe="pil-"+(He.src-1),Ve="poc-"+(He.tgt-1);if(e.hasNode(qe)&&e.hasNode(Ve))e.setEdge(qe,Ve);else if(e.hasNode(qe)&&!e.hasNode(Ve)){var We=Ve;e.setNode(We,{label:"err",width:50,height:50}),e.setEdge(qe,Ve)}else if(!e.hasNode(qe)&&e.hasNode(Ve)){var $e=qe;e.setNode($e,{label:"err",width:50,height:50}),e.setEdge(qe,Ve)}else{var Ye=qe,Ze=Ve;e.setNode(Ye,{label:"err",width:50,height:50}),e.setNode(Ze,{label:"err",width:50,height:50}),e.setEdge(qe,Ve)}}if("wlopi"in t)for(var Ke=0;Ke<t.wlopi.length;Ke+=1){var Qe=t.wlopi[Ke],tr="pil-"+(Qe.src-1),er="opi-"+(Qe.tgt-1);if(e.hasNode(tr)&&e.hasNode(er))e.setEdge(tr,er);else if(e.hasNode(tr)&&!e.hasNode(er)){var rr=er;e.setNode(rr,{label:"err",width:50,height:50}),e.setEdge(tr,er)}else if(!e.hasNode(tr)&&e.hasNode(er)){var ar=tr;e.setNode(ar,{label:"err",width:50,height:50}),e.setEdge(tr,er)}else{var ir=tr,nr=er;e.setNode(ir,{label:"err",width:50,height:50}),e.setNode(nr,{label:"err",width:50,height:50}),e.setEdge(tr,er)}}if("wll"in t)for(var or=0;or<t.wll.length;or+=1){var lr=t.wll[or],sr="pil-"+(lr.src-1),hr="pol-"+(lr.tgt-1);if(e.hasNode(sr)&&e.hasNode(hr))e.setEdge(sr,hr);else if(e.hasNode(sr)&&!e.hasNode(hr)){var dr=hr;e.setNode(dr,{label:"err",width:50,height:50}),e.setEdge(sr,hr)}else if(!e.hasNode(sr)&&e.hasNode(hr)){var cr=sr;e.setNode(cr,{label:"err",width:50,height:50}),e.setEdge(sr,hr)}else{var ur=sr,gr=hr;e.setNode(ur,{label:"err",width:50,height:50}),e.setNode(gr,{label:"err",width:50,height:50}),e.setEdge(sr,hr)}}if("wlf"in t)for(var pr=0;pr<t.wlf.length;pr+=1){var fr=t.wlf[pr],yr="pif-"+(fr.src-1),mr="pol-"+(fr.tgt-1);if(e.hasNode(yr)&&e.hasNode(mr))e.setEdge(yr,mr);else if(e.hasNode(yr)&&!e.hasNode(mr)){var vr=mr;e.setNode(vr,{label:"err",width:50,height:50}),e.setEdge(yr,mr)}else if(!e.hasNode(yr)&&e.hasNode(mr)){var xr=yr;e.setNode(xr,{label:"err",width:50,height:50}),e.setEdge(yr,mr)}else{var br=yr,wr=mr;e.setNode(br,{label:"err",width:50,height:50}),e.setNode(wr,{label:"err",width:50,height:50}),e.setEdge(yr,mr)}}if("wlc"in t)for(var Nr=0;Nr<t.wlc.length;Nr+=1){var _r=t.wlc[Nr],Er="pic-"+(_r.src-1),kr="pol-"+(_r.tgt-1);if(e.hasNode(Er)&&e.hasNode(kr))e.setEdge(Er,kr);else if(e.hasNode(Er)&&!e.hasNode(kr)){var Mr=kr;e.setNode(Mr,{label:"err",width:50,height:50}),e.setEdge(Er,kr)}else if(!e.hasNode(Er)&&e.hasNode(kr)){var zr=Er;e.setNode(zr,{label:"err",width:50,height:50}),e.setEdge(Er,kr)}else{var Sr=Er,Cr=kr;e.setNode(Sr,{label:"err",width:50,height:50}),e.setNode(Cr,{label:"err",width:50,height:50}),e.setEdge(Er,kr)}}if("wlopo"in t)for(var Tr=0;Tr<t.wlopo.length;Tr+=1){var Ar=t.wlopo[Tr],Rr="opo-"+(Ar.src-1),Pr="pol-"+(Ar.tgt-1);if(e.hasNode(Rr)&&e.hasNode(Pr))e.setEdge(Rr,Pr);else if(e.hasNode(Rr)&&!e.hasNode(Pr)){var Or=Pr;e.setNode(Or,{label:"err",width:50,height:50}),e.setEdge(Rr,Pr)}else if(!e.hasNode(Rr)&&e.hasNode(Pr)){var Jr=Rr;e.setNode(Jr,{label:"err",width:50,height:50}),e.setEdge(Rr,Pr)}else{var Fr=Rr,Ir=Pr;e.setNode(Fr,{label:"err",width:50,height:50}),e.setNode(Ir,{label:"err",width:50,height:50}),e.setEdge(Rr,Pr)}}if("pif"in t)for(var Dr=0;Dr<t.pif.length;Dr+=1){var Lr="pif-"+Dr,Xr="aux-bf-"+(t.pif[Dr].box-1);e.predecessors(Lr).length>0||e.setEdge(Xr,Lr)}if("pof"in t)for(var Br=0;Br<t.pof.length;Br+=1){var Gr="pof-"+Br,jr="aux-bf-"+(t.pof[Br].box-1);e.successors(Gr).length>0||e.setEdge(Gr,jr)}if("pic"in t)for(var Ur=0;Ur<t.pic.length;Ur+=1){var Hr="pic-"+Ur,qr="aux-bc-"+(t.pic[Ur].box-1);e.predecessors(Hr).length>0||e.setEdge(qr,Hr)}if("poc"in t)for(var Vr=0;Vr<t.poc.length;Vr+=1){var Wr="poc-"+Vr,$r="aux-bc-"+(t.poc[Vr].box-1);e.successors(Wr).length>0||e.setEdge(Wr,$r)}if("pil"in t)for(var Yr=0;Yr<t.pil.length;Yr+=1){var Zr="pil-"+Yr,Kr="aux-bl-"+(t.pil[Yr].box-1);e.predecessors(Zr).length>0||e.setEdge(Kr,Zr)}if("pol"in t)for(var Qr=0;Qr<t.pol.length;Qr+=1){var ta="pol-"+Qr,ea="aux-bl-"+(t.pol[Qr].box-1);e.successors(ta).length>0||e.setEdge(ta,ea)}e.nodes().filter(function(t){return t.startsWith("bf")}),e.nodes().filter(function(t){return t.startsWith("bc")}),e.nodes().filter(function(t){return t.startsWith("bl")}),e.nodes().filter(function(t){return t.startsWith("opo")}),e.nodes().filter(function(t){return t.startsWith("opi")});e.setGraph({ranksep:30,rankdir:"BT"}),N.layout(e);var ra={nodes:{},edges:[]};if(e.nodes().forEach(function(t){var r=e.node(t);ra.nodes[t]={x:r.x,y:r.y,width:r.width,height:r.height,label:r.label,type:r.type,value:r.value,body:r.body,condition:r.condition,body_if:r.body_if,body_else:r.body_else,pre:r.pre,post:r.post,metadata:r.metadata}}),e.edges().forEach(function(t,e){ra.edges.push({id:e,source:t.v,target:t.w})}),"bf"in t)for(var aa=function(e){var r="bf-"+e;if("pif"in t&&"pof"in t){var a=t.pof.find(function(t){return t.box===e+1}),i=t.pif.find(function(t){return t.box===e+1});ra.nodes[r].fullBox=!(!a||!i)}else ra.nodes[r].fullBox=!1},ia=0;ia<t.bf.length;ia+=1)aa(ia);if("bc"in t)for(var na=function(e){var r="bc-"+e;if("pic"in t&&"poc"in t){var a=t.poc.find(function(t){return t.box===e+1}),i=t.pic.find(function(t){return t.box===e+1});ra.nodes[r].fullBox=!(!a||!i)}else ra.nodes[r].fullBox=!1},oa=0;oa<t.bc.length;oa+=1)na(oa);if("bl"in t)for(var la=function(e){var r="bl-"+e;if("pil"in t&&"pol"in t){var a=t.pol.find(function(t){return t.box===e+1}),i=t.pil.find(function(t){return t.box===e+1});ra.nodes[r].fullBox=!(!a||!i)}else ra.nodes[r].fullBox=!1},sa=0;sa<t.bl.length;sa+=1)la(sa);return ra.meta={},ra.meta.name=t.b[0].name,ra.meta.identifier=t.b[0].function_type+"-"+t.b[0].metadata,ra.meta.type=t.b[0].function_type,ra.meta.metadata=t.b[0].metadata,ra}!function(){function t(e){var r=this;x()(this,t),this.parent={},e.forEach(function(t){return r.parent[t]=t})}w()(t,[{key:"find",value:function(t){return this.parent[t]!==t&&(this.parent[t]=this.find(this.parent[t])),this.parent[t]}},{key:"union",value:function(t,e){var r=this.find(t),a=this.find(e);r!==a&&(this.parent[a]=r)}}])}();var M=r("mvHQ"),z=r.n(M),S=r("d7EF"),C=r.n(S),T=r("gRE1"),A=r.n(T),R=r("Gu7T"),P=r.n(R);function O(t,e,r,a,i,n,o){var l=Number(u.g("#boxid"+a).select("#"+t).attr("x"))+Number(u.g("#boxid"+a).select("#"+t).attr("width")),s=Number(u.g("#boxid"+a).select("#"+t).attr("y"))+Number(u.g("#boxid"+a).select("#"+t).attr("height"))/2,h=Number(u.g("#"+e).attr("x"))+r[0],d=Number(u.g("#"+e).attr("x"))+r[0],c=Number(u.g("#"+e).attr("y"))+r[1],g=Number(u.g("#"+e).attr("y"))+Number(u.g("#"+e).attr("height"))+r[1],p=h-l,f=c-s,y=d-l,m=g-s,v={},x={},b={},w={};v.x=l+.375*p,v.y=s+.3*f,x.x=l+.75*.8*p,x.y=s+.75*f,b.x=l+.375*y,b.y=s+.3*m,w.x=l+.75*.8*y,w.y=s+.75*m,"down"===o&&(l=Number(u.g("#boxid"+a).select("#"+t).attr("x"))+Number(u.g("#boxid"+a).select("#"+t).attr("width"))/2,s=Number(u.g("#boxid"+a).select("#"+t).attr("y"))+Number(u.g("#boxid"+a).select("#"+t).attr("height")),h=Number(u.g("#"+e).attr("x"))+r[0],d=Number(u.g("#"+e).attr("x"))+r[0]+Number(u.g("#"+e).attr("width")),c=Number(u.g("#"+e).attr("y"))+r[1],g=Number(u.g("#"+e).attr("y"))+r[1],f=c-s,y=d-l,m=g-s,x={},b={},w={},(v={}).x=l+.375*(p=h-l),v.y=s+.3*f,x.x=l+.75*.8*p,x.y=s+.75*f,b.x=l+.375*y,b.y=s+.3*m,w.x=l+.75*.8*y,w.y=s+.75*m);var N=u.g("svg").select("#sumGroup").append("g").attr("id","line"+String(a)+"_"+String(i)).attr("class","drawer");N.attr("sourceid",t).attr("targetid",e).attr("locationTransform",r).attr("body_num_source",a).attr("body_num_target",i).attr("color",n);var _=[{x:l,y:s},{x:v.x,y:v.y},{x:x.x,y:x.y},{x:h,y:c+17}],E=[{x:l,y:s},{x:b.x,y:b.y},{x:w.x,y:w.y},{x:d,y:g-17}];"down"===o&&(_=[{x:l,y:s},{x:v.x,y:v.y},{x:x.x,y:x.y},{x:h+17,y:c}],E=[{x:l,y:s},{x:b.x,y:b.y},{x:w.x,y:w.y},{x:d-17,y:g}]);var k=u.e().x(function(t){return t.x}).y(function(t){return t.y}).curve(u.c),M=k(_),z=document.createElementNS("http://www.w3.org/2000/svg","path");z.setAttribute("d",M);var S=k(E),C=document.createElementNS("http://www.w3.org/2000/svg","path");C.setAttribute("d",S);for(var T=z.getTotalLength(),A=C.getTotalLength(),R=[],P=0;P<500;P++){var O=z.getPointAtLength(P*T/499);R.push({x:O.x,y:O.y})}for(var J=[],F=0;F<500;F++){var I=C.getPointAtLength(F*A/499);J.push({x:I.x,y:I.y})}var D=u.f().domain(u.d(_,function(t){return t.x})).range([0,p]),L=u.b(function(t){return t.x}).left,X=u.f().domain(u.d(E,function(t){return t.x})).range([0,p]),B=u.b(function(t){return t.x}).left;"down"===o&&(D=u.f().domain(u.d(_,function(t){return t.y})).range([0,f]),L=u.b(function(t){return t.y}).left,X=u.f().domain(u.d(E,function(t){return t.y})).range([0,f]),B=u.b(function(t){return t.y}).left);var G=u.a().x(function(t){return t.x}).y0(function(t){var e=t.x,r=L(R,D.invert(e));r>=R.length-1&&(r=R.length-2),r<1&&(r=1);var a=R[r-1],i=R[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),o=6*Math.pow((t.x-l+2)/p,.38);return t.y-Math.sqrt(1+Math.pow(n,2))*o}).y1(function(t){var e=t.x,r=L(R,D.invert(e));r>=R.length-1&&(r=R.length-2),r<1&&(r=1);var a=R[r-1],i=R[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),o=6*Math.pow((t.x-l+2)/p,.38);return t.y+Math.sqrt(1+Math.pow(n,2))*o}).curve(u.c),j=u.a().x(function(t){return t.x}).y0(function(t){var e=t.x,r=B(J,X.invert(e));r>=J.length-1&&(r=J.length-2),r<1&&(r=1);var a=J[r-1],i=J[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),o=6*Math.pow((t.x-l+2)/y,.38);return t.y-Math.sqrt(1+Math.pow(n,2))*o}).y1(function(t){var e=t.x,r=B(J,X.invert(e));r>=J.length-1&&(r=J.length-2),r<1&&(r=1);var a=J[r-1],i=J[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),o=6*Math.pow((t.x-l+2)/y,.38);return t.y+Math.sqrt(1+Math.pow(n,2))*o}).curve(u.c);"down"===o&&(G=u.a().y(function(t){return t.y}).x0(function(t){var e=t.y,r=L(R,D.invert(e));r>=R.length-1&&(r=R.length-2),r<1&&(r=1);var a=R[r-1],i=R[r+1],n=Math.abs((i.x-a.x)/(i.y-a.y)),o=6*Math.pow((t.y-s+2)/f,.38);return t.x-Math.sqrt(1+Math.pow(n,2))*o}).x1(function(t){var e=t.y,r=L(R,D.invert(e));r>=R.length-1&&(r=R.length-2),r<1&&(r=1);var a=R[r-1],i=R[r+1],n=Math.abs((i.x-a.x)/(i.y-a.y)),o=6*Math.pow((t.y-s+2)/f,.38);return t.x+Math.sqrt(1+Math.pow(n,2))*o}).curve(u.c),j=u.a().y(function(t){return t.y}).x0(function(t){var e=t.y,r=B(J,X.invert(e));r>=J.length-1&&(r=J.length-2),r<1&&(r=1);var a=J[r-1],i=J[r+1],n=Math.abs((i.x-a.x)/(i.y-a.y)),o=6*Math.pow((t.y-s+2)/m,.38);return t.x-Math.sqrt(1+Math.pow(n,2))*o}).x1(function(t){var e=t.y,r=B(J,X.invert(e));r>=J.length-1&&(r=J.length-2),r<1&&(r=1);var a=J[r-1],i=J[r+1],n=Math.abs((i.x-a.x)/(i.y-a.y)),o=6*Math.pow((t.y-s+2)/m,.38);return t.x+Math.sqrt(1+Math.pow(n,2))*o}).curve(u.c));N.append("path").datum(_).attr("d",G).attr("id","path1").attr("fill",n),N.append("path").datum(E).attr("d",j).attr("id","path2").attr("fill",n);u.g("#boxid"+a).selectAll("rect").each(function(a,o){var l=u.g(this);if(l.attr("id")!==t){var s=l.attr("data-body");if(void 0!==s&&null!==s&&s===i.split("-")[1]){l.attr("data-opened",!0);var h=Number(l.attr("x"))+Number(l.attr("width")),d=Number(l.attr("y"))+Number(l.attr("height"))/2,c=Number(u.g("#"+e).attr("x"))+r[0],g=Number(u.g("#"+e).attr("y"))+r[1]+Number(u.g("#"+e).attr("height"))/2;N.append("circle").attr("cx",c).attr("cy",g).attr("r",7).attr("fill",n),N.append("line").attr("x1",h).attr("y1",d).attr("x2",c).attr("y2",g).attr("stroke-width",3).attr("stroke",n).attr("stroke-dasharray","5,5").attr("marker-end","url(#arrow)").attr("class","arrowLine")}}})}function J(t,e,r,a,i,n,o,l){var s=Number(u.g("#boxid"+a).select("#"+t).attr("x"))+Number(u.g("#boxid"+a).select("#"+t).attr("width")),h=Number(u.g("#boxid"+a).select("#"+t).attr("y"))+Number(u.g("#boxid"+a).select("#"+t).attr("height"))/2,d=Number(u.g("#"+e).attr("x"))+r[0],c=Number(u.g("#"+e).attr("x"))+r[0],g=Number(u.g("#"+e).attr("y"))+r[1],p=Number(u.g("#"+e).attr("y"))+Number(u.g("#"+e).attr("height"))+r[1],f=d-s,y=g-h,m=c-s,v=p-h,x={},b={},w={},N={};x.x=s+.375*f,x.y=h+.3*y,b.x=s+.75*.8*f,b.y=h+.75*y,w.x=s+.375*m,w.y=h+.3*v,N.x=s+.75*.8*m,N.y=h+.75*v,"down"===l&&(s=Number(u.g("#boxid"+a).select("#"+t).attr("x"))+Number(u.g("#boxid"+a).select("#"+t).attr("width"))/2,h=Number(u.g("#boxid"+a).select("#"+t).attr("y"))+Number(u.g("#boxid"+a).select("#"+t).attr("height")),d=Number(u.g("#"+e).attr("x"))+r[0],c=Number(u.g("#"+e).attr("x"))+r[0]+Number(u.g("#"+e).attr("width")),g=Number(u.g("#"+e).attr("y"))+r[1],p=Number(u.g("#"+e).attr("y"))+r[1],y=g-h,m=c-s,v=p-h,b={},w={},N={},(x={}).x=s+.375*(f=d-s),x.y=h+.3*y,b.x=s+.75*.8*f,b.y=h+.75*y,w.x=s+.375*m,w.y=h+.3*v,N.x=s+.75*.8*m,N.y=h+.75*v);var _=u.g("#"+o);_.attr("sourceid",t).attr("targetid",e).attr("locationTransform",r).attr("body_num_source",a).attr("body_num_target",i).attr("color",n);var E=[{x:s,y:h},{x:x.x,y:x.y},{x:b.x,y:b.y},{x:d,y:g+17}],k=[{x:s,y:h},{x:w.x,y:w.y},{x:N.x,y:N.y},{x:c,y:p-17}];"down"===l&&(E=[{x:s,y:h},{x:x.x,y:x.y},{x:b.x,y:b.y},{x:d+17,y:g}],k=[{x:s,y:h},{x:w.x,y:w.y},{x:N.x,y:N.y},{x:c-17,y:p}]);var M=u.e().x(function(t){return t.x}).y(function(t){return t.y}).curve(u.c),z=M(E),S=document.createElementNS("http://www.w3.org/2000/svg","path");S.setAttribute("d",z);var C=M(k),T=document.createElementNS("http://www.w3.org/2000/svg","path");T.setAttribute("d",C);for(var A=S.getTotalLength(),R=T.getTotalLength(),P=[],O=0;O<500;O++){var J=S.getPointAtLength(O*A/499);P.push({x:J.x,y:J.y})}for(var F=[],I=0;I<500;I++){var D=T.getPointAtLength(I*R/499);F.push({x:D.x,y:D.y})}var L=u.f().domain(u.d(E,function(t){return t.x})).range([0,f]),X=u.b(function(t){return t.x}).left,B=u.f().domain(u.d(k,function(t){return t.x})).range([0,f]),G=u.b(function(t){return t.x}).left;"down"===l&&(L=u.f().domain(u.d(E,function(t){return t.y})).range([0,y]),X=u.b(function(t){return t.y}).left,B=u.f().domain(u.d(k,function(t){return t.y})).range([0,y]),G=u.b(function(t){return t.y}).left);var j=u.a().x(function(t){return t.x}).y0(function(t){var e=t.x,r=X(P,L.invert(e));r>=P.length-1&&(r=P.length-2),r<1&&(r=1);var a=P[r-1],i=P[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),o=6*Math.pow((t.x-s+2)/f,.38);return t.y-Math.sqrt(1+Math.pow(n,2))*o}).y1(function(t){var e=t.x,r=X(P,L.invert(e));r>=P.length-1&&(r=P.length-2),r<1&&(r=1);var a=P[r-1],i=P[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),o=6*Math.pow((t.x-s+2)/f,.38);return t.y+Math.sqrt(1+Math.pow(n,2))*o}).curve(u.c),U=u.a().x(function(t){return t.x}).y0(function(t){var e=t.x,r=G(F,B.invert(e));r>=F.length-1&&(r=F.length-2),r<1&&(r=1);var a=F[r-1],i=F[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),o=6*Math.pow((t.x-s+2)/f,.38);return t.y-Math.sqrt(1+Math.pow(n,2))*o}).y1(function(t){var e=t.x,r=G(F,B.invert(e));r>=F.length-1&&(r=F.length-2),r<1&&(r=1);var a=F[r-1],i=F[r+1],n=Math.abs((i.y-a.y)/(i.x-a.x)),o=6*Math.pow((t.x-s+2)/f,.38);return t.y+Math.sqrt(1+Math.pow(n,2))*o}).curve(u.c);"down"===l&&(j=u.a().y(function(t){return t.y}).x0(function(t){var e=t.y,r=X(P,L.invert(e));r>=P.length-1&&(r=P.length-2),r<1&&(r=1);var a=P[r-1],i=P[r+1],n=Math.abs((i.x-a.x)/(i.y-a.y)),o=6*Math.pow((t.y-h+2)/y,.38);return t.x-Math.sqrt(1+Math.pow(n,2))*o}).x1(function(t){var e=t.y,r=X(P,L.invert(e));r>=P.length-1&&(r=P.length-2),r<1&&(r=1);var a=P[r-1],i=P[r+1],n=Math.abs((i.x-a.x)/(i.y-a.y)),o=6*Math.pow((t.y-h+2)/y,.38);return t.x+Math.sqrt(1+Math.pow(n,2))*o}).curve(u.c),U=u.a().y(function(t){return t.y}).x0(function(t){var e=t.y,r=G(F,B.invert(e));r>=F.length-1&&(r=F.length-2),r<1&&(r=1);var a=F[r-1],i=F[r+1],n=Math.abs((i.x-a.x)/(i.y-a.y)),o=6*Math.pow((t.y-h+2)/v,.38);return t.x-Math.sqrt(1+Math.pow(n,2))*o}).x1(function(t){var e=t.y,r=G(F,B.invert(e));r>=F.length-1&&(r=F.length-2),r<1&&(r=1);var a=F[r-1],i=F[r+1],n=Math.abs((i.x-a.x)/(i.y-a.y)),o=6*Math.pow((t.y-h+2)/v,.38);return t.x+Math.sqrt(1+Math.pow(n,2))*o}).curve(u.c));_.select("#path1").datum(E).transition("transition10").duration(720).attr("d",j).attr("fill",n),_.select("#path2").datum(k).transition("transition11").duration(720).attr("d",U).attr("fill",n);u.g("#boxid"+a).selectAll("rect").each(function(a,o){var l=u.g(this);if(l.attr("id")!==t){var s=l.attr("data-body");if(void 0!==s&&null!==s&&s===i.split("-")[1]){var h=Number(l.attr("x"))+Number(l.attr("width")),d=Number(l.attr("y"))+Number(l.attr("height"))/2,c=Number(u.g("#"+e).attr("x"))+r[0],g=Number(u.g("#"+e).attr("y"))+r[1]+Number(u.g("#"+e).attr("height"))/2;_.select("circle").transition("transition12").duration(720).attr("cx",c).attr("cy",g).attr("r",7).attr("fill",n),_.select("line").transition("transition13").duration(720).attr("x1",h).attr("y1",d).attr("x2",c).attr("y2",g).attr("stroke-width",3).attr("stroke",n).attr("stroke-dasharray","5,5").attr("marker-end","url(#arrow)").attr("class","arrowLine")}}})}function F(t,e,r,a,i,n){var o="frame"+e,l=t[r][0]-t[e][0]-Number(u.g("#"+o).attr("width")),s=t[r][1]-t[e][1],h=Number(u.g("#"+o).attr("x"))+Number(u.g("#"+o).attr("width")),d=Number(u.g("#"+o).attr("y"))+Number(u.g("#"+o).attr("height"))/2,c=h+l,g=d+s;"down"===n&&(h=Number(u.g("#"+o).attr("x"))+Number(u.g("#"+o).attr("width"))/2,d=Number(u.g("#"+o).attr("y"))+Number(u.g("#"+o).attr("height")),c=h+(l=t[r][0]-t[e][0]),g=d+(s=t[r][1]-t[e][1]-Number(u.g("#"+o).attr("height"))));var p=u.g("svg").select("#sumGroup").append("g").attr("id","line"+String(e)+"_"+String(r)).attr("line-type","dashed").attr("class","drawer");p.append("defs").append("marker").attr("id","arrow").attr("markerWidth",5).attr("markerHeight",3.5).attr("refX",5).attr("refY",1.75).attr("orient","auto").append("path").attr("d","M0,0 L5,1.75 L0,3.5 Z").style("fill","gray"),p.append("line").attr("x1",h).attr("y1",d).attr("x2",c).attr("y2",g).attr("stroke-width",5).attr("stroke",a).attr("stroke-dasharray","5,5").attr("marker-end","url(#arrow)").attr("class","arrowLine");var f=(h+c)/2-45,y=(d+g)/2-5;p.append("text").attr("x",f).attr("y",y).text(i).style("font-size","30px").style("fill","black")}function I(t,e,r,a,i,n,o){var l="frame"+e,s=t[r][0]-t[e][0]-Number(u.g("#"+l).attr("width")),h=t[r][1]-t[e][1],d=Number(u.g("#"+l).attr("x"))+Number(u.g("#"+l).attr("width")),c=Number(u.g("#"+l).attr("y"))+Number(u.g("#"+l).attr("height"))/2,g=d+s,p=c+h;"down"===o&&(d=Number(u.g("#"+l).attr("x"))+Number(u.g("#"+l).attr("width"))/2,c=Number(u.g("#"+l).attr("y"))+Number(u.g("#"+l).attr("height")),g=d+(s=t[r][0]-t[e][0]),p=c+(h=t[r][1]-t[e][1]-Number(u.g("#"+l).attr("height"))));var f=u.g("svg").select("#sumGroup").select("#"+n);f.select("line").transition("transition14").duration(720).attr("x1",d).attr("y1",c).attr("x2",g).attr("y2",p).attr("stroke-width",5).attr("stroke",a).attr("stroke-dasharray","5,5").attr("marker-end","url(#arrow)").attr("class","arrowLine");var y=(d+g)/2-45,m=(c+p)/2-5;f.select("text").transition("transition15").duration(720).attr("x",y).attr("y",m).text(i).style("font-size","30px").style("fill","black")}function D(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function L(t,e){e(t),t.children&&t.children.forEach(function(t){return L(t,e)}),t._children&&t._children.forEach(function(t){return L(t,e)})}function X(t,e){console.log(e),e.forEach(function(e){var r=t,a=2;e.path.forEach(function(t){if(0!==Number(t))if(a<=e.path.length-1){var i=r.children.filter(function(e){return Number(e.name)===Number(t)})[0];a+=1,r=i}else t===e.path[e.path.length-1]&&(r.hasOwnProperty("children")?(r.children.push(e),r.children.sort(function(t,e){for(var r=t.oName.split("-").map(Number),a=e.oName.split("-").map(Number),i=0;i<r.length;i++){if(r[i]<a[i])return-1;if(r[i]>a[i])return 1}return 0})):r.children=[e])})})}function B(t){var e={},r=[];u.h(".drawer").each(function(a,i){var n=u.g(this).attr("id").replace("boxid",""),o=u.g(this).attr("direction");if(2!==n.split("_").length){var l=n.split("-"),s=l[l.length-1];if("0"===s)e.name=Number(s),e.oName=n,e.path=l,e.size=[Number(u.g(this).attr("width"))+t,Number(u.g(this).attr("height"))],e.direction=o;else{var h={};h.name=Number(s),h.size=[Number(u.g(this).attr("width"))+t,Number(u.g(this).attr("height"))],h.path=l,h.oName=n,h.direction=o,r.push(h)}}});return r.sort(function(t,e){return t.path.length-e.path.length}),X(e,r),L(e,function(t){Array.isArray(t.size)&&(t._size||(t._size=t.size.slice()),t.size=t._size.slice().reverse())}),e}var G=r("Zx67"),j=r.n(G),U=r("zwoO"),H=r.n(U),q=r("Pf15"),V=r.n(q),W=r("woOf"),$=r.n(W),Y=r("u2KI"),Z=r.n(Y),K=r("0PjT"),Q=Z()({children:function(t){return t.children},nodeSize:function(t){return t.data.size},spacing:0});function tt(t){var e=$()({},Q,t);function r(t){var r=e[t];return"function"==typeof r?r:function(){return r}}function a(t){var e,a,o,l=n((e=i(),a=r("nodeSize"),o=r("spacing"),function(t){function e(t){x()(this,e);var r=H()(this,(e.__proto__||j()(e)).call(this,t));return $()(r,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:r,lExtRelX:0,lThr:null,rExt:r,rExtRelX:0,rThr:null}),r}return V()(e,t),w()(e,[{key:"spacing",value:function(t){return o(this.data,t.data)}},{key:"update",value:function(){return et(this),rt(this),this}},{key:"size",get:function(){return a(this.data)}},{key:"x",get:function(){return this.data.x},set:function(t){this.data.x=t}},{key:"y",get:function(){return this.data.y},set:function(t){this.data.y=t}}]),e}(e)),t,function(t){return t.children});return l.update(),l.data}function i(){var t=r("nodeSize"),e=r("spacing");return function(r){function a(t){return x()(this,a),H()(this,(a.__proto__||j()(a)).call(this,t))}return V()(a,r),w()(a,[{key:"copy",value:function(){var t=n(this.constructor,this,function(t){return t.children});return t.each(function(t){return t.data=t.data.data}),t}},{key:"spacing",value:function(t){return e(this,t)}},{key:"size",get:function(){return t(this)}},{key:"nodes",get:function(){return this.descendants()}},{key:"xSize",get:function(){return this.size[0]}},{key:"ySize",get:function(){return this.size[1]}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.ySize}},{key:"left",get:function(){return this.x-this.xSize/2}},{key:"right",get:function(){return this.x+this.xSize/2}},{key:"root",get:function(){var t=this.ancestors();return t[t.length-1]}},{key:"numChildren",get:function(){return this.hasChildren?this.children.length:0}},{key:"hasChildren",get:function(){return!this.noChildren}},{key:"noChildren",get:function(){return null===this.children}},{key:"firstChild",get:function(){return this.hasChildren?this.children[0]:null}},{key:"lastChild",get:function(){return this.hasChildren?this.children[this.numChildren-1]:null}},{key:"extents",get:function(){return(this.children||[]).reduce(function(t,e){return a.maxExtents(t,e.extents)},this.nodeExtents)}},{key:"nodeExtents",get:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}],[{key:"maxExtents",value:function(t,e){return{top:Math.min(t.top,e.top),bottom:Math.max(t.bottom,e.bottom),left:Math.min(t.left,e.left),right:Math.max(t.right,e.right)}}}]),a}(K.a.prototype.constructor)}function n(t,e,r){return function e(a,i){var n=new t(a);$()(n,{parent:i,depth:null===i?0:i.depth+1,height:0,length:1});var o=r(a)||[];return n.children=0===o.length?null:o.map(function(t){return e(t,n)}),n.children&&$()(n,n.children.reduce(function(t,e){return{height:Math.max(t.height,e.height+1),length:t.length+e.length}},n)),n}(e,null)}return $()(a,{nodeSize:function(t){return arguments.length?(e.nodeSize=t,a):e.nodeSize},spacing:function(t){return arguments.length?(e.spacing=t,a):e.spacing},children:function(t){return arguments.length?(e.children=t,a):e.children},hierarchy:function(t,r){var a=void 0===r?e.children:r;return n(i(),t,a)},dump:function(t){var e=r("nodeSize");return function t(r){return function(a){var i=r+"  ",n=r+"    ",o=a.x,l=a.y,s=e(a),h=a.children||[],d=0===h.length?" ":","+i+"children: ["+n+h.map(t(n)).join(n)+i+"],"+r;return"{ size: ["+s.join(", ")+"],"+i+"x: "+o+", y: "+l+d+"},"}}("\n")(t)}}),a}var et=function t(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.y=r,(e.children||[]).reduce(function(r,a){var i=C()(r,2),n=i[0],o=i[1];t(a,e.y+e.ySize);var l=(0===n?a.lExt:a.rExt).bottom;return 0!==n&&it(e,n,o),[n+1,ut(l,n,o)]},[0,null]),at(e),ct(e),e},rt=function t(e,r,a){void 0===r&&(r=-e.relX-e.prelim,a=0);var i=r+e.relX;return e.relX=i+e.prelim-a,e.prelim=0,e.x=a+e.relX,(e.children||[]).forEach(function(r){return t(r,i,e.x)}),e},at=function(t){(t.children||[]).reduce(function(t,e){var r=C()(t,2),a=r[0],i=r[1],n=a+e.shift,o=i+n+e.change;return e.relX+=o,[n,o]},[0,0])},it=function(t,e,r){for(var a=t.children[e-1],i=t.children[e],n=a,o=a.relX,l=i,s=i.relX,h=!0;n&&l;){n.bottom>r.lowY&&(r=r.next);var d=o+n.prelim-(s+l.prelim)+n.xSize/2+l.xSize/2+n.spacing(l);(d>0||d<0&&h)&&(s+=d,nt(i,d),ot(t,e,r.index,d)),h=!1;var c=n.bottom,u=l.bottom;c<=u&&(n=st(n))&&(o+=n.relX),c>=u&&(l=lt(l))&&(s+=l.relX)}!n&&l?ht(t,e,l,s):n&&!l&&dt(t,e,n,o)},nt=function(t,e){t.relX+=e,t.lExtRelX+=e,t.rExtRelX+=e},ot=function(t,e,r,a){var i=t.children[e],n=e-r;if(n>1){var o=a/n;t.children[r+1].shift+=o,i.shift-=o,i.change-=a-o}},lt=function(t){return t.hasChildren?t.firstChild:t.lThr},st=function(t){return t.hasChildren?t.lastChild:t.rThr},ht=function(t,e,r,a){var i=t.firstChild,n=i.lExt,o=t.children[e];n.lThr=r;var l=a-r.relX-i.lExtRelX;n.relX+=l,n.prelim-=l,i.lExt=o.lExt,i.lExtRelX=o.lExtRelX},dt=function(t,e,r,a){var i=t.children[e],n=i.rExt,o=t.children[e-1];n.rThr=r;var l=a-r.relX-i.rExtRelX;n.relX+=l,n.prelim-=l,i.rExt=o.rExt,i.rExtRelX=o.rExtRelX},ct=function(t){if(t.hasChildren){var e=t.firstChild,r=t.lastChild,a=(e.prelim+e.relX-e.xSize/2+r.relX+r.prelim+r.xSize/2)/2;$()(t,{prelim:a,lExt:e.lExt,lExtRelX:e.lExtRelX,rExt:r.rExt,rExtRelX:r.rExtRelX})}},ut=function(t,e,r){for(;null!==r&&t>=r.lowY;)r=r.next;return{lowY:t,index:e,next:r}},gt=r("c/Tr"),pt=r.n(gt),ft=r("lHA8"),yt=r.n(ft);function mt(t){return function(t){var e={};do{var r=vt(t),a=[].concat(P()(r.right),P()(r.down),P()(r.mix)),i=a.reduce(function(t,e){return l()({},t,e)},{});if(_(e)){var n=k(e,i),o=!0,s=!1,h=void 0;try{for(var d,c=m()(n);!(o=(d=c.next()).done);o=!0){var u=d.value,g=i[u],p={};for(var f in e){var y=e[f];f.startsWith(u)&&(p[f]=y)}var v=xt(p),x=g[0]-v.x,b=g[1]-v.y;for(var w in e){var N=e[w];w.startsWith(u)&&(N[0]+=x,N[1]+=b)}}}catch(t){s=!0,h=t}finally{try{!o&&c.return&&c.return()}finally{if(s)throw h}}M(e,i)}else e=E()(i)}while("children"in t);return e;function _(t){for(var e in t)return!0;return!1}function k(t,e){var r=[];for(var a in t)t.hasOwnProperty(a)&&e.hasOwnProperty(a)&&r.push(a);return r}function M(t,e){for(var r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(t[r]=e[r])}}(E()(t))}function vt(t){var e=new yt.a,r=new yt.a;!function t(e,r){e.parent=r;e.children&&e.children.forEach(function(r){return t(r,e)})}(t,null),function t(e,r,a){var i=!0;!function t(r){r.direction!==e.direction&&(i=!1);r.children&&r.children.forEach(t)}(e);if(i)return"right"===e.direction?null!==e.parent?r.add(e.parent):r.add(e):"down"===e.direction&&(e.parent,a.add(e.parent)),!0;e.children&&e.children.forEach(function(e){return t(e,r,a)});return!1}(t,e,r);var a=new yt.a,i=!0,n=!1,o=void 0;try{for(var s,h=m()(e);!(i=(s=h.next()).done);i=!0){var d=s.value;r.has(d)&&(a.add(d),e.delete(d),r.delete(d))}}catch(t){n=!0,o=t}finally{try{!i&&h.return&&h.return()}finally{if(n)throw o}}return{right:pt()(e).map(function(t){var e=E()(t);if(delete t.children,u(e),"down"===t.direction){var r=e.size[0];e.size[0]=e.size[1],e.size[1]=r}L(e,function(t){Array.isArray(t.size)&&(t.size[1]+=100)});var a=tt({spacing:80}),i=a(a.hierarchy(e));i.each(function(t){var e=t.x;t.x=t.y,t.y=e});var n={};i.each(function(t){n[t.data.oName]=[t.x,t.y-t.data.size[0]/2,t.data.size[1],1*t.data.size[0]]});var o=xt(n);return t._size=[o.width,o.height],t.size=[o.height,o.width],n}),down:pt()(r).map(function(t){var e=E()(t);if(delete t.children,c(e),L(e,function(t){Array.isArray(t.size)&&(t._size||(t._size=t.size.slice()),t.size=[t.size[1],t.size[0]])}),L(e,function(t){Array.isArray(t.size)&&(t.size[1]+=100)}),"down"===t.direction){var r=e.size[0];e.size[0]=e.size[1],e.size[1]=r}var a=tt({spacing:120}),i={};a(a.hierarchy(e)).each(function(t){i[t.data.oName]=[t.x-t.data.size[0]/2,t.y,1*t.data.size[0],t.data.size[1]]});var n=xt(i);return t._size=[n.width,n.height],t.size=[n.height,n.width],i}),mix:pt()(a).map(function(t){var e=E()(t);delete t.children;var r=E()(e);L(r,function(t){Array.isArray(t.size)&&(t._size||(t._size=t.size.slice()),t.size=[t.size[1],t.size[0]])}),L(r,function(t){Array.isArray(t.size)&&(t.size[1]+=100)}),L(e,function(t){Array.isArray(t.size)&&(t.size[1]+=100)}),c(r),u(e);var a=tt({spacing:120}),i=tt({spacing:80}),n=a.hierarchy(r),o=i.hierarchy(e);if("down"===t.direction){var s=e.size[0];e.size[0]=e.size[1],e.size[1]=s;var h=r.size[0];r.size[0]=r.size[1],r.size[1]=h}var d=a(n),g=a(o);g.each(function(t){var e=t.x;t.x=t.y,t.y=e});var p={};d.each(function(t){p[t.data.oName]=[t.x-t.data.size[0]/2,t.y,t.data.size[0],1*t.data.size[1]]});var f={};g.each(function(t){f[t.data.oName]=[t.x,t.y-t.data.size[0]/2,t.data.size[1],1*t.data.size[0]]});var y=f[t.oName][0]-p[t.oName][0],m=f[t.oName][1]-p[t.oName][1];for(var v in p)p[v][0]+=y,p[v][1]+=m;var x=l()({},f,p),b=xt(x);return t._size=[b.width,b.height],t.size=[b.height,b.width],x})};function c(t){t.children&&(t.children=t.children.filter(function(t){return"right"!==t.direction}),t.children.forEach(c))}function u(t){t.children&&(t.children=t.children.filter(function(t){return"down"!==t.direction}),t.children.forEach(u))}}function xt(t){var e=1/0,r=1/0,a=-1/0,i=-1/0;for(var n in t){var o=t[n],l=o[0],s=o[1],h=l,d=s,c=l+o[2],u=s+o[3];e=Math.min(e,h),r=Math.min(r,d),a=Math.max(a,c),i=Math.max(i,u)}return{x:e,y:r,width:a-e,height:i-r}}function bt(t,e,r,a,i,o,l){console.log(l,"direction");var s=u.g("#boxid"+String(r)).select("#"+String(a));if(o||"true"===s.attr("data-opened"))return u.g("#boxid"+String(r)).selectAll("[data-opened='true']").attr("data-opened","false"),void u.h(".drawer").each(function(t,a){var i=this,n=u.g(this).attr("id").replace("line","").replace("boxid",""),o=(String(r)+"-"+String(e)).split("-");if(2===n.split("_").length){var l=!1,s=n.split("_")[0],h=n.split("_")[1],d=s.split("-"),c=h.split("-");if(D(d,o))u.g(this).transition("transition1").duration(200).style("opacity",0).end().then(function(){u.g(i).remove()}),l=!0;else if(d.length>o.length){var g=d.slice(0,o.length);z()(g)===z()(o)&&(u.g(this).transition("transition2").duration(200).style("opacity",0).end().then(function(){u.g(i).remove()}),l=!0)}if(!l)if(D(c,o))u.g(this).transition("transition3").duration(200).style("opacity",0).end().then(function(){u.g(i).remove()});else if(c.length>o.length){var p=c.slice(0,o.length);z()(p)===z()(o)&&u.g(this).transition("transition4").duration(200).style("opacity",0).end().then(function(){u.g(i).remove()})}}else{var f=n.split("-");if(D(f,o))u.g(this).transition("transition5").duration(200).style("opacity",0).end().then(function(){u.g(i).remove()});else if(f.length>o.length){var y=f.slice(0,o.length);z()(y)===z()(o)&&u.g(this).transition("transition6").duration(200).style("opacity",0).end().then(function(){u.g(i).remove()})}}});r=String(r);var h=k(t[e-1]),d=String(r)+"-"+String(e);kt(h,t,d,l);var c,g=B(0);c=mt(g);n()(c);var p=c[d][0]-c[r][0],f=c[d][1]-c[r][1];O(a,"frame"+d,[p,f],r,d,i,l),u.h(".drawer").each(function(t,e){var r=u.g(this).attr("id").replace("boxid","");2!==r.split("_").length&&(r===d?(u.g(this).attr("transform","translate("+(c[r][0]+90)+","+(c[r][1]+675)+")").attr("opacity",0),u.g(this).transition("transition7").duration(920).style("opacity",1)):u.g(this).transition("transition8").duration(720).attr("transform","translate("+(c[r][0]+90)+","+(c[r][1]+675)+")"))}),u.h(".drawer").each(function(t,e){var r=u.g(this).attr("id").replace("boxid","");if(2===r.split("_").length)if("dashed"!==u.g(this).attr("line-type")){var a=r,i=r.replace("line","").split("_")[0],n=r.replace("line","").split("_")[1],o=u.g("#boxid"+i).attr("transform"),l=u.g("#boxid"+n).attr("transform");if(null!==o&&i!=d){var s,h=o.slice(10,-1).split(",").map(Number);s=[c[i][0]+90,c[i][1]+675];var g=[c[n][0]-c[i][0],c[n][1]-c[i][1]];if(h[1]!==s[1]||h[0]!==s[0]){var p=u.g(this).attr("sourceid"),f=u.g(this).attr("targetid"),y=u.g(this).attr("body_num_source"),m=u.g(this).attr("body_num_target");J(p,f,g,y,m,u.g(this).attr("color"),a,u.g("#boxid"+m).attr("direction"))}}if(null!==l&&n!=d){var v,x=l.slice(10,-1).split(",").map(Number),b=[c[n][0]-c[i][0],c[n][1]-c[i][1]];if(v=[c[n][0]+90,c[n][1]+675],x[1]!==v[1]||x[0]!==v[0]){var w=u.g(this).attr("sourceid"),N=u.g(this).attr("targetid"),_=u.g(this).attr("body_num_source"),E=u.g(this).attr("body_num_target");J(w,N,b,_,E,u.g(this).attr("color"),a,u.g("#boxid"+E).attr("direction"))}}r=(r=r.replace("line","")).split("_")[0],u.g(this).attr("transform","translate("+(c[r][0]+90)+","+(c[r][1]+675)+")").style("opacity",.38)}else{var k=r,M=r.replace("line","").split("_")[0],z=r.replace("line","").split("_")[1],S=u.g("#boxid"+M).attr("transform"),C=u.g("#boxid"+z).attr("transform");if(null!==S&&M!=d){var T,A=S.slice(10,-1).split(",").map(Number);if(T=[c[M][0]+90,c[M][1]+675],A[1]!==T[1]||A[0]!==T[0]){var R=u.g(this).select("text").text();I(c,M,z,"black",R,k)}}if(null!==C&&z!=d){var P,O=C.slice(10,-1).split(",").map(Number);if(P=[c[z][0]+90,c[z][1]+675],O[1]!==P[1]||O[0]!==P[0]){var F=u.g(this).select("text").text();I(c,M,z,"black",F,k)}}r=(r=r.replace("line","")).split("_")[0],u.g(this).transition("transition9").duration(720).attr("transform","translate("+(c[r][0]+90)+","+(c[r][1]+675)+")")}})}r("izJC");function wt(t,e,r,a,i,o,l,s,h){var d=u.g("#boxid"+String(i)).select("#"+String(o));if(s||"true"===d.attr("data-opened"))return u.g("#boxid"+String(i)).selectAll("[data-opened='true']").attr("data-opened","false"),void u.h(".drawer").each(function(t,r){var a=this,n=u.g(this).attr("id").replace("line","").replace("boxid",""),o=(String(i)+"-"+String(e)).split("-");if(2===n.split("_").length){var l=!1,s=n.split("_")[0],h=n.split("_")[1],d=s.split("-"),c=h.split("-");if(D(d,o))u.g(this).transition().duration(200).style("opacity",0).end().then(function(){u.g(a).remove()}),l=!0;else if(d.length>o.length){var g=d.slice(0,o.length);z()(g)===z()(o)&&(u.g(this).transition().duration(200).style("opacity",0).end().then(function(){u.g(a).remove()}),l=!0)}if(!l)if(D(c,o))u.g(this).transition().duration(200).style("opacity",0).end().then(function(){u.g(a).remove()});else if(c.length>o.length){var p=c.slice(0,o.length);z()(p)===z()(o)&&u.g(this).transition().duration(200).style("opacity",0).end().then(function(){u.g(a).remove()})}}else{var f=n.split("-");if(D(f,o))u.g(this).transition().duration(200).style("opacity",0).end().then(function(){u.g(a).remove()});else if(f.length>o.length){var y=f.slice(0,o.length);z()(y)===z()(o)&&u.g(this).transition().duration(200).style("opacity",0).end().then(function(){u.g(a).remove()})}}});i=String(i);var c=void 0,g=k(t[e-1]),p=k(t[r-1]);void 0!==a&&(c=k(t[a-1]));var f=String(i)+"-"+String(e),y=String(f)+"-"+String(r),m=String(f)+"-"+String(a);kt(g,t,f,h),kt(p,t,y,h),void 0!==a&&kt(c,t,m,h);var v,x=B(0);v=mt(x);n()(v);console.log(v),console.log();var b=v[f][0]-v[i][0],w=v[f][1]-v[i][1];O(o,"frame"+f,[b,w],i,f,l,h),F(v,f,y,"black","TRUE",h),void 0!==c&&F(v,f,m,"black","FALSE",h),u.h(".drawer").each(function(t,e){var r=u.g(this).attr("id").replace("boxid","");if(2===r.split("_").length)if("dashed"!==u.g(this).attr("line-type")){var a=r,i=r.replace("line","").split("_")[0],n=r.replace("line","").split("_")[1],o=u.g("#boxid"+i).attr("transform"),l=u.g("#boxid"+n).attr("transform");if(null!==o&&i!=f){var s,h=o.slice(10,-1).split(",").map(Number);s=[v[i][0]+90,v[i][1]+675];var d=[v[n][0]-v[i][0],v[n][1]-v[i][1]];if(h[1]!==s[1]||h[0]!==s[0]){var c=u.g(this).attr("sourceid"),g=u.g(this).attr("targetid"),p=(u.g(this).attr("locationTransform").split(","),u.g(this).attr("body_num_source")),x=u.g(this).attr("body_num_target");J(c,g,d,p,x,u.g(this).attr("color"),a,u.g("#boxid"+x).attr("direction"))}}if(null!==l&&n!=f){var b,w=l.slice(10,-1).split(",").map(Number);b=[v[n][0]+90,v[n][1]+675];var N=[v[n][0]-v[i][0],v[n][1]-v[i][1]];if(w[1]!==b[1]||w[0]!==b[0]){var _=u.g(this).attr("sourceid"),E=u.g(this).attr("targetid"),k=(u.g(this).attr("locationTransform").split(","),u.g(this).attr("body_num_source")),M=u.g(this).attr("body_num_target");J(_,E,N,k,M,u.g(this).attr("color"),a,u.g("#boxid"+M).attr("direction"))}}r=(r=r.replace("line","")).split("_")[0],u.g(this).attr("transform","translate("+(v[r][0]+90)+","+(v[r][1]+675)+")").style("opacity",.38)}else{var z=r,S=r.replace("line","").split("_")[0],C=r.replace("line","").split("_")[1],T=u.g("#boxid"+S).attr("transform"),A=u.g("#boxid"+C).attr("transform");if(null!==T&&S!=f){var R,P=T.slice(10,-1).split(",").map(Number);if(R=[v[S][0]+90,v[S][1]+675],P[1]!==R[1]||P[0]!==R[0]){var O=u.g(this).select("text").text(),F=u.g("#boxid"+C).attr("direction");I(v,S,C,"black",O,z,F)}}if(null!==A&&C!=f){var D,L=A.slice(10,-1).split(",").map(Number);if(D=[v[C][0]+90,v[C][1]+675],L[1]!==D[1]||L[0]!==D[0]){var X=u.g(this).select("text").text(),B=u.g("#boxid"+C).attr("direction");I(v,S,C,"black",X,z,B)}}r=(r=r.replace("line","")).split("_")[0],u.g(this).attr("transform","translate("+(v[r][0]+90)+","+(v[r][1]+675)+")")}else r===f||r===m||r===y?(u.g(this).attr("transform","translate("+(v[r][0]+90)+","+(v[r][1]+675)+")").attr("opacity",0),u.g(this).transition().duration(920).style("opacity",1)):u.g(this).transition().duration(720).attr("transform","translate("+(v[r][0]+90)+","+(v[r][1]+675)+")")})}function Nt(t,e,r,a,i,o,l,s,h,d){var c=u.g("#boxid"+String(o)).select("#"+String(l));if(h||"true"===c.attr("data-opened"))return u.g("#boxid"+String(o)).selectAll("[data-opened='true']").attr("data-opened","false"),void u.h(".drawer").each(function(t,r){var a=this,i=u.g(this).attr("id").replace("line","").replace("boxid",""),n=(String(o)+"-"+String(e)).split("-");if(2===i.split("_").length){var l=!1,s=i.split("_")[0],h=i.split("_")[1],d=s.split("-"),c=h.split("-");if(D(d,n))u.g(this).transition().duration(200).style("opacity",0).end().then(function(){u.g(a).remove()}),l=!0;else if(d.length>n.length){var g=d.slice(0,n.length);z()(g)===z()(n)&&(u.g(this).transition().duration(200).style("opacity",0).end().then(function(){u.g(a).remove()}),l=!0)}if(!l)if(D(c,n))u.g(this).transition().duration(200).style("opacity",0).end().then(function(){u.g(a).remove()});else if(c.length>n.length){var p=c.slice(0,n.length);z()(p)===z()(n)&&u.g(this).transition().duration(200).style("opacity",0).end().then(function(){u.g(a).remove()})}}else{var f=i.split("-");if(D(f,n))u.g(this).transition().duration(200).style("opacity",0).end().then(function(){u.g(a).remove()});else if(f.length>n.length){var y=f.slice(0,n.length);z()(y)===z()(n)&&u.g(this).transition().duration(200).style("opacity",0).end().then(function(){u.g(a).remove()})}}});o=String(o);var g=String(o)+"-"+String(e),p=String(g)+"-"+String(r),f=String(g)+"-"+String(a),y=String(g)+"-"+String(i);void 0!==e&&kt(k(t[e-1]),t,g,d),void 0!==r&&kt(k(t[r-1]),t,p,d),void 0!==a&&kt(k(t[a-1]),t,f,d),void 0!==i&&kt(k(t[i-1]),t,y,d);var m,v=B(100);m=mt(v);n()(m);console.log(m),console.log();var x=m[g][0]-m[o][0],b=m[g][1]-m[o][1];O(l,"frame"+g,[x,b],o,g,s,d),void 0!==r&&F(m,g,p,"black","PRE",d),void 0!==a&&F(m,g,f,"black","WHILE TRUE",d),void 0!==i&&F(m,g,y,"black","POST",d),u.h(".drawer").each(function(t,e){var r=u.g(this).attr("id").replace("boxid","");if(2===r.split("_").length)if("dashed"!==u.g(this).attr("line-type")){var a=r,i=r.replace("line","").split("_")[0],n=r.replace("line","").split("_")[1],o=u.g("#boxid"+i).attr("transform"),l=u.g("#boxid"+n).attr("transform");if(null!==o&&i!=g){var s,h=o.slice(10,-1).split(",").map(Number);s=[m[i][0]+90,m[i][1]+675];var d=[m[n][0]-m[i][0],m[n][1]-m[i][1]];if(h[1]!==s[1]||h[0]!==s[0]){var c=u.g(this).attr("sourceid"),v=u.g(this).attr("targetid"),x=(u.g(this).attr("locationTransform").split(","),u.g(this).attr("body_num_source")),b=u.g(this).attr("body_num_target");J(c,v,d,x,b,u.g(this).attr("color"),a,u.g("#boxid"+b).attr("direction"))}}if(null!==l&&n!=g){var w,N=l.slice(10,-1).split(",").map(Number);w=[m[n][0]+90,m[n][1]+675];var _=[m[n][0]-m[i][0],m[n][1]-m[i][1]];if(N[1]!==w[1]||N[0]!==w[0]){var E=u.g(this).attr("sourceid"),k=u.g(this).attr("targetid"),M=(u.g(this).attr("locationTransform").split(","),u.g(this).attr("body_num_source")),z=u.g(this).attr("body_num_target");J(E,k,_,M,z,u.g(this).attr("color"),a,u.g("#boxid"+z).attr("direction"))}}r=(r=r.replace("line","")).split("_")[0],u.g(this).attr("transform","translate("+(m[r][0]+90)+","+(m[r][1]+675)+")").style("opacity",.38)}else{var S=r,C=r.replace("line","").split("_")[0],T=r.replace("line","").split("_")[1],A=u.g("#boxid"+C).attr("transform"),R=u.g("#boxid"+T).attr("transform");if(null!==A&&C!=g){var P,O=A.slice(10,-1).split(",").map(Number);if(P=[m[C][0]+90,m[C][1]+675],O[1]!==P[1]||O[0]!==P[0]){var F=u.g(this).select("text").text(),D=u.g("#boxid"+T).attr("direction");I(m,C,T,"black",F,S,D)}}if(null!==R&&T!=g){var L,X=R.slice(10,-1).split(",").map(Number);if(L=[m[T][0]+90,m[T][1]+675],X[1]!==L[1]||X[0]!==L[0]){var B=u.g(this).select("text").text(),G=u.g("#boxid"+T).attr("direction");I(m,C,T,"black",B,S,G)}}r=(r=r.replace("line","")).split("_")[0],u.g(this).attr("transform","translate("+(m[r][0]+90)+","+(m[r][1]+675)+")")}else r===g||r===p||r===f||r===y?(u.g(this).attr("transform","translate("+(m[r][0]+90)+","+(m[r][1]+675)+")").attr("opacity",0),u.g(this).transition().duration(920).style("opacity",1)):u.g(this).transition().duration(720).attr("transform","translate("+(m[r][0]+90)+","+(m[r][1]+675)+")")})}var _t=null;function Et(){return _t}function kt(t,e,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"right",i=u.g("#mainsvg").select("#sumGroup").append("g").attr("id","boxid"+String(r)).attr("class","drawer").attr("direction",a),n=t.nodes;console.log(t);var o=!1,l=!1,s=Math.min.apply(Math,P()(A()(t.nodes).map(function(t){return t.y}))),h=Math.max.apply(Math,P()(A()(t.nodes).map(function(t){return t.y})));for(var d in n){var c=n[d],g=d.split("-"),p=C()(g,2),f=p[0],y=(p[1],"opo"===f);"opi"===f&&c.y===s&&(l=!0),y&&c.y===h&&(o=!0)}for(var m in n){var v=m.split("-"),x=C()(v,2),b=x[0],w=(x[1],"opo"===b);"opi"===b&&(n[m].y=l?s:s-50-37),w&&(n[m].y=o?h:h+50+37)}var N=1/0,_=1/0;for(var E in n){var k=E.split("-"),M=C()(k,2);M[0],M[1];n[E].x<N&&(N=n[E].x),n[E].y<_&&(_=n[E].y)}for(var z in n)n[z].x=n[z].x-N,n[z].y-=_;var S=function(t){var e=1/0,r=1/0,a=-1/0,i=-1/0;for(var n in t){var o=t[n],l=n.split("-"),s=C()(l,2),h=s[0],d=(s[1],"pof"===h),c="pif"===h,u="opo"===h,g="opi"===h,p="poc"===h,f="pic"===h,y="pol"===h,m="pil"===h;if("bf"===h||"bc"===h||"bl"===h){if(void 0===o.width||void 0===o.height)continue;"LITERAL"==o.type?o.fullBox?(e=Math.min(e,o.x-o.width/2),r=Math.min(r,o.y-o.height/2+37),a=Math.max(a,o.x+o.width/2),i=Math.max(i,o.y+o.height/2-37)):(e=Math.min(e,o.x-o.width/2+18.5),r=Math.min(r,o.y-o.height/2-37),a=Math.max(a,o.x+o.width/2-18.5),i=Math.max(i,o.y+o.height/2-37)):o.fullBox?(e=Math.min(e,o.x-o.width/2),r=Math.min(r,o.y-o.height/2+37),a=Math.max(a,o.x+o.width/2),i=Math.max(i,o.y+o.height/2-37)):(e=Math.min(e,o.x-o.width/2),r=Math.min(r,o.y-o.height/2-37),a=Math.max(a,o.x+o.width/2),i=Math.max(i,o.y+o.height/2-37))}else(d||c||g||u||f||p||m||y)&&(e=Math.min(e,o.x-o.width/2),r=Math.min(r,o.y-o.height/2),a=Math.max(a,o.x+o.width/2),i=Math.max(i,o.y+o.height/2))}return{x:e,y:r,width:a-e,height:i-r}}(n),T=function(t,e,r,a){var i=void 0,n=void 0,o=void 0,l=void 0;return"opo-0"in a&&"opi-0"in a?(i=t.x-e,n=t.y-e+r,o=t.width+2*e,l=t.height+2*e-2*r):"opo-0"in a&&!("opi-0"in a)?(i=t.x-e,n=t.y-e-r/10,o=t.width+2*e,l=t.height+2*e-r):!("opo-0"in a)&&"opi-0"in a?(i=t.x-e,n=t.y-e+2*r,o=t.width+2*e,l=t.height+2*e-r):(i=t.x-e,n=t.y-e,o=t.width+2*e,l=t.height+2*e),{x:i,y:n,width:o,height:l}}(S,22.5,37,n);for(var R in n){var O=n[R],J=R.split("-"),F=C()(J,2),I=F[0],D=(F[1],"pof"===I),L="pif"===I,X="opo"===I,B="opi"===I,G="bc"===I,j="poc"===I,U="pic"===I,H="bl"===I,q="pol"===I,V="pil"===I;if(!("aux"===I)){if("bf"===I){if(O.fullBox){if("FUNCTION"==O.type)Mt(O,R,i,"green",37,e,r,T);else if("EXPRESSION"==O.type)Mt(O,R,i,"purple",37,e,r,T);else if("LITERAL"==O.type)Rt(O,R,i,"red",37);else if("LANGUAGE_PRIMITIVE"==O.type)Pt(O,R,i,"red",37);else if("ABSTRACT"==O.type)Mt(O,R,i,"yellow",37);else if("IMPORTED"==O.type){Mt(O,R,i,"gray",37,e,r,T,!0)}else if("IMPORTED_METHOD"==O.type){Mt(O,R,i,"purple",37,e,r,T,!0)}}else if("FUNCTION"==O.type)zt(O,R,i,"green",37,e,r,T);else if("EXPRESSION"==O.type)zt(O,R,i,"purple",37,e,r,T);else if("LITERAL"==O.type)Jt(O,R,i,"red",37);else if("LANGUAGE_PRIMITIVE"==O.type)Ot(O,R,i,"red",37);else if("ABSTRACT"==O.type)zt(O,R,i,"yellow",37);else if("IMPORTED"==O.type){zt(O,R,i,"gray",37,e,r,T,!0)}else if("IMPORTED_METHOD"==O.type){zt(O,R,i,"purple",37,e,r,T,!0)}}else G?O.fullBox?St(O,R,i,"orange",37,e,r,T):Ct(O,R,i,"orange",37,e,r,T):H?O.fullBox?Tt(O,R,i,"blue",37,e,r,T):At(O,R,i,"blue",37,e,r,T):(D||L||B||X||U||j||V||q)&&("err"===O.label?Ft(O,R,i,"red","red"):Ft(O,R,i,"black"))}}i.append("defs").append("marker").attr("id","arrowhead").attr("markerWidth",10).attr("markerHeight",7).attr("refX",10).attr("refY",3.5).attr("orient","auto").append("path").attr("d","M0,0 L10,3.5 L0,7 Z").style("fill","gray"),t.edges.forEach(function(t){var e=n[t.source],r=n[t.target],a=t.source.split("-")[0],o=t.target.split("-")[0];"aux"===a||"aux"===o||i.append("line").attr("x1",e.x).attr("y1",e.y-e.height/2).attr("x2",r.x).attr("y2",r.y+r.height/2).style("stroke","gray").style("stroke-width",2.2).attr("marker-end","url(#arrowhead)")});var W=S.width+90,$=S.height+90;if("opo-0"in n&&"opi-0"in n){if("MODULE"===t.meta.type)It(i,S,W,$,22.5,37,"gray",r,!1,t);else if("EXPRESSION"===t.meta.type)It(i,S,W,$,22.5,37,"purple",r,!1,t);else if("FUNCTION"===t.meta.type)It(i,S,W,$,22.5,37,"green",r,!1,t);else if("PREDICATE"===t.meta.type)It(i,S,W,$,22.5,37,"Magenta",r,!1,t);else if("ABSTRACT"==t.meta.type)It(i,S,W,$,22.5,37,"yellow",r,!1,t);else if("IMPORTED"===t.meta.type){It(i,S,W,$,22.5,37,"gray",r,!0,t)}else if("IMPORTED_METHOD"===t.meta.type){It(i,S,W,$,22.5,37,"purple",r,!0,t)}}else if("opo-0"in n&&!("opi-0"in n)){if("MODULE"===t.meta.type)Dt(i,S,W,$,22.5,37,"gray",r,!1,t);else if("EXPRESSION"===t.meta.type)Dt(i,S,W,$,22.5,37,"purple",r,!1,t);else if("FUNCTION"===t.meta.type)Dt(i,S,W,$,22.5,37,"green",r,!1,t);else if("PREDICATE"===t.meta.type)Dt(i,S,W,$,22.5,37,"Magenta",r,!1,t);else if("ABSTRACT"==t.meta.type)Dt(i,S,W,$,22.5,37,"yellow",r,!1,t);else if("IMPORTED"===t.meta.type){Dt(i,S,W,$,22.5,37,"gray",r,!0,t)}else if("IMPORTED_METHOD"===t.meta.type){Dt(i,S,W,$,22.5,37,"purple",r,!0,t)}}else if(!("opo-0"in n)&&"opi-0"in n){if("MODULE"===t.meta.type)Lt(i,S,W,$,22.5,37,"gray",r,!1,t);else if("EXPRESSION"===t.meta.type)Lt(i,S,W,$,22.5,37,"purple",r,!1,t);else if("FUNCTION"===t.meta.type)Lt(i,S,W,$,22.5,37,"green",r,!1,t);else if("PREDICATE"===t.meta.type)Lt(i,S,W,$,22.5,37,"Magenta",r,!1,t);else if("ABSTRACT"==t.meta.type)Lt(i,S,W,$,22.5,37,"yellow",r,!1,t);else if("IMPORTED"===t.meta.type){Lt(i,S,W,$,22.5,37,"gray",r,!0,t)}else if("IMPORTED_METHOD"===t.meta.type){Lt(i,S,W,$,22.5,37,"purple",r,!0,t)}}else if("MODULE"===t.meta.type)Xt(i,S,W,$,22.5,37,"gray",r,!1,t);else if("EXPRESSION"===t.meta.type)Xt(i,S,W,$,22.5,37,"purple",r,!1,t);else if("FUNCTION"===t.meta.type)Xt(i,S,W,$,22.5,37,"green",r,!1,t);else if("PREDICATE"===t.meta.type)Xt(i,S,W,$,22.5,37,"Magenta",r,!1,t);else if("ABSTRACT"==t.meta.type)Xt(i,S,W,$,22.5,37,"yellow",r,!1,t);else if("IMPORTED"===t.meta.type){Xt(i,S,W,$,22.5,37,"gray",r,!0,t)}else if("IMPORTED_METHOD"===t.meta.type){Xt(i,S,W,$,22.5,37,"purple",r,!0,t)}i.attr("width",i.node().getBBox().width).attr("height",i.node().getBBox().height),0===r&&i.attr("transform","translate(90,"+(675-i.node().getBBox().height/2*1)+")")}function Mt(t,e,r,a,i,n,o){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"right",s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=!1,d=null;void 0!==t.body&&(d=t.body);var c=l.x+l.width,g=l.y+l.height,p="right";c-(t.x+t.width/2)>g-(t.y+t.height/2-i)+120&&(p="down");var f=r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).attr("rx",15).attr("ry",15).attr("data-body",d).attr("data-opened","neo").attr("data-clicked","false").style("fill","rgba(0, 0, 255, 0)").style("stroke",a).style("cursor","pointer").style("stroke-width",5);s&&f.style("stroke-dasharray","10, 5"),void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var y=u.g("#tooltip"),m=Et().metadata_collection;void 0!==t.metadata&&r.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2+i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var r=z()(m[t.metadata-1],null,2);y.style("opacity",.9).html("<pre>"+r+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){y.style("opacity",0)}),void 0!==t.body&&f.on("click",function(){bt(n,t.body,o,e,a,h,p),h=!h,this.setAttribute("data-clicked",h.toString())})}function zt(t,e,r,a,i,n,o){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"right",s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=null;void 0!==t.body&&(h=t.body),!0===s&&(console.log(t),console.log(t.body));var d=!1,c=l.x+l.width,g=l.y+l.height,p="right";c-(t.x+t.width/2)>g-(t.y+t.height/2-i)+120&&(p="down");var f=r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2-i).attr("width",t.width).attr("height",t.height).attr("rx",15).attr("ry",15).attr("data-body",h).attr("data-opened","neo").attr("data-clicked","false").style("fill","rgba(0, 0, 255, 0)").style("cursor","pointer").style("stroke",a).style("stroke-width",5);s&&f.style("stroke-dasharray","10, 5"),void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y-t.height/4-i/2).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var y=u.g("#tooltip"),m=Et().metadata_collection;void 0!==t.metadata&&r.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2-i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var r=z()(m[t.metadata-1],null,2);y.style("opacity",.9).html("<pre>"+r+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){y.style("opacity",0)}),void 0!==t.body&&f.on("click",function(){bt(n,t.body,o,e,a,d,p),d=!d,this.setAttribute("data-clicked",d.toString())})}function St(t,e,r,a,i,n,o,l){var s=!1,h=null;void 0!==t.condition&&(h=t.condition);var d=l.x+l.width,c=l.y+l.height,g="right";d-(t.x+t.width/2)>c-(t.y+t.height/2-i)+120&&(g="down");var p=r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).attr("rx",15).attr("ry",15).attr("data-body",h).attr("data-clicked","false").style("fill","rgba(0, 0, 255, 0)").style("stroke",a).style("cursor","pointer").style("stroke-width",5);void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var f=u.g("#tooltip"),y=Et().metadata_collection;void 0!==t.metadata&&r.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2+i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var r=z()(y[t.metadata-1],null,2);f.style("opacity",.9).html("<pre>"+r+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){f.style("opacity",0)}),void 0!==t.condition&&p.on("click",function(){wt(n,t.condition,t.body_if,t.body_else,o,e,a,s,g),s=!s,this.setAttribute("data-clicked",s.toString())})}function Ct(t,e,r,a,i,n,o,l){var s=null;void 0!==t.body&&(s=t.body);var h=!1,d=l.x+l.width,c=l.y+l.height,g="right";d-(t.x+t.width/2)>c-(t.y+t.height/2-i)+120&&(g="down");var p=r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2-i).attr("width",t.width).attr("height",t.height).attr("rx",15).attr("ry",15).attr("data-body",s).attr("data-clicked","false").style("fill","rgba(0, 0, 255, 0)").style("cursor","pointer").style("stroke",a).style("stroke-width",5);void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y-t.height/4-i/2).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var f=u.g("#tooltip"),y=Et().metadata_collection;void 0!==t.metadata&&r.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2-i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var r=z()(y[t.metadata-1],null,2);f.style("opacity",.9).html("<pre>"+r+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){f.style("opacity",0)}),void 0!==t.body&&p.on("click",function(){wt(n,t.condition,t.body_if,t.body_else,o,e,a,h,g),h=!h,this.setAttribute("data-clicked",h.toString())})}function Tt(t,e,r,a,i,n,o,l){var s=!1,h=null;void 0!==t.condition&&(h=t.condition);var d=l.x+l.width,c=l.y+l.height,g="right";d-(t.x+t.width/2)>c-(t.y+t.height/2-i)+120&&(g="down");var p=r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).attr("rx",15).attr("ry",15).attr("data-body",h).attr("data-clicked","false").style("fill","rgba(0, 0, 255, 0)").style("stroke",a).style("cursor","pointer").style("stroke-width",5);void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var f=u.g("#tooltip"),y=Et().metadata_collection;void 0!==t.metadata&&r.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2+i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var r=z()(y[t.metadata-1],null,2);f.style("opacity",.9).html("<pre>"+r+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){f.style("opacity",0)}),void 0!==t.condition&&p.on("click",function(){Nt(n,t.condition,t.pre,t.body,t.post,o,e,a,s,g),s=!s,this.setAttribute("data-clicked",s.toString())})}function At(t,e,r,a,i,n,o,l){var s=null;void 0!==t.body&&(s=t.body);var h=!1,d=l.x+l.width,c=l.y+l.height,g="right";d-(t.x+t.width/2)>c-(t.y+t.height/2-i)+120&&(g="down");var p=r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2-i).attr("width",t.width).attr("height",t.height).attr("rx",15).attr("ry",15).attr("data-body",s).attr("data-clicked","false").style("fill","rgba(0, 0, 255, 0)").style("cursor","pointer").style("stroke",a).style("stroke-width",5);void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y-t.height/4-i/2).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var f=u.g("#tooltip"),y=Et().metadata_collection;void 0!==t.metadata&&r.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2-i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var r=z()(y[t.metadata-1],null,2);f.style("opacity",.9).html("<pre>"+r+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){f.style("opacity",0)}),void 0!==t.body&&p.on("click",function(){Nt(n,t.body,o,e,a,h,g),h=!h,this.setAttribute("data-clicked",h.toString())})}function Rt(t,e,r,a,i){r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).style("fill","none").style("stroke",a).style("stroke-width",2),void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var n=u.g("#tooltip"),o=Et().metadata_collection;void 0!==t.metadata&&r.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2+i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var r=z()(o[t.metadata-1],null,2);n.style("opacity",.9).html("<pre>"+r+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){n.style("opacity",0)}),void 0!==t.value&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","30px").text(t.value.value)}function Pt(t,e,r,a,i){r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).style("fill","none").style("stroke",a).style("stroke-width",5),void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","20px").text(t.label);var n=u.g("#tooltip"),o=Et().metadata_collection;void 0!==t.metadata&&r.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2+i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var r=z()(o[t.metadata-1],null,2);n.style("opacity",.9).html("<pre>"+r+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){n.style("opacity",0)}),void 0!==t.value&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","30px").text(t.value.value)}function Ot(t,e,r,a,i){r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2-i).attr("width",t.width).attr("height",t.height).style("fill","none").style("stroke",a).style("stroke-width",5),void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var n=u.g("#tooltip"),o=Et().metadata_collection;void 0!==t.metadata&&r.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2-i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var r=z()(o[t.metadata-1],null,2);n.style("opacity",.9).html("<pre>"+r+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){n.style("opacity",0)}),void 0!==t.value&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","30px").text(t.value.value)}function Jt(t,e,r,a,i){r.append("rect").attr("id",e).attr("x",t.x-t.width/2+i/2).attr("y",t.y-t.height/2-i).attr("width",t.width-i).attr("height",t.height).style("fill","none").style("stroke",a).style("stroke-width",2),void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var n=u.g("#tooltip"),o=Et().metadata_collection;void 0!==t.metadata&&r.append("text").attr("x",t.x+t.width/2-27).attr("y",t.y-t.height/2-i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var r=z()(o[t.metadata-1],null,2);n.style("opacity",.9).html("<pre>"+r+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){n.style("opacity",0)}),void 0!==t.value&&r.append("text").attr("x",t.x).attr("y",t.y-1.2*i).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","30px").text(t.value.value)}function Ft(t,e,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"white";r.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2).attr("width",t.width).attr("height",t.height).style("fill",i).style("stroke",a).style("stroke-width",2);var n=u.g("#tooltip"),o=Et().metadata_collection;void 0!==t.metadata&&r.append("text").attr("x",t.x+t.width/2-12).attr("y",t.y-t.height/2+12).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var r=z()(o[t.metadata-1],null,2);n.style("opacity",.9).html("<pre>"+r+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){n.style("opacity",0)}),void 0!==t.label&&r.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","27px").text(t.label)}function It(t,e,r,a,i,n,o,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=arguments[9],d=t.insert("rect",":first-child").attr("id","frame"+l).attr("x",e.x-i).attr("y",e.y-i+n).attr("rx",15).attr("ry",15).attr("width",r-2*i).attr("height",a-2*i-2*n).style("fill","transparent").style("stroke",o).style("stroke-width",5).lower();s&&d.style("stroke-dasharray","10,5");var c=u.g("#tooltip"),g=Et().metadata_collection;void 0!==h.meta.metadata&&t.append("text").attr("x",e.x-i+(r-2*i)-17).attr("y",e.y-i+n+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","17px").text(h.meta.metadata).on("mouseover",function(t){var e=z()(g[h.meta.metadata-1],null,2);c.style("opacity",.9).html("<pre>"+e+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){c.style("opacity",0)})}function Dt(t,e,r,a,i,n,o,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=arguments[9],d=t.insert("rect",":first-child").attr("id","frame"+l).attr("x",e.x-i).attr("y",e.y-i-n/10).attr("rx",15).attr("ry",15).attr("width",r-2*i).attr("height",a-2*i-n).style("fill","transparent").style("stroke",o).style("stroke-width",5).lower(),c=u.g("#tooltip"),g=Et().metadata_collection;void 0!==h.meta.metadata&&t.append("text").attr("x",e.x-i+(r-2*i)-17).attr("y",e.y-i-n/10+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","17px").text(h.meta.metadata).on("mouseover",function(t){var e=z()(g[h.meta.metadata-1],null,2);c.style("opacity",.9).html("<pre>"+e+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){c.style("opacity",0)}),s&&d.style("stroke-dasharray","10,5")}function Lt(t,e,r,a,i,n,o,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=arguments[9],d=t.insert("rect",":first-child").attr("id","frame"+l).attr("x",e.x-i).attr("y",e.y-i+2*n).attr("rx",15).attr("ry",15).attr("width",r-2*i).attr("height",a-2*i-n).style("fill","transparent").style("stroke",o).style("stroke-width",5).lower(),c=u.g("#tooltip"),g=Et().metadata_collection;void 0!==h.meta.metadata&&t.append("text").attr("x",e.x-i+(r-2*i)-17).attr("y",e.y-i+10*n+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","17px").text(h.meta.metadata).on("mouseover",function(t){var e=z()(g[h.meta.metadata-1],null,2);c.style("opacity",.9).html("<pre>"+e+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){c.style("opacity",0)}),s&&d.style("stroke-dasharray","10,5")}function Xt(t,e,r,a,i,n,o,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=arguments[9];e.x!==1/0&&e.x!==-1/0||(e.x=100,e.y=100,r=200,a=200);var d=t.insert("rect",":first-child").attr("id","frame"+l).attr("x",e.x-i).attr("y",e.y-i).attr("rx",15).attr("ry",15).attr("width",r-2*i).attr("height",a-2*i).style("fill","transparent").style("stroke",o).style("stroke-width",5).lower(),c=u.g("#tooltip"),g=Et().metadata_collection;void 0!==h.meta.metadata&&t.append("text").attr("x",e.x-i+(r-2*i)-17).attr("y",e.y-i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","17px").text(h.meta.metadata).on("mouseover",function(t){var e=z()(g[h.meta.metadata-1],null,2);c.style("opacity",.9).html("<pre>"+e+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){c.style("opacity",0)}),s&&d.style("stroke-dasharray","10,5")}var Bt={name:"App",components:{VueJsonPretty:f.a},data:function(){return{skemaVersion:"",url:"",selectedDeep:3,possibleDepths:[1,2,3,4,5,6,7],startingFN:0,blockStyle:{backgroundColor:"rgba(255, 255, 120, 0)",height:"90vh",width:"100%"},selectedFile:null,selectedOption:null,gromet:null,path:"res",highlightedJson:null,selectedNode:null,highlightNode:null,routePair:{0:"0"},routePairC:{0:"0"},boxTypePair:{},options:[{text:"Clay1",value:"https://raw.githubusercontent.com/hconhisway/webcrawler/master/get_beta--Gromet-FN-auto2.json"},{text:"core_dynamics",value:"https://raw.githubusercontent.com/hconhisway/webcrawler/master/core_dynamics_pack2.json"},{text:"while1",value:"https://raw.githubusercontent.com/ml4ai/skema/adarshp/nom_error_handling/data/gromet/python/while1/FN_0.1.6/while1--Gromet-FN-auto.json"},{text:"cond1",value:"https://raw.githubusercontent.com/ml4ai/skema/adarshp/nom_error_handling/data/gromet/python/cond1/FN_0.1.6/cond1--Gromet-FN-auto.json"},{text:"fun1",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/fun1/FN_0.1.6/fun1--Gromet-FN-auto.json"},{text:"fun4",value:"https://raw.githubusercontent.com/ml4ai/skema/adarshp/nom_error_handling/data/gromet/python/fun4/FN_0.1.6/fun4--Gromet-FN-auto.json"},{text:"exp1",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/exp1/FN_0.1.6/exp1--Gromet-FN-auto.json"},{text:"exp2",value:"https://gist.githubusercontent.com/jastier/76f7566ac44265707d892a252d8f85ab/raw/2be498c5fb369635725e9e6b493732a5c181ac65/first_matlab.json"},{text:"exp3",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/exp3/FN_0.1.6/exp3--Gromet-FN-auto.json"},{text:"fun_default1",value:"https://raw.githubusercontent.com/ml4ai/skema/adarshp/nom_error_handling/data/gromet/python/fun_default1/FN_0.1.6/fun_default1--Gromet-FN-auto.json"},{text:"assign_operator1",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/assign_operator1/FN_0.1.6/assign_operator1--Gromet-FN-auto.json"}]}},mounted:function(){this.$refs.svgMoviz.addEventListener("mouseover",this.handleMouseOverDelegate)},beforeDestroy:function(){this.$refs.svgMoviz.removeEventListener("mouseover",this.handleMouseOverDelegate)},created:function(){var t=this;return c()(h.a.mark(function e(){var r,a;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r=t.$route.query.gromet_url)){e.next=15;break}return e.prev=2,e.next=5,g.a.get(r);case 5:a=e.sent,t.gromet=a.data,t.skemaVersion=t.gromet.schema_version,t.processJson(),t.drawMoviz(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}},e,t,[[2,12]])}))()},methods:{drawMoviz:function(){u.h("g").remove();var t=u.g("svg");t.append("g").attr("id","sumGroup");var e=u.i().on("zoom",function(t){u.g("svg g").attr("transform",t.transform)});t.call(e);var r=this.gromet.modules[0];_t=r;var a=r.fn,i=r.fn_array,n=a;if(console.log(this.routePair),0!==this.startingFN){var o=i[this.startingFN-1].hi_there.replace("--- Click <HERE> to visualize this FN ---  ","").trim().replace(/^['"]+|['"]+$/g,""),l=o.split("-").map(Number),s=this.routePair[o].split("-").map(Number),h="0";kt(k(n),i,0);for(var d=0;d<l.length;d++)if(0!==d){var c="boxid"+h,g="bf-"+String(l[d]);this.triggerClickEvent(c,g),h=h+"-"+String(s[d])}var p=u.g("#mainsvg").select("#sumGroup").select("#boxid"+h).select("#frame"+h);if(u.g("#mainsvg").selectAll("#highlightRect").remove(),this.selectedNode=s[s.length-1],0===this.selectedNode||"0"===this.selectedNode?this.highlightNode=["res.fn"]:this.highlightNode=["res.fn_array["+(this.selectedNode-1)+"]"],null!==this.selectedNode){var f=Number(p.attr("width"))+7,y=Number(p.attr("height"))+7;u.g("#mainsvg").select("#boxid"+h).append("rect").attr("id","highlightRect").attr("x",Number(p.attr("x"))-3.5).attr("y",Number(p.attr("y"))-3.5).attr("rx",5).attr("ry",5).attr("width",f).attr("height",y).style("fill","none").style("stroke","red").style("stroke-width",38).style("stroke-opacity",.2)}var m="boxid"+this.routePair[o];u.g("#sumGroup").selectChildren().each(function(){this.id!==m&&u.g(this).style("display","none")})}else{kt(k(n),i,0)}},processJson:function(){this.highlightedJson=this.gromet.modules[0],this.highlightedJson.fn=l()({hi_there:"--- Click <HERE> to visualize this FN ---  0"},this.highlightedJson.fn),this.getAllChildBody(this.highlightedJson.fn,"0","0");for(var t=0;t<this.highlightedJson.metadata_collection.length;t++){this.highlightedJson.metadata_collection[t]=l()({},this.highlightedJson.metadata_collection[t]),this.highlightedJson.metadata_collection[t].hasOwnProperty("0")&&(delete this.highlightedJson.metadata_collection[t][0].metadata_type,delete this.highlightedJson.metadata_collection[t][0].source_language,delete this.highlightedJson.metadata_collection[t][0].source_language_version,delete this.highlightedJson.metadata_collection[t][0].data_type,delete this.highlightedJson.metadata_collection[t][0].provenance,delete this.highlightedJson.metadata_collection[t][0].col_begin,delete this.highlightedJson.metadata_collection[t][0].col_end,delete this.highlightedJson.metadata_collection[t][0].code_file_reference_uid),this.highlightedJson.metadata_collection[t].hasOwnProperty("1")&&(delete this.highlightedJson.metadata_collection[t][1].metadata_type,delete this.highlightedJson.metadata_collection[t][1].source_language,delete this.highlightedJson.metadata_collection[t][1].source_language_version,delete this.highlightedJson.metadata_collection[t][1].data_type,delete this.highlightedJson.metadata_collection[t][1].provenance,delete this.highlightedJson.metadata_collection[t][1].col_begin,delete this.highlightedJson.metadata_collection[t][1].col_end,delete this.highlightedJson.metadata_collection[t][1].code_file_reference_uid),this.highlightedJson.metadata_collection[t].hasOwnProperty("2")&&(delete this.highlightedJson.metadata_collection[t][2].metadata_type,delete this.highlightedJson.metadata_collection[t][2].source_language,delete this.highlightedJson.metadata_collection[t][2].source_language_version,delete this.highlightedJson.metadata_collection[t][2].data_type,delete this.highlightedJson.metadata_collection[t][2].provenance,delete this.highlightedJson.metadata_collection[t][2].col_begin,delete this.highlightedJson.metadata_collection[t][2].col_end,delete this.highlightedJson.metadata_collection[t][2].code_file_reference_uid)}for(var e=0;e<this.highlightedJson.fn_array.length;e++){var r=e+1;this.highlightedJson.fn_array[e]=l()({body_num:r},this.highlightedJson.fn_array[e])}},getAllChildBody:function(t,e,r){if("bf"in t)for(var a=0;a<t.bf.length;a++)if("body"in t.bf[a]){var i=t.bf[a].body-1,n=e+"-"+(i+1),o=r+"-"+a,s="--- Click <HERE> to visualize this FN ---  "+o;this.routePair[o]=n,this.highlightedJson.fn_array[i]=l()({hi_there:s},this.highlightedJson.fn_array[i]),this.getAllChildBody(this.highlightedJson.fn_array[i],n,o)}},fetchData:function(){var t=this;return c()(h.a.mark(function e(){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get(t.selectedOption);case 3:r=e.sent,t.gromet=r.data,t.skemaVersion=t.gromet.schema_version,t.processJson(),t.drawMoviz(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()},triggerFileInput:function(){this.$refs.fileInput.click()},handleFileChange:function(t){var e=this;if(this.selectedFile=t.target.files[0],this.selectedFile){var r=new FileReader;r.onload=function(t){try{e.gromet=JSON.parse(t.target.result),e.skemaVersion=e.gromet.schema_version,e.processJson(),e.drawMoviz()}catch(t){console.error("Error parsing JSON:",t)}},r.readAsText(this.selectedFile)}},handleMouseOverDelegate:function(t){var e=t.target;if(e.id&&e.id.startsWith("frame")){var r=e.id.split("-").pop().match(/\d+$/);if(u.g("#mainsvg").selectAll("#highlightRect").remove(),this.selectedNode=r?r[0]:null,0===this.selectedNode||"0"===this.selectedNode?this.highlightNode=["res.fn"]:this.highlightNode=["res.fn_array["+(this.selectedNode-1)+"]"],null!==this.selectedNode){var a=e.width.baseVal.value+7,i=e.height.baseVal.value+7;u.g(e.parentNode).append("rect").attr("id","highlightRect").attr("x",e.x.baseVal.value-3.5).attr("y",e.y.baseVal.value-3.5).attr("rx",5).attr("ry",5).attr("width",a).attr("height",i).style("fill","none").style("stroke","red").style("stroke-width",38).style("stroke-opacity",.2)}}},jsonClick:function(){var t=event.target.textContent;if(t.startsWith('"--- Click <HERE> to visualize this FN ---')&&n()(this.routePair).length>1){for(var e=t.replace("--- Click <HERE> to visualize this FN ---  ","").trim().replace(/^['"]+|['"]+$/g,""),r=e.split("-").map(Number),a=this.routePair[e].split("-").map(Number),i="0",o=0;o<r.length;o++)if(0!==o){var l="boxid"+i,s="bf-"+String(r[o]);this.triggerClickEvent(l,s),i=i+"-"+String(a[o])}var h=u.g("#mainsvg").select("#sumGroup").select("#boxid"+i).select("#frame"+i);if(u.g("#mainsvg").selectAll("#highlightRect").remove(),this.selectedNode=a[a.length-1],0===this.selectedNode||"0"===this.selectedNode?this.highlightNode=["res.fn"]:this.highlightNode=["res.fn_array["+(this.selectedNode-1)+"]"],null!==this.selectedNode){var d=Number(h.attr("width"))+7,c=Number(h.attr("height"))+7;u.g("#mainsvg").select("#boxid"+i).append("rect").attr("id","highlightRect").attr("x",Number(h.attr("x"))-3.5).attr("y",Number(h.attr("y"))-3.5).attr("rx",5).attr("ry",5).attr("width",d).attr("height",c).style("fill","none").style("stroke","red").style("stroke-width",38).style("stroke-opacity",.2)}}},triggerClickEvent:function(t,e){var r=u.g("#sumGroup").select("#"+t).select("#"+e);r&&"false"===r.attr("data-clicked")&&r.dispatch("click")},downloadSVG:function(){var t=document.getElementById("mainsvg"),e=(new XMLSerializer).serializeToString(t),r=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),a=URL.createObjectURL(r),i=document.createElement("a");i.href=a,i.download="mainsvg.svg",document.body.appendChild(i),i.click(),document.body.removeChild(i)},showPreviousBox:function(){if(null!==this.selectedNode&&0!==this.selectedNode&&1!==this.selectedNode){var t=this.gromet.modules[0].fn_array[this.selectedNode-1].hi_there.replace("--- Click <HERE> to visualize this FN ---  ","").trim(),e=this.routePair[t.replace(/^['"]+|['"]+$/g,"")],r=e.split("-");r.pop();var a=r.join("-"),i="boxid"+a,n="line"+a+"_"+e;console.log(n),u.g("#sumGroup").selectChildren().each(function(){this.id===i?u.g(this).style("display",null):this.id===n&&u.g(this).style("display",null)})}else if(1===this.selectedNode){var o=this.gromet.modules[0].fn.hi_there.replace("--- Click <HERE> to visualize this FN ---  ","").trim(),l=this.routePair[o.replace(/^['"]+|['"]+$/g,"")],s=l.split("-");s.pop();var h=s.join("-"),d="boxid"+h,c="line"+h+"_"+l;console.log(c),u.g("#sumGroup").selectChildren().each(function(){this.id===d?u.g(this).style("display",null):this.id===c&&u.g(this).style("display",null)})}},submitUrl:function(){var t=this;return c()(h.a.mark(function e(){var r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get(t.url);case 3:r=e.sent,t.gromet=r.data,t.skemaVersion=t.gromet.schema_version,t.processJson(),t.drawMoviz(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()}}},Gt={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("div",{staticClass:"menu"},[t._v("\n    Current Supported Skema Version:\n    "),r("span",{staticStyle:{"white-space":"pre",color:"tomato","font-weight":"bold"}},[t._v("0.1.7         ")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOption,expression:"selectedOption"}],staticClass:"my-select",attrs:{placeholder:"Select"},on:{change:[function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedOption=e.target.multiple?r:r[0]},t.fetchData]}},t._l(t.options,function(e){return r("option",{key:e.value,domProps:{value:e.value}},[t._v("\n        "+t._s(e.text)+"\n      ")])}),0),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"url-input",attrs:{type:"text",placeholder:"Input URL of JSON file here."},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}}),t._v(" "),r("button",{on:{click:t.submitUrl}},[t._v("Submit")]),t._v(" "),r("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),r("button",{staticClass:"btn btn-primary",style:{margin:"0 30px",backgroundColor:"tomato",color:"white",border:"none"},on:{click:t.triggerFileInput}},[t._v("\n        Choose File\n    ")]),t._v(" "),r("button",{staticClass:"btn btn-primary download-button",on:{click:t.downloadSVG}},[t._v("downloadSVG")]),t._v(" "),r("button",{staticClass:"btn btn-primary",style:{margin:"0 30px",backgroundColor:"green",color:"white",border:"none"},on:{click:t.showPreviousBox}},[t._v("\n        Previous Box\n    ")])]),t._v(" "),r("div",{staticClass:"content"},[r("div",{staticClass:"editor-box"},[r("label",{attrs:{for:"deep-select"}},[t._v("Select Display Depth: ")]),t._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDeep,expression:"selectedDeep"}],attrs:{id:"deep-select"},on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedDeep=e.target.multiple?r:r[0]}}},t._l(t.possibleDepths,function(e){return r("option",{key:e,domProps:{value:e}},[t._v("\n          "+t._s(e)+"\n        ")])}),0),t._v(" "),r("vue-json-pretty",{attrs:{data:t.highlightedJson,editable:!0,"highlight-array":t.highlightNode,deep:t.selectedDeep},nativeOn:{click:function(e){return t.jsonClick.apply(null,arguments)}}})],1),t._v(" "),r("div",{staticClass:"svg-container"},[r("div",{staticClass:"tooltip",staticStyle:{opacity:"0"},attrs:{id:"tooltip"}}),t._v(" "),r("label",{attrs:{for:"startingFN"}},[t._v("Initial #(Entry): ")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.startingFN,expression:"startingFN"}],domProps:{value:t.startingFN},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.drawMoviz.apply(null,arguments)},input:function(e){e.target.composing||(t.startingFN=e.target.value)}}}),t._v(" "),r("svg",{ref:"svgMoviz",attrs:{id:"mainsvg",width:"1200",height:"1000",overflow:"visible"}},[r("g",{attrs:{id:"sumGroup"}})])])])])},staticRenderFns:[]};var jt=r("VU/8")(Bt,Gt,!1,function(t){r("mz0+")},"data-v-3855d3c1",null).exports,Ut=r("/ocq");a.a.use(Ut.a);var Ht=new Ut.a({routes:[{path:"/",name:"Moviz",component:jt}],mode:"hash"});a.a.config.productionTip=!1,new a.a({el:"#app",router:Ht,components:{App:jt},template:"<App/>"})},iMEU:function(t,e){},"mz0+":function(t,e){},"p+Xa":function(t,e){t.exports={name:"d3-flextree",version:"2.1.2",main:"build/d3-flextree.js",module:"index","jsnext:main":"index",author:{name:"Chris Maloney",url:"http://chrismaloney.org"},description:"Flexible tree layout algorithm that allows for variable node sizes.",keywords:["d3","d3-module","layout","tree","hierarchy","d3-hierarchy","plugin","d3-plugin","infovis","visualization","2d"],homepage:"https://github.com/klortho/d3-flextree",license:"WTFPL",repository:{type:"git",url:"https://github.com/klortho/d3-flextree.git"},scripts:{clean:"rm -rf build demo test","build:demo":"rollup -c --environment BUILD:demo","build:dev":"rollup -c --environment BUILD:dev","build:prod":"rollup -c --environment BUILD:prod","build:test":"rollup -c --environment BUILD:test",build:"rollup -c",lint:"eslint index.js src","test:main":"node test/bundle.js","test:browser":"node test/browser-tests.js",test:"npm-run-all test:*",prepare:"npm-run-all clean build lint test"},dependencies:{"d3-hierarchy":"^1.1.5"},devDependencies:{"babel-plugin-external-helpers":"^6.22.0","babel-preset-es2015-rollup":"^3.0.0",d3:"^4.13.0","d3-selection-multi":"^1.0.1",eslint:"^4.19.1",jsdom:"^11.6.2","npm-run-all":"^4.1.2",rollup:"^0.55.3","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.2","rollup-plugin-uglify":"^3.0.0","uglify-es":"^3.3.9"}}}},["NHnr"]);
//# sourceMappingURL=app.25edb8e331688e58ba08.js.map