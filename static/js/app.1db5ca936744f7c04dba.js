webpackJsonp([1],{Fyv8:function(t,e){},Jmt5:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("Jmt5");var r=a("7+uW"),i=a("d7EF"),o=a.n(i),n=a("W3Iv"),l=a.n(n),s=a("bOdI"),h=a.n(s),d=a("fZjL"),c=a.n(d),g=a("Dd8w"),u=a.n(g),p=a("Xxa5"),f=a.n(p),y=a("exGp"),v=a.n(y),m=a("Cx91"),x=a("mtWM"),b=a("5i7/"),N=a.n(b),w=(a("iMEU"),a("BO1k")),_=a.n(w),E=a("Zrlr"),k=a.n(E),z=a("wxAW"),M=a.n(z),C=a("YVj4"),S=a("kvU2"),R=a.n(S);function A(t){var e=new C.graphlib.Graph({compound:!0});if(e.setGraph({}),e.setDefaultEdgeLabel(function(){return{}}),"bf"in t)for(var a=0;a<t.bf.length;a+=1){var r=t.bf[a],i="bf-"+a,o=r.name,n=r.function_type,l=r.value,s=r.body,h=r.metadata;e.setNode(i,{label:o,value:l,type:n,body:s,metadata:h});e.setNode("aux-"+i,{auxLabel:"aux",width:1,height:1})}if("pif"in t)for(var d=0;d<t.pif.length;d+=1){var c=t.pif[d],g="pif-"+d,u=c.name,p=c.metadata;e.setNode(g,{label:u,width:50,height:50,metadata:p}),e.setParent(g,"bf-"+(c.box-1))}if("pof"in t)for(var f=0;f<t.pof.length;f+=1){var y=t.pof[f],v="pof-"+f,m=y.name,x=y.metadata;e.setNode(v,{label:m,width:50,height:50,metadata:x}),e.setParent(v,"bf-"+(y.box-1))}if("opo"in t)for(var b=0;b<t.opo.length;b+=1){var N=t.opo[b],w="opo-"+b,_=N.name,E=N.metadata;e.setNode(w,{label:_,width:50,height:50,metadata:E})}if("opi"in t)for(var k=0;k<t.opi.length;k+=1){var z=t.opi[k],M="opi-"+k,S=z.name,R=z.metadata;e.setNode(M,{label:S,width:50,height:50,metadata:R})}if("wff"in t)for(var A=0;A<t.wff.length;A+=1){var T=t.wff[A],J="pif-"+(T.src-1),P="pof-"+(T.tgt-1);if(e.hasNode(J)&&e.hasNode(P))e.setEdge(J,P);else if(e.hasNode(J)&&!e.hasNode(P)){var F=P;e.setNode(F,{label:"err",width:50,height:50}),e.setEdge(J,P)}else if(!e.hasNode(J)&&e.hasNode(P)){var O=J;e.setNode(O,{label:"err",width:50,height:50}),e.setEdge(J,P)}else{var I=J,D=P;e.setNode(I,{label:"err",width:50,height:50}),e.setNode(D,{label:"err",width:50,height:50}),e.setEdge(J,P)}}if("wfopi"in t)for(var L=0;L<t.wfopi.length;L+=1){var B=t.wfopi[L],X="pif-"+(B.src-1),G="opi-"+(B.tgt-1);if(e.hasNode(X)&&e.hasNode(G))e.setEdge(X,G);else if(e.hasNode(X)&&!e.hasNode(G)){var j=G;e.setNode(j,{label:"err",width:50,height:50}),e.setEdge(X,G)}else if(!e.hasNode(X)&&e.hasNode(G)){var U=X;e.setNode(U,{label:"err",width:50,height:50}),e.setEdge(X,G)}else{var H=X,q=G;e.setNode(H,{label:"err",width:50,height:50}),e.setNode(q,{label:"err",width:50,height:50}),e.setEdge(X,G)}}if("wfopo"in t)for(var V=0;V<t.wfopo.length;V+=1){var W=t.wfopo[V],$="opo-"+(W.src-1),Y="pof-"+(W.tgt-1);if(e.hasNode($)&&e.hasNode(Y))e.setEdge($,Y);else if(e.hasNode($)&&!e.hasNode(Y)){var Z=Y;e.setNode(Z,{label:"err",width:50,height:50}),e.setEdge($,Y)}else if(!e.hasNode($)&&e.hasNode(Y)){var K=$;e.setNode(K,{label:"err",width:50,height:50}),e.setEdge($,Y)}else{var Q=$,tt=Y;e.setNode(Q,{label:"err",width:50,height:50}),e.setNode(tt,{label:"err",width:50,height:50}),e.setEdge($,Y)}}if("wopio"in t)for(var et=0;et<t.wopio.length;et+=1){var at=t.wopio[et],rt="opo-"+(at.src-1),it="opi-"+(at.tgt-1);if(e.hasNode(rt)&&e.hasNode(it))e.setEdge(rt,it);else if(e.hasNode(rt)&&!e.hasNode(it)){var ot=it;e.setNode(ot,{label:"err",width:50,height:50}),e.setEdge(rt,it)}else if(!e.hasNode(rt)&&e.hasNode(it)){var nt=rt;e.setNode(nt,{label:"err",width:50,height:50}),e.setEdge(rt,it)}else{var lt=rt,st=it;e.setNode(lt,{label:"err",width:50,height:50}),e.setNode(st,{label:"err",width:50,height:50}),e.setEdge(rt,it)}}if("bc"in t)for(var ht=0;ht<t.bc.length;ht+=1){var dt=t.bc[ht],ct="bc-"+ht,gt=dt.name,ut=dt.function_type,pt=dt.value,ft=dt.condition,yt=dt.body_if,vt=dt.body_else,mt=dt.metadata;e.setNode(ct,{label:gt,value:pt,type:ut,condition:ft,body_if:yt,body_else:vt,metadata:mt});e.setNode("aux-"+ct,{auxLabel:"aux",width:1,height:1})}if("pic"in t)for(var xt=0;xt<t.pic.length;xt+=1){var bt=t.pic[xt],Nt="pic-"+xt,wt=bt.name,_t=bt.metadata;e.setNode(Nt,{label:wt,width:50,height:50,metadata:_t}),e.setParent(Nt,"bc-"+(bt.box-1))}if("poc"in t)for(var Et=0;Et<t.poc.length;Et+=1){var kt=t.poc[Et],zt="poc-"+Et,Mt=kt.name,Ct=kt.metadata;e.setNode(zt,{label:Mt,width:50,height:50,metadata:Ct}),e.setParent(zt,"bc-"+(kt.box-1))}if("wfc"in t)for(var St=0;St<t.wfc.length;St+=1){var Rt=t.wfc[St],At="pic-"+(Rt.src-1),Tt="pof-"+(Rt.tgt-1);if(e.hasNode(At)&&e.hasNode(Tt))e.setEdge(At,Tt);else if(e.hasNode(At)&&!e.hasNode(Tt)){var Jt=Tt;e.setNode(Jt,{label:"err",width:50,height:50}),e.setEdge(At,Tt)}else if(!e.hasNode(At)&&e.hasNode(Tt)){var Pt=At;e.setNode(Pt,{label:"err",width:50,height:50}),e.setEdge(At,Tt)}else{var Ft=At,Ot=Tt;e.setNode(Ft,{label:"err",width:50,height:50}),e.setNode(Ot,{label:"err",width:50,height:50}),e.setEdge(At,Tt)}}if("wcf"in t)for(var It=0;It<t.wcf.length;It+=1){var Dt=t.wcf[It],Lt="pif-"+(Dt.src-1),Bt="poc-"+(Dt.tgt-1);if(e.hasNode(Lt)&&e.hasNode(Bt))e.setEdge(Lt,Bt);else if(e.hasNode(Lt)&&!e.hasNode(Bt)){var Xt=Bt;e.setNode(Xt,{label:"err",width:50,height:50}),e.setEdge(Lt,Bt)}else if(!e.hasNode(Lt)&&e.hasNode(Bt)){var Gt=Lt;e.setNode(Gt,{label:"err",width:50,height:50}),e.setEdge(Lt,Bt)}else{var jt=Lt,Ut=Bt;e.setNode(jt,{label:"err",width:50,height:50}),e.setNode(Ut,{label:"err",width:50,height:50}),e.setEdge(Lt,Bt)}}if("wcc"in t)for(var Ht=0;Ht<t.wcc.length;Ht+=1){var qt=t.wcc[Ht],Vt="pic-"+(qt.src-1),Wt="poc-"+(qt.tgt-1);if(e.hasNode(Vt)&&e.hasNode(Wt))e.setEdge(Vt,Wt);else if(e.hasNode(Vt)&&!e.hasNode(Wt)){var $t=Wt;e.setNode($t,{label:"err",width:50,height:50}),e.setEdge(Vt,Wt)}else if(!e.hasNode(Vt)&&e.hasNode(Wt)){var Yt=Vt;e.setNode(Yt,{label:"err",width:50,height:50}),e.setEdge(Vt,Wt)}else{var Zt=Vt,Kt=Wt;e.setNode(Zt,{label:"err",width:50,height:50}),e.setNode(Kt,{label:"err",width:50,height:50}),e.setEdge(Vt,Wt)}}if("wcopi"in t)for(var Qt=0;Qt<t.wcopi.length;Qt+=1){var te=t.wcopi[Qt],ee="pic-"+(te.src-1),ae="opi-"+(te.tgt-1);if(e.hasNode(ee)&&e.hasNode(ae))e.setEdge(ee,ae);else if(e.hasNode(ee)&&!e.hasNode(ae)){var re=ae;e.setNode(re,{label:"err",width:50,height:50}),e.setEdge(ee,ae)}else if(!e.hasNode(ee)&&e.hasNode(ae)){var ie=ee;e.setNode(ie,{label:"err",width:50,height:50}),e.setEdge(ee,ae)}else{var oe=ee,ne=ae;e.setNode(oe,{label:"err",width:50,height:50}),e.setNode(ne,{label:"err",width:50,height:50}),e.setEdge(ee,ae)}}if("wcopo"in t)for(var le=0;le<t.wcopo.length;le+=1){var se=t.wcopo[le],he="opo-"+(se.src-1),de="poc-"+(se.tgt-1);if(e.hasNode(he)&&e.hasNode(de))e.setEdge(he,de);else if(e.hasNode(he)&&!e.hasNode(de)){var ce=de;e.setNode(ce,{label:"err",width:50,height:50}),e.setEdge(he,de)}else if(!e.hasNode(he)&&e.hasNode(de)){var ge=he;e.setNode(ge,{label:"err",width:50,height:50}),e.setEdge(he,de)}else{var ue=he,pe=de;e.setNode(ue,{label:"err",width:50,height:50}),e.setNode(pe,{label:"err",width:50,height:50}),e.setEdge(he,de)}}if("bl"in t)for(var fe=0;fe<t.bl.length;fe+=1){var ye=t.bl[fe],ve="bl-"+fe,me=ye.name,xe=ye.function_type,be=ye.value,Ne=ye.condition,we=ye.pre,_e=ye.body,Ee=ye.post,ke=ye.metadata;e.setNode(ve,{label:me,value:be,type:xe,condition:Ne,pre:we,body:_e,post:Ee,metadata:ke});e.setNode("aux-"+ve,{auxLabel:"aux",width:1,height:1})}if("pil"in t)for(var ze=0;ze<t.pil.length;ze+=1){var Me=t.pil[ze],Ce="pil-"+ze,Se=Me.name,Re=Me.metadata;e.setNode(Ce,{label:Se,width:50,height:50,metadata:Re}),e.setParent(Ce,"bl-"+(Me.box-1))}if("pol"in t)for(var Ae=0;Ae<t.pol.length;Ae+=1){var Te=t.pol[Ae],Je="pol-"+Ae,Pe=Te.name,Fe=Te.metadata;e.setNode(Je,{label:Pe,width:50,height:50,metadata:Fe}),e.setParent(Je,"bl-"+(Te.box-1))}if("wfl"in t)for(var Oe=0;Oe<t.wfl.length;Oe+=1){var Ie=t.wfl[Oe],De="pil-"+(Ie.src-1),Le="pof-"+(Ie.tgt-1);if(e.hasNode(De)&&e.hasNode(Le))e.setEdge(De,Le);else if(e.hasNode(De)&&!e.hasNode(Le)){var Be=Le;e.setNode(Be,{label:"err",width:50,height:50}),e.setEdge(De,Le)}else if(!e.hasNode(De)&&e.hasNode(Le)){var Xe=De;e.setNode(Xe,{label:"err",width:50,height:50}),e.setEdge(De,Le)}else{var Ge=De,je=Le;e.setNode(Ge,{label:"err",width:50,height:50}),e.setNode(je,{label:"err",width:50,height:50}),e.setEdge(De,Le)}}if("wcl"in t)for(var Ue=0;Ue<t.wcl.length;Ue+=1){var He=t.wcl[Ue],qe="pil-"+(He.src-1),Ve="poc-"+(He.tgt-1);if(e.hasNode(qe)&&e.hasNode(Ve))e.setEdge(qe,Ve);else if(e.hasNode(qe)&&!e.hasNode(Ve)){var We=Ve;e.setNode(We,{label:"err",width:50,height:50}),e.setEdge(qe,Ve)}else if(!e.hasNode(qe)&&e.hasNode(Ve)){var $e=qe;e.setNode($e,{label:"err",width:50,height:50}),e.setEdge(qe,Ve)}else{var Ye=qe,Ze=Ve;e.setNode(Ye,{label:"err",width:50,height:50}),e.setNode(Ze,{label:"err",width:50,height:50}),e.setEdge(qe,Ve)}}if("wlopi"in t)for(var Ke=0;Ke<t.wlopi.length;Ke+=1){var Qe=t.wlopi[Ke],ta="pil-"+(Qe.src-1),ea="opi-"+(Qe.tgt-1);if(e.hasNode(ta)&&e.hasNode(ea))e.setEdge(ta,ea);else if(e.hasNode(ta)&&!e.hasNode(ea)){var aa=ea;e.setNode(aa,{label:"err",width:50,height:50}),e.setEdge(ta,ea)}else if(!e.hasNode(ta)&&e.hasNode(ea)){var ra=ta;e.setNode(ra,{label:"err",width:50,height:50}),e.setEdge(ta,ea)}else{var ia=ta,oa=ea;e.setNode(ia,{label:"err",width:50,height:50}),e.setNode(oa,{label:"err",width:50,height:50}),e.setEdge(ta,ea)}}if("wll"in t)for(var na=0;na<t.wll.length;na+=1){var la=t.wll[na],sa="pil-"+(la.src-1),ha="pol-"+(la.tgt-1);if(e.hasNode(sa)&&e.hasNode(ha))e.setEdge(sa,ha);else if(e.hasNode(sa)&&!e.hasNode(ha)){var da=ha;e.setNode(da,{label:"err",width:50,height:50}),e.setEdge(sa,ha)}else if(!e.hasNode(sa)&&e.hasNode(ha)){var ca=sa;e.setNode(ca,{label:"err",width:50,height:50}),e.setEdge(sa,ha)}else{var ga=sa,ua=ha;e.setNode(ga,{label:"err",width:50,height:50}),e.setNode(ua,{label:"err",width:50,height:50}),e.setEdge(sa,ha)}}if("wlf"in t)for(var pa=0;pa<t.wlf.length;pa+=1){var fa=t.wlf[pa],ya="pif-"+(fa.src-1),va="pol-"+(fa.tgt-1);if(e.hasNode(ya)&&e.hasNode(va))e.setEdge(ya,va);else if(e.hasNode(ya)&&!e.hasNode(va)){var ma=va;e.setNode(ma,{label:"err",width:50,height:50}),e.setEdge(ya,va)}else if(!e.hasNode(ya)&&e.hasNode(va)){var xa=ya;e.setNode(xa,{label:"err",width:50,height:50}),e.setEdge(ya,va)}else{var ba=ya,Na=va;e.setNode(ba,{label:"err",width:50,height:50}),e.setNode(Na,{label:"err",width:50,height:50}),e.setEdge(ya,va)}}if("wlc"in t)for(var wa=0;wa<t.wlc.length;wa+=1){var _a=t.wlc[wa],Ea="pic-"+(_a.src-1),ka="pol-"+(_a.tgt-1);if(e.hasNode(Ea)&&e.hasNode(ka))e.setEdge(Ea,ka);else if(e.hasNode(Ea)&&!e.hasNode(ka)){var za=ka;e.setNode(za,{label:"err",width:50,height:50}),e.setEdge(Ea,ka)}else if(!e.hasNode(Ea)&&e.hasNode(ka)){var Ma=Ea;e.setNode(Ma,{label:"err",width:50,height:50}),e.setEdge(Ea,ka)}else{var Ca=Ea,Sa=ka;e.setNode(Ca,{label:"err",width:50,height:50}),e.setNode(Sa,{label:"err",width:50,height:50}),e.setEdge(Ea,ka)}}if("wlopo"in t)for(var Ra=0;Ra<t.wlopo.length;Ra+=1){var Aa=t.wlopo[Ra],Ta="opo-"+(Aa.src-1),Ja="pol-"+(Aa.tgt-1);if(e.hasNode(Ta)&&e.hasNode(Ja))e.setEdge(Ta,Ja);else if(e.hasNode(Ta)&&!e.hasNode(Ja)){var Pa=Ja;e.setNode(Pa,{label:"err",width:50,height:50}),e.setEdge(Ta,Ja)}else if(!e.hasNode(Ta)&&e.hasNode(Ja)){var Fa=Ta;e.setNode(Fa,{label:"err",width:50,height:50}),e.setEdge(Ta,Ja)}else{var Oa=Ta,Ia=Ja;e.setNode(Oa,{label:"err",width:50,height:50}),e.setNode(Ia,{label:"err",width:50,height:50}),e.setEdge(Ta,Ja)}}if("pif"in t)for(var Da=0;Da<t.pif.length;Da+=1){var La="pif-"+Da,Ba="aux-bf-"+(t.pif[Da].box-1);e.predecessors(La).length>0||e.setEdge(Ba,La)}if("pof"in t)for(var Xa=0;Xa<t.pof.length;Xa+=1){var Ga="pof-"+Xa,ja="aux-bf-"+(t.pof[Xa].box-1);e.successors(Ga).length>0||e.setEdge(Ga,ja)}if("pic"in t)for(var Ua=0;Ua<t.pic.length;Ua+=1){var Ha="pic-"+Ua,qa="aux-bc-"+(t.pic[Ua].box-1);e.predecessors(Ha).length>0||e.setEdge(qa,Ha)}if("poc"in t)for(var Va=0;Va<t.poc.length;Va+=1){var Wa="poc-"+Va,$a="aux-bc-"+(t.poc[Va].box-1);e.successors(Wa).length>0||e.setEdge(Wa,$a)}if("pil"in t)for(var Ya=0;Ya<t.pil.length;Ya+=1){var Za="pil-"+Ya,Ka="aux-bl-"+(t.pil[Ya].box-1);e.predecessors(Za).length>0||e.setEdge(Ka,Za)}if("pol"in t)for(var Qa=0;Qa<t.pol.length;Qa+=1){var tr="pol-"+Qa,er="aux-bl-"+(t.pol[Qa].box-1);e.successors(tr).length>0||e.setEdge(tr,er)}e.nodes().filter(function(t){return t.startsWith("bf")}),e.nodes().filter(function(t){return t.startsWith("bc")}),e.nodes().filter(function(t){return t.startsWith("bl")}),e.nodes().filter(function(t){return t.startsWith("opo")}),e.nodes().filter(function(t){return t.startsWith("opi")});e.setGraph({ranksep:30,rankdir:"BT"}),C.layout(e);var ar={nodes:{},edges:[]};if(e.nodes().forEach(function(t){var a=e.node(t);ar.nodes[t]={x:a.x,y:a.y,width:a.width?a.width:100,height:a.height?a.height:100,label:a.label,type:a.type,value:a.value,body:a.body,condition:a.condition,body_if:a.body_if,body_else:a.body_else,pre:a.pre,post:a.post,metadata:a.metadata}}),e.edges().forEach(function(t,e){ar.edges.push({id:e,source:t.v,target:t.w})}),"bf"in t)for(var rr=function(e){var a="bf-"+e;if("pif"in t&&"pof"in t){var r=t.pof.find(function(t){return t.box===e+1}),i=t.pif.find(function(t){return t.box===e+1});ar.nodes[a].fullBox=!(!r||!i)}else ar.nodes[a].fullBox=!1},ir=0;ir<t.bf.length;ir+=1)rr(ir);if("bc"in t)for(var or=function(e){var a="bc-"+e;if("pic"in t&&"poc"in t){var r=t.poc.find(function(t){return t.box===e+1}),i=t.pic.find(function(t){return t.box===e+1});ar.nodes[a].fullBox=!(!r||!i)}else ar.nodes[a].fullBox=!1},nr=0;nr<t.bc.length;nr+=1)or(nr);if("bl"in t)for(var lr=function(e){var a="bl-"+e;if("pil"in t&&"pol"in t){var r=t.pol.find(function(t){return t.box===e+1}),i=t.pil.find(function(t){return t.box===e+1});ar.nodes[a].fullBox=!(!r||!i)}else ar.nodes[a].fullBox=!1},sr=0;sr<t.bl.length;sr+=1)lr(sr);return ar.meta={},ar.meta.name=t.b[0].name,ar.meta.identifier=t.b[0].function_type+"-"+t.b[0].metadata,ar.meta.type=t.b[0].function_type,ar.meta.metadata=t.b[0].metadata,ar}!function(){function t(e){var a=this;k()(this,t),this.parent={},e.forEach(function(t){return a.parent[t]=t})}M()(t,[{key:"find",value:function(t){return this.parent[t]!==t&&(this.parent[t]=this.find(this.parent[t])),this.parent[t]}},{key:"union",value:function(t,e){var a=this.find(t),r=this.find(e);a!==r&&(this.parent[r]=a)}}])}();var T=a("mvHQ"),J=a.n(T),P=a("gRE1"),F=a.n(P),O=a("Gu7T"),I=a.n(O);function D(t,e,a,r,i,o,n){var l=Number(m.g("#boxid"+r).select("#"+t).attr("x"))+Number(m.g("#boxid"+r).select("#"+t).attr("width")),s=Number(m.g("#boxid"+r).select("#"+t).attr("y"))+Number(m.g("#boxid"+r).select("#"+t).attr("height"))/2,h=Number(m.g("#"+e).attr("x"))+a[0],d=Number(m.g("#"+e).attr("x"))+a[0],c=Number(m.g("#"+e).attr("y"))+a[1],g=Number(m.g("#"+e).attr("y"))+Number(m.g("#"+e).attr("height"))+a[1],u=h-l,p=c-s,f=d-l,y=g-s,v={},x={},b={},N={};v.x=l+.375*u,v.y=s+.3*p,x.x=l+.75*.8*u,x.y=s+.75*p,b.x=l+.375*f,b.y=s+.3*y,N.x=l+.75*.8*f,N.y=s+.75*y,"down"===n&&(l=Number(m.g("#boxid"+r).select("#"+t).attr("x"))+Number(m.g("#boxid"+r).select("#"+t).attr("width"))/2,s=Number(m.g("#boxid"+r).select("#"+t).attr("y"))+Number(m.g("#boxid"+r).select("#"+t).attr("height")),h=Number(m.g("#"+e).attr("x"))+a[0],d=Number(m.g("#"+e).attr("x"))+a[0]+Number(m.g("#"+e).attr("width")),c=Number(m.g("#"+e).attr("y"))+a[1],g=Number(m.g("#"+e).attr("y"))+a[1],p=c-s,f=d-l,y=g-s,x={},b={},N={},(v={}).x=l+.375*(u=h-l),v.y=s+.3*p,x.x=l+.75*.8*u,x.y=s+.75*p,b.x=l+.375*f,b.y=s+.3*y,N.x=l+.75*.8*f,N.y=s+.75*y);var w=m.g("svg").select("#sumGroup").append("g").attr("id","line"+String(r)+"_"+String(i)).attr("class","drawer");w.attr("sourceid",t).attr("targetid",e).attr("locationTransform",a).attr("body_num_source",r).attr("body_num_target",i).attr("color",o);var _=[{x:l,y:s},{x:v.x,y:v.y},{x:x.x,y:x.y},{x:h,y:c+17}],E=[{x:l,y:s},{x:b.x,y:b.y},{x:N.x,y:N.y},{x:d,y:g-17}];"down"===n&&(_=[{x:l,y:s},{x:v.x,y:v.y},{x:x.x,y:x.y},{x:h+17,y:c}],E=[{x:l,y:s},{x:b.x,y:b.y},{x:N.x,y:N.y},{x:d-17,y:g}]);var k=m.e().x(function(t){return t.x}).y(function(t){return t.y}).curve(m.c),z=k(_),M=document.createElementNS("http://www.w3.org/2000/svg","path");M.setAttribute("d",z);var C=k(E),S=document.createElementNS("http://www.w3.org/2000/svg","path");S.setAttribute("d",C);for(var R=M.getTotalLength(),A=S.getTotalLength(),T=[],J=0;J<500;J++){var P=M.getPointAtLength(J*R/499);T.push({x:P.x,y:P.y})}for(var F=[],O=0;O<500;O++){var I=S.getPointAtLength(O*A/499);F.push({x:I.x,y:I.y})}var D=m.f().domain(m.d(_,function(t){return t.x})).range([0,u]),L=m.b(function(t){return t.x}).left,B=m.f().domain(m.d(E,function(t){return t.x})).range([0,u]),X=m.b(function(t){return t.x}).left;"down"===n&&(D=m.f().domain(m.d(_,function(t){return t.y})).range([0,p]),L=m.b(function(t){return t.y}).left,B=m.f().domain(m.d(E,function(t){return t.y})).range([0,p]),X=m.b(function(t){return t.y}).left);var G=m.a().x(function(t){return t.x}).y0(function(t){var e=t.x,a=L(T,D.invert(e));a>=T.length-1&&(a=T.length-2),a<1&&(a=1);var r=T[a-1],i=T[a+1],o=Math.abs((i.y-r.y)/(i.x-r.x)),n=6*Math.pow((t.x-l+2)/u,.38);return t.y-Math.sqrt(1+Math.pow(o,2))*n}).y1(function(t){var e=t.x,a=L(T,D.invert(e));a>=T.length-1&&(a=T.length-2),a<1&&(a=1);var r=T[a-1],i=T[a+1],o=Math.abs((i.y-r.y)/(i.x-r.x)),n=6*Math.pow((t.x-l+2)/u,.38);return t.y+Math.sqrt(1+Math.pow(o,2))*n}).curve(m.c),j=m.a().x(function(t){return t.x}).y0(function(t){var e=t.x,a=X(F,B.invert(e));a>=F.length-1&&(a=F.length-2),a<1&&(a=1);var r=F[a-1],i=F[a+1],o=Math.abs((i.y-r.y)/(i.x-r.x)),n=6*Math.pow((t.x-l+2)/f,.38);return t.y-Math.sqrt(1+Math.pow(o,2))*n}).y1(function(t){var e=t.x,a=X(F,B.invert(e));a>=F.length-1&&(a=F.length-2),a<1&&(a=1);var r=F[a-1],i=F[a+1],o=Math.abs((i.y-r.y)/(i.x-r.x)),n=6*Math.pow((t.x-l+2)/f,.38);return t.y+Math.sqrt(1+Math.pow(o,2))*n}).curve(m.c);"down"===n&&(G=m.a().y(function(t){return t.y}).x0(function(t){var e=t.y,a=L(T,D.invert(e));a>=T.length-1&&(a=T.length-2),a<1&&(a=1);var r=T[a-1],i=T[a+1],o=Math.abs((i.x-r.x)/(i.y-r.y)),n=6*Math.pow((t.y-s+2)/p,.38);return t.x-Math.sqrt(1+Math.pow(o,2))*n}).x1(function(t){var e=t.y,a=L(T,D.invert(e));a>=T.length-1&&(a=T.length-2),a<1&&(a=1);var r=T[a-1],i=T[a+1],o=Math.abs((i.x-r.x)/(i.y-r.y)),n=6*Math.pow((t.y-s+2)/p,.38);return t.x+Math.sqrt(1+Math.pow(o,2))*n}).curve(m.c),j=m.a().y(function(t){return t.y}).x0(function(t){var e=t.y,a=X(F,B.invert(e));a>=F.length-1&&(a=F.length-2),a<1&&(a=1);var r=F[a-1],i=F[a+1],o=Math.abs((i.x-r.x)/(i.y-r.y)),n=6*Math.pow((t.y-s+2)/y,.38);return t.x-Math.sqrt(1+Math.pow(o,2))*n}).x1(function(t){var e=t.y,a=X(F,B.invert(e));a>=F.length-1&&(a=F.length-2),a<1&&(a=1);var r=F[a-1],i=F[a+1],o=Math.abs((i.x-r.x)/(i.y-r.y)),n=6*Math.pow((t.y-s+2)/y,.38);return t.x+Math.sqrt(1+Math.pow(o,2))*n}).curve(m.c));w.append("path").datum(_).attr("d",G).attr("id","path1").attr("fill",o),w.append("path").datum(E).attr("d",j).attr("id","path2").attr("fill",o);m.g("#boxid"+r).selectAll("rect").each(function(r,n){var l=m.g(this);if(l.attr("id")!==t){var s=l.attr("data-body");if(void 0!==s&&null!==s&&s===i.split("-")[1]){l.attr("data-opened",!0);var h=Number(l.attr("x"))+Number(l.attr("width")),d=Number(l.attr("y"))+Number(l.attr("height"))/2,c=Number(m.g("#"+e).attr("x"))+a[0],g=Number(m.g("#"+e).attr("y"))+a[1]+Number(m.g("#"+e).attr("height"))/2;w.append("circle").attr("cx",c).attr("cy",g).attr("r",7).attr("fill",o),w.append("line").attr("x1",h).attr("y1",d).attr("x2",c).attr("y2",g).attr("stroke-width",3).attr("stroke",o).attr("stroke-dasharray","5,5").attr("marker-end","url(#arrow)").attr("class","arrowLine")}}})}function L(t,e,a,r,i,o,n,l){var s=Number(m.g("#boxid"+r).select("#"+t).attr("x"))+Number(m.g("#boxid"+r).select("#"+t).attr("width")),h=Number(m.g("#boxid"+r).select("#"+t).attr("y"))+Number(m.g("#boxid"+r).select("#"+t).attr("height"))/2,d=Number(m.g("#"+e).attr("x"))+a[0],c=Number(m.g("#"+e).attr("x"))+a[0],g=Number(m.g("#"+e).attr("y"))+a[1],u=Number(m.g("#"+e).attr("y"))+Number(m.g("#"+e).attr("height"))+a[1],p=d-s,f=g-h,y=c-s,v=u-h,x={},b={},N={},w={};x.x=s+.375*p,x.y=h+.3*f,b.x=s+.75*.8*p,b.y=h+.75*f,N.x=s+.375*y,N.y=h+.3*v,w.x=s+.75*.8*y,w.y=h+.75*v,"down"===l&&(s=Number(m.g("#boxid"+r).select("#"+t).attr("x"))+Number(m.g("#boxid"+r).select("#"+t).attr("width"))/2,h=Number(m.g("#boxid"+r).select("#"+t).attr("y"))+Number(m.g("#boxid"+r).select("#"+t).attr("height")),d=Number(m.g("#"+e).attr("x"))+a[0],c=Number(m.g("#"+e).attr("x"))+a[0]+Number(m.g("#"+e).attr("width")),g=Number(m.g("#"+e).attr("y"))+a[1],u=Number(m.g("#"+e).attr("y"))+a[1],f=g-h,y=c-s,v=u-h,b={},N={},w={},(x={}).x=s+.375*(p=d-s),x.y=h+.3*f,b.x=s+.75*.8*p,b.y=h+.75*f,N.x=s+.375*y,N.y=h+.3*v,w.x=s+.75*.8*y,w.y=h+.75*v);var _=m.g("#"+n);_.attr("sourceid",t).attr("targetid",e).attr("locationTransform",a).attr("body_num_source",r).attr("body_num_target",i).attr("color",o);var E=[{x:s,y:h},{x:x.x,y:x.y},{x:b.x,y:b.y},{x:d,y:g+17}],k=[{x:s,y:h},{x:N.x,y:N.y},{x:w.x,y:w.y},{x:c,y:u-17}];"down"===l&&(E=[{x:s,y:h},{x:x.x,y:x.y},{x:b.x,y:b.y},{x:d+17,y:g}],k=[{x:s,y:h},{x:N.x,y:N.y},{x:w.x,y:w.y},{x:c-17,y:u}]);var z=m.e().x(function(t){return t.x}).y(function(t){return t.y}).curve(m.c),M=z(E),C=document.createElementNS("http://www.w3.org/2000/svg","path");C.setAttribute("d",M);var S=z(k),R=document.createElementNS("http://www.w3.org/2000/svg","path");R.setAttribute("d",S);for(var A=C.getTotalLength(),T=R.getTotalLength(),J=[],P=0;P<500;P++){var F=C.getPointAtLength(P*A/499);J.push({x:F.x,y:F.y})}for(var O=[],I=0;I<500;I++){var D=R.getPointAtLength(I*T/499);O.push({x:D.x,y:D.y})}var L=m.f().domain(m.d(E,function(t){return t.x})).range([0,p]),B=m.b(function(t){return t.x}).left,X=m.f().domain(m.d(k,function(t){return t.x})).range([0,p]),G=m.b(function(t){return t.x}).left;"down"===l&&(L=m.f().domain(m.d(E,function(t){return t.y})).range([0,f]),B=m.b(function(t){return t.y}).left,X=m.f().domain(m.d(k,function(t){return t.y})).range([0,f]),G=m.b(function(t){return t.y}).left);var j=m.a().x(function(t){return t.x}).y0(function(t){var e=t.x,a=B(J,L.invert(e));a>=J.length-1&&(a=J.length-2),a<1&&(a=1);var r=J[a-1],i=J[a+1],o=Math.abs((i.y-r.y)/(i.x-r.x)),n=6*Math.pow((t.x-s+2)/p,.38);return t.y-Math.sqrt(1+Math.pow(o,2))*n}).y1(function(t){var e=t.x,a=B(J,L.invert(e));a>=J.length-1&&(a=J.length-2),a<1&&(a=1);var r=J[a-1],i=J[a+1],o=Math.abs((i.y-r.y)/(i.x-r.x)),n=6*Math.pow((t.x-s+2)/p,.38);return t.y+Math.sqrt(1+Math.pow(o,2))*n}).curve(m.c),U=m.a().x(function(t){return t.x}).y0(function(t){var e=t.x,a=G(O,X.invert(e));a>=O.length-1&&(a=O.length-2),a<1&&(a=1);var r=O[a-1],i=O[a+1],o=Math.abs((i.y-r.y)/(i.x-r.x)),n=6*Math.pow((t.x-s+2)/p,.38);return t.y-Math.sqrt(1+Math.pow(o,2))*n}).y1(function(t){var e=t.x,a=G(O,X.invert(e));a>=O.length-1&&(a=O.length-2),a<1&&(a=1);var r=O[a-1],i=O[a+1],o=Math.abs((i.y-r.y)/(i.x-r.x)),n=6*Math.pow((t.x-s+2)/p,.38);return t.y+Math.sqrt(1+Math.pow(o,2))*n}).curve(m.c);"down"===l&&(j=m.a().y(function(t){return t.y}).x0(function(t){var e=t.y,a=B(J,L.invert(e));a>=J.length-1&&(a=J.length-2),a<1&&(a=1);var r=J[a-1],i=J[a+1],o=Math.abs((i.x-r.x)/(i.y-r.y)),n=6*Math.pow((t.y-h+2)/f,.38);return t.x-Math.sqrt(1+Math.pow(o,2))*n}).x1(function(t){var e=t.y,a=B(J,L.invert(e));a>=J.length-1&&(a=J.length-2),a<1&&(a=1);var r=J[a-1],i=J[a+1],o=Math.abs((i.x-r.x)/(i.y-r.y)),n=6*Math.pow((t.y-h+2)/f,.38);return t.x+Math.sqrt(1+Math.pow(o,2))*n}).curve(m.c),U=m.a().y(function(t){return t.y}).x0(function(t){var e=t.y,a=G(O,X.invert(e));a>=O.length-1&&(a=O.length-2),a<1&&(a=1);var r=O[a-1],i=O[a+1],o=Math.abs((i.x-r.x)/(i.y-r.y)),n=6*Math.pow((t.y-h+2)/v,.38);return t.x-Math.sqrt(1+Math.pow(o,2))*n}).x1(function(t){var e=t.y,a=G(O,X.invert(e));a>=O.length-1&&(a=O.length-2),a<1&&(a=1);var r=O[a-1],i=O[a+1],o=Math.abs((i.x-r.x)/(i.y-r.y)),n=6*Math.pow((t.y-h+2)/v,.38);return t.x+Math.sqrt(1+Math.pow(o,2))*n}).curve(m.c));_.select("#path1").datum(E).transition("transition10").duration(720).attr("d",j).attr("fill",o),_.select("#path2").datum(k).transition("transition11").duration(720).attr("d",U).attr("fill",o);m.g("#boxid"+r).selectAll("rect").each(function(r,n){var l=m.g(this);if(l.attr("id")!==t){var s=l.attr("data-body");if(void 0!==s&&null!==s&&s===i.split("-")[1]){var h=Number(l.attr("x"))+Number(l.attr("width")),d=Number(l.attr("y"))+Number(l.attr("height"))/2,c=Number(m.g("#"+e).attr("x"))+a[0],g=Number(m.g("#"+e).attr("y"))+a[1]+Number(m.g("#"+e).attr("height"))/2;_.select("circle").transition("transition12").duration(720).attr("cx",c).attr("cy",g).attr("r",7).attr("fill",o),_.select("line").transition("transition13").duration(720).attr("x1",h).attr("y1",d).attr("x2",c).attr("y2",g).attr("stroke-width",3).attr("stroke",o).attr("stroke-dasharray","5,5").attr("marker-end","url(#arrow)").attr("class","arrowLine")}}})}function B(t,e,a,r,i,o){var n="frame"+e,l=t[a][0]-t[e][0]-Number(m.g("#"+n).attr("width")),s=t[a][1]-t[e][1],h=Number(m.g("#"+n).attr("x"))+Number(m.g("#"+n).attr("width")),d=Number(m.g("#"+n).attr("y"))+Number(m.g("#"+n).attr("height"))/2,c=h+l,g=d+s;"down"===o&&(h=Number(m.g("#"+n).attr("x"))+Number(m.g("#"+n).attr("width"))/2,d=Number(m.g("#"+n).attr("y"))+Number(m.g("#"+n).attr("height")),c=h+(l=t[a][0]-t[e][0]),g=d+(s=t[a][1]-t[e][1]-Number(m.g("#"+n).attr("height"))));var u=m.g("svg").select("#sumGroup").append("g").attr("id","line"+String(e)+"_"+String(a)).attr("line-type","dashed").attr("class","drawer");u.append("defs").append("marker").attr("id","arrow").attr("markerWidth",5).attr("markerHeight",3.5).attr("refX",5).attr("refY",1.75).attr("orient","auto").append("path").attr("d","M0,0 L5,1.75 L0,3.5 Z").style("fill","gray"),u.append("line").attr("x1",h).attr("y1",d).attr("x2",c).attr("y2",g).attr("stroke-width",5).attr("stroke",r).attr("stroke-dasharray","5,5").attr("marker-end","url(#arrow)").attr("class","arrowLine");var p=(h+c)/2-45,f=(d+g)/2-5;u.append("text").attr("x",p).attr("y",f).text(i).style("font-size","30px").style("fill","black")}function X(t,e,a,r,i,o,n){var l="frame"+e,s=t[a][0]-t[e][0]-Number(m.g("#"+l).attr("width")),h=t[a][1]-t[e][1],d=Number(m.g("#"+l).attr("x"))+Number(m.g("#"+l).attr("width")),c=Number(m.g("#"+l).attr("y"))+Number(m.g("#"+l).attr("height"))/2,g=d+s,u=c+h;"down"===n&&(d=Number(m.g("#"+l).attr("x"))+Number(m.g("#"+l).attr("width"))/2,c=Number(m.g("#"+l).attr("y"))+Number(m.g("#"+l).attr("height")),g=d+(s=t[a][0]-t[e][0]),u=c+(h=t[a][1]-t[e][1]-Number(m.g("#"+l).attr("height"))));var p=m.g("svg").select("#sumGroup").select("#"+o);p.select("line").transition("transition14").duration(720).attr("x1",d).attr("y1",c).attr("x2",g).attr("y2",u).attr("stroke-width",5).attr("stroke",r).attr("stroke-dasharray","5,5").attr("marker-end","url(#arrow)").attr("class","arrowLine");var f=(d+g)/2-45,y=(c+u)/2-5;p.select("text").transition("transition15").duration(720).attr("x",f).attr("y",y).text(i).style("font-size","30px").style("fill","black")}function G(t,e){if(t.length!==e.length)return!1;for(var a=0;a<t.length;a++)if(t[a]!==e[a])return!1;return!0}function j(t){var e=!1,a=!1,r=F()(t);console.log(r),r.sort(function(t,e){return t.x-e.x});var i=-999999;for(r.forEach(function(t,a){t.x-i<57?e=!0:i=t.x});1==e;)e=!1,0==a?(i=-999999,r.forEach(function(t,o){t.x-i>57?i=t.x:(e=!0,t.x-60<0?a=!0:r[o-1].x=t.x-60)})):r.forEach(function(t,r){i=-999999,t.x-i>57?i=t.x:(e=!0,t.x-60<0?a=!0:t.x=i+60)});return console.log(r),r}function U(t,e){e(t),t.children&&t.children.forEach(function(t){return U(t,e)}),t._children&&t._children.forEach(function(t){return U(t,e)})}function H(t,e){console.log(e),e.forEach(function(e){var a=t,r=2;e.path.forEach(function(t){if(0!==Number(t))if(r<=e.path.length-1){var i=a.children.filter(function(e){return Number(e.name)===Number(t)})[0];r+=1,a=i}else t===e.path[e.path.length-1]&&(a.hasOwnProperty("children")?(a.children.push(e),a.children.sort(function(t,e){for(var a=t.oName.split("-").map(Number),r=e.oName.split("-").map(Number),i=0;i<a.length;i++){if(a[i]<r[i])return-1;if(a[i]>r[i])return 1}return 0})):a.children=[e])})})}function q(t){var e={},a=[];m.h(".drawer").each(function(r,i){var o=m.g(this).attr("id").replace("boxid",""),n=m.g(this).attr("direction");if(2!==o.split("_").length){var l=o.split("-"),s=l[l.length-1];if("0"===s)e.name=Number(s),e.oName=o,e.path=l,e.size=[Number(m.g(this).attr("width"))+t,Number(m.g(this).attr("height"))],e.direction=n,e.parentCoordinates="right"===n?m.g(this).attr("parentCoord").split(",").map(Number)[1]:m.g(this).attr("parentCoord").split(",").map(Number)[0];else{var h={};h.name=Number(s),h.size=[Number(m.g(this).attr("width"))+t,Number(m.g(this).attr("height"))],h.path=l,h.oName=o,h.direction=n,h.parentCoordinates=m.g(this).attr("parentCoord").split(",").map(Number),h.parentCoordinates="right"===n?m.g(this).attr("parentCoord").split(",").map(Number)[1]:m.g(this).attr("parentCoord").split(",").map(Number)[0],a.push(h)}}});return a.sort(function(t,e){return t.path.length-e.path.length}),H(e,a),U(e,function(t){Array.isArray(t.size)&&(t._size||(t._size=t.size.slice()),t.size=t._size.slice().reverse())}),e}function V(t){var e=new C.graphlib.Graph({compound:!0});if(e.setGraph({}),e.setDefaultEdgeLabel(function(){return{}}),"pif"in t)for(var a=0;a<t.pif.length;a+=1){var r=t.pif[a],i="pif-"+a,o=r.name,n=r.metadata;e.setNode(i,{label:o,width:50,height:50,metadata:n})}if("pof"in t)for(var l=0;l<t.pof.length;l+=1){var s=t.pof[l],h="pof-"+l,d=s.name,c=s.metadata;e.setNode(h,{label:d,width:50,height:50,metadata:c})}if("opo"in t)for(var g=0;g<t.opo.length;g+=1){var u=t.opo[g],p="opo-"+g,f=u.name,y=u.metadata;e.setNode(p,{label:f,width:50,height:50,metadata:y})}if("opi"in t)for(var v=0;v<t.opi.length;v+=1){var m=t.opi[v],x="opi-"+v,b=m.name,N=m.metadata;e.setNode(x,{label:b,width:50,height:50,metadata:N})}if("pic"in t)for(var w=0;w<t.pic.length;w+=1){var _=t.pic[w],E="pic-"+w,k=_.name,z=_.metadata;e.setNode(E,{label:k,width:50,height:50,metadata:z})}if("poc"in t)for(var M=0;M<t.poc.length;M+=1){var S=t.poc[M],R="poc-"+M,A=S.name,T=S.metadata;e.setNode(R,{label:A,width:50,height:50,metadata:T})}if("pil"in t)for(var J=0;J<t.pil.length;J+=1){var P=t.pil[J],F="pil-"+J,O=P.name,I=P.metadata;e.setNode(F,{label:O,width:50,height:50,metadata:I})}if("pol"in t)for(var D=0;D<t.pol.length;D+=1){var L=t.pol[D],B="pol-"+D,X=L.name,G=L.metadata;e.setNode(B,{label:X,width:50,height:50,metadata:G})}if("wff"in t)for(var j=0;j<t.wff.length;j+=1){var U=t.wff[j],H="pif-"+(U.src-1),q="pof-"+(U.tgt-1);if(e.hasNode(H)&&e.hasNode(q))e.setEdge(H,q);else if(e.hasNode(H)&&!e.hasNode(q)){var V=q;e.setNode(V,{label:"err",width:50,height:50}),e.setEdge(H,q)}else if(!e.hasNode(H)&&e.hasNode(q)){var W=H;e.setNode(W,{label:"err",width:50,height:50}),e.setEdge(H,q)}else{var $=H,Y=q;e.setNode($,{label:"err",width:50,height:50}),e.setNode(Y,{label:"err",width:50,height:50}),e.setEdge(H,q)}}if("wfopi"in t)for(var Z=0;Z<t.wfopi.length;Z+=1){var K=t.wfopi[Z],Q="pif-"+(K.src-1),tt="opi-"+(K.tgt-1);if(e.hasNode(Q)&&e.hasNode(tt))e.setEdge(Q,tt);else if(e.hasNode(Q)&&!e.hasNode(tt)){var et=tt;e.setNode(et,{label:"err",width:50,height:50}),e.setEdge(Q,tt)}else if(!e.hasNode(Q)&&e.hasNode(tt)){var at=Q;e.setNode(at,{label:"err",width:50,height:50}),e.setEdge(Q,tt)}else{var rt=Q,it=tt;e.setNode(rt,{label:"err",width:50,height:50}),e.setNode(it,{label:"err",width:50,height:50}),e.setEdge(Q,tt)}}if("wfopo"in t)for(var ot=0;ot<t.wfopo.length;ot+=1){var nt=t.wfopo[ot],lt="opo-"+(nt.src-1),st="pof-"+(nt.tgt-1);if(e.hasNode(lt)&&e.hasNode(st))e.setEdge(lt,st);else if(e.hasNode(lt)&&!e.hasNode(st)){var ht=st;e.setNode(ht,{label:"err",width:50,height:50}),e.setEdge(lt,st)}else if(!e.hasNode(lt)&&e.hasNode(st)){var dt=lt;e.setNode(dt,{label:"err",width:50,height:50}),e.setEdge(lt,st)}else{var ct=lt,gt=st;e.setNode(ct,{label:"err",width:50,height:50}),e.setNode(gt,{label:"err",width:50,height:50}),e.setEdge(lt,st)}}if("wopio"in t)for(var ut=0;ut<t.wopio.length;ut+=1){var pt=t.wopio[ut],ft="opo-"+(pt.src-1),yt="opi-"+(pt.tgt-1);if(e.hasNode(ft)&&e.hasNode(yt))e.setEdge(ft,yt);else if(e.hasNode(ft)&&!e.hasNode(yt)){var vt=yt;e.setNode(vt,{label:"err",width:50,height:50}),e.setEdge(ft,yt)}else if(!e.hasNode(ft)&&e.hasNode(yt)){var mt=ft;e.setNode(mt,{label:"err",width:50,height:50}),e.setEdge(ft,yt)}else{var xt=ft,bt=yt;e.setNode(xt,{label:"err",width:50,height:50}),e.setNode(bt,{label:"err",width:50,height:50}),e.setEdge(ft,yt)}}if("wfc"in t)for(var Nt=0;Nt<t.wfc.length;Nt+=1){var wt=t.wfc[Nt],_t="pic-"+(wt.src-1),Et="pof-"+(wt.tgt-1);if(e.hasNode(_t)&&e.hasNode(Et))e.setEdge(_t,Et);else if(e.hasNode(_t)&&!e.hasNode(Et)){var kt=Et;e.setNode(kt,{label:"err",width:50,height:50}),e.setEdge(_t,Et)}else if(!e.hasNode(_t)&&e.hasNode(Et)){var zt=_t;e.setNode(zt,{label:"err",width:50,height:50}),e.setEdge(_t,Et)}else{var Mt=_t,Ct=Et;e.setNode(Mt,{label:"err",width:50,height:50}),e.setNode(Ct,{label:"err",width:50,height:50}),e.setEdge(_t,Et)}}if("wcf"in t)for(var St=0;St<t.wcf.length;St+=1){var Rt=t.wcf[St],At="pif-"+(Rt.src-1),Tt="poc-"+(Rt.tgt-1);if(e.hasNode(At)&&e.hasNode(Tt))e.setEdge(At,Tt);else if(e.hasNode(At)&&!e.hasNode(Tt)){var Jt=Tt;e.setNode(Jt,{label:"err",width:50,height:50}),e.setEdge(At,Tt)}else if(!e.hasNode(At)&&e.hasNode(Tt)){var Pt=At;e.setNode(Pt,{label:"err",width:50,height:50}),e.setEdge(At,Tt)}else{var Ft=At,Ot=Tt;e.setNode(Ft,{label:"err",width:50,height:50}),e.setNode(Ot,{label:"err",width:50,height:50}),e.setEdge(At,Tt)}}if("wcc"in t)for(var It=0;It<t.wcc.length;It+=1){var Dt=t.wcc[It],Lt="pic-"+(Dt.src-1),Bt="poc-"+(Dt.tgt-1);if(e.hasNode(Lt)&&e.hasNode(Bt))e.setEdge(Lt,Bt);else if(e.hasNode(Lt)&&!e.hasNode(Bt)){var Xt=Bt;e.setNode(Xt,{label:"err",width:50,height:50}),e.setEdge(Lt,Bt)}else if(!e.hasNode(Lt)&&e.hasNode(Bt)){var Gt=Lt;e.setNode(Gt,{label:"err",width:50,height:50}),e.setEdge(Lt,Bt)}else{var jt=Lt,Ut=Bt;e.setNode(jt,{label:"err",width:50,height:50}),e.setNode(Ut,{label:"err",width:50,height:50}),e.setEdge(Lt,Bt)}}if("wcopi"in t)for(var Ht=0;Ht<t.wcopi.length;Ht+=1){var qt=t.wcopi[Ht],Vt="pic-"+(qt.src-1),Wt="opi-"+(qt.tgt-1);if(e.hasNode(Vt)&&e.hasNode(Wt))e.setEdge(Vt,Wt);else if(e.hasNode(Vt)&&!e.hasNode(Wt)){var $t=Wt;e.setNode($t,{label:"err",width:50,height:50}),e.setEdge(Vt,Wt)}else if(!e.hasNode(Vt)&&e.hasNode(Wt)){var Yt=Vt;e.setNode(Yt,{label:"err",width:50,height:50}),e.setEdge(Vt,Wt)}else{var Zt=Vt,Kt=Wt;e.setNode(Zt,{label:"err",width:50,height:50}),e.setNode(Kt,{label:"err",width:50,height:50}),e.setEdge(Vt,Wt)}}if("wcopo"in t)for(var Qt=0;Qt<t.wcopo.length;Qt+=1){var te=t.wcopo[Qt],ee="opo-"+(te.src-1),ae="poc-"+(te.tgt-1);if(e.hasNode(ee)&&e.hasNode(ae))e.setEdge(ee,ae);else if(e.hasNode(ee)&&!e.hasNode(ae)){var re=ae;e.setNode(re,{label:"err",width:50,height:50}),e.setEdge(ee,ae)}else if(!e.hasNode(ee)&&e.hasNode(ae)){var ie=ee;e.setNode(ie,{label:"err",width:50,height:50}),e.setEdge(ee,ae)}else{var oe=ee,ne=ae;e.setNode(oe,{label:"err",width:50,height:50}),e.setNode(ne,{label:"err",width:50,height:50}),e.setEdge(ee,ae)}}if("wfl"in t)for(var le=0;le<t.wfl.length;le+=1){var se=t.wfl[le],he="pil-"+(se.src-1),de="pof-"+(se.tgt-1);if(e.hasNode(he)&&e.hasNode(de))e.setEdge(he,de);else if(e.hasNode(he)&&!e.hasNode(de)){var ce=de;e.setNode(ce,{label:"err",width:50,height:50}),e.setEdge(he,de)}else if(!e.hasNode(he)&&e.hasNode(de)){var ge=he;e.setNode(ge,{label:"err",width:50,height:50}),e.setEdge(he,de)}else{var ue=he,pe=de;e.setNode(ue,{label:"err",width:50,height:50}),e.setNode(pe,{label:"err",width:50,height:50}),e.setEdge(he,de)}}if("wcl"in t)for(var fe=0;fe<t.wcl.length;fe+=1){var ye=t.wcl[fe],ve="pil-"+(ye.src-1),me="poc-"+(ye.tgt-1);if(e.hasNode(ve)&&e.hasNode(me))e.setEdge(ve,me);else if(e.hasNode(ve)&&!e.hasNode(me)){var xe=me;e.setNode(xe,{label:"err",width:50,height:50}),e.setEdge(ve,me)}else if(!e.hasNode(ve)&&e.hasNode(me)){var be=ve;e.setNode(be,{label:"err",width:50,height:50}),e.setEdge(ve,me)}else{var Ne=ve,we=me;e.setNode(Ne,{label:"err",width:50,height:50}),e.setNode(we,{label:"err",width:50,height:50}),e.setEdge(ve,me)}}if("wlopi"in t)for(var _e=0;_e<t.wlopi.length;_e+=1){var Ee=t.wlopi[_e],ke="pil-"+(Ee.src-1),ze="opi-"+(Ee.tgt-1);if(e.hasNode(ke)&&e.hasNode(ze))e.setEdge(ke,ze);else if(e.hasNode(ke)&&!e.hasNode(ze)){var Me=ze;e.setNode(Me,{label:"err",width:50,height:50}),e.setEdge(ke,ze)}else if(!e.hasNode(ke)&&e.hasNode(ze)){var Ce=ke;e.setNode(Ce,{label:"err",width:50,height:50}),e.setEdge(ke,ze)}else{var Se=ke,Re=ze;e.setNode(Se,{label:"err",width:50,height:50}),e.setNode(Re,{label:"err",width:50,height:50}),e.setEdge(ke,ze)}}if("wll"in t)for(var Ae=0;Ae<t.wll.length;Ae+=1){var Te=t.wll[Ae],Je="pil-"+(Te.src-1),Pe="pol-"+(Te.tgt-1);if(e.hasNode(Je)&&e.hasNode(Pe))e.setEdge(Je,Pe);else if(e.hasNode(Je)&&!e.hasNode(Pe)){var Fe=Pe;e.setNode(Fe,{label:"err",width:50,height:50}),e.setEdge(Je,Pe)}else if(!e.hasNode(Je)&&e.hasNode(Pe)){var Oe=Je;e.setNode(Oe,{label:"err",width:50,height:50}),e.setEdge(Je,Pe)}else{var Ie=Je,De=Pe;e.setNode(Ie,{label:"err",width:50,height:50}),e.setNode(De,{label:"err",width:50,height:50}),e.setEdge(Je,Pe)}}if("wlf"in t)for(var Le=0;Le<t.wlf.length;Le+=1){var Be=t.wlf[Le],Xe="pif-"+(Be.src-1),Ge="pol-"+(Be.tgt-1);if(e.hasNode(Xe)&&e.hasNode(Ge))e.setEdge(Xe,Ge);else if(e.hasNode(Xe)&&!e.hasNode(Ge)){var je=Ge;e.setNode(je,{label:"err",width:50,height:50}),e.setEdge(Xe,Ge)}else if(!e.hasNode(Xe)&&e.hasNode(Ge)){var Ue=Xe;e.setNode(Ue,{label:"err",width:50,height:50}),e.setEdge(Xe,Ge)}else{var He=Xe,qe=Ge;e.setNode(He,{label:"err",width:50,height:50}),e.setNode(qe,{label:"err",width:50,height:50}),e.setEdge(Xe,Ge)}}if("wlc"in t)for(var Ve=0;Ve<t.wlc.length;Ve+=1){var We=t.wlc[Ve],$e="pic-"+(We.src-1),Ye="pol-"+(We.tgt-1);if(e.hasNode($e)&&e.hasNode(Ye))e.setEdge($e,Ye);else if(e.hasNode($e)&&!e.hasNode(Ye)){var Ze=Ye;e.setNode(Ze,{label:"err",width:50,height:50}),e.setEdge($e,Ye)}else if(!e.hasNode($e)&&e.hasNode(Ye)){var Ke=$e;e.setNode(Ke,{label:"err",width:50,height:50}),e.setEdge($e,Ye)}else{var Qe=$e,ta=Ye;e.setNode(Qe,{label:"err",width:50,height:50}),e.setNode(ta,{label:"err",width:50,height:50}),e.setEdge($e,Ye)}}if("wlopo"in t)for(var ea=0;ea<t.wlopo.length;ea+=1){var aa=t.wlopo[ea],ra="opo-"+(aa.src-1),ia="pol-"+(aa.tgt-1);if(e.hasNode(ra)&&e.hasNode(ia))e.setEdge(ra,ia);else if(e.hasNode(ra)&&!e.hasNode(ia)){var oa=ia;e.setNode(oa,{label:"err",width:50,height:50}),e.setEdge(ra,ia)}else if(!e.hasNode(ra)&&e.hasNode(ia)){var na=ra;e.setNode(na,{label:"err",width:50,height:50}),e.setEdge(ra,ia)}else{var la=ra,sa=ia;e.setNode(la,{label:"err",width:50,height:50}),e.setNode(sa,{label:"err",width:50,height:50}),e.setEdge(ra,ia)}}var ha=[];return e.nodes().forEach(function(t){"err"===e.node(t).label&&ha.push(t)}),ha}var W=a("Zx67"),$=a.n(W),Y=a("zwoO"),Z=a.n(Y),K=a("Pf15"),Q=a.n(K),tt=a("woOf"),et=a.n(tt),at=a("u2KI"),rt=a.n(at),it=a("0PjT"),ot=rt()({children:function(t){return t.children},nodeSize:function(t){return t.data.size},spacing:0});function nt(t){var e=et()({},ot,t);function a(t){var a=e[t];return"function"==typeof a?a:function(){return a}}function r(t){var e,r,l,s=n((e=i(),r=a("nodeSize"),l=a("spacing"),function(t){function e(t){k()(this,e);var a=Z()(this,(e.__proto__||$()(e)).call(this,t));return et()(a,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:a,lExtRelX:0,lThr:null,rExt:a,rExtRelX:0,rThr:null,parentChange:t.data.parentCoordinates}),a}return Q()(e,t),M()(e,[{key:"spacing",value:function(t){return l(this.data,t.data)}},{key:"update",value:function(){return o(this),lt(this),st(this),this}},{key:"size",get:function(){return r(this.data)}},{key:"x",get:function(){return this.data.x},set:function(t){this.data.x=t}},{key:"y",get:function(){return this.data.y},set:function(t){this.data.y=t}}]),e}(e)),t,function(t){return t.children});return s.update(),s.data}function i(){var t=a("nodeSize"),e=a("spacing");return function(a){function r(t){return k()(this,r),Z()(this,(r.__proto__||$()(r)).call(this,t))}return Q()(r,a),M()(r,[{key:"copy",value:function(){var t=n(this.constructor,this,function(t){return t.children});return t.each(function(t){return t.data=t.data.data}),t}},{key:"spacing",value:function(t){return e(this,t)}},{key:"size",get:function(){return t(this)}},{key:"nodes",get:function(){return this.descendants()}},{key:"xSize",get:function(){return this.size[0]}},{key:"ySize",get:function(){return this.size[1]}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.ySize}},{key:"left",get:function(){return this.x-this.xSize/2}},{key:"right",get:function(){return this.x+this.xSize/2}},{key:"root",get:function(){var t=this.ancestors();return t[t.length-1]}},{key:"numChildren",get:function(){return this.hasChildren?this.children.length:0}},{key:"childNodes",get:function(){return this.children}},{key:"hasChildren",get:function(){return!this.noChildren}},{key:"noChildren",get:function(){return null===this.children}},{key:"firstChild",get:function(){return this.hasChildren?this.children[0]:null}},{key:"lastChild",get:function(){return this.hasChildren?this.children[this.numChildren-1]:null}},{key:"extents",get:function(){return(this.children||[]).reduce(function(t,e){return r.maxExtents(t,e.extents)},this.nodeExtents)}},{key:"nodeExtents",get:function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}],[{key:"maxExtents",value:function(t,e){return{top:Math.min(t.top,e.top),bottom:Math.max(t.bottom,e.bottom),left:Math.min(t.left,e.left),right:Math.max(t.right,e.right)}}}]),r}(it.a.prototype.constructor)}function o(t){if(t.hasChildren&&t.childNodes.forEach(o),t.noChildren){var e=t.parentChange;et()(t,{prelim:e})}}function n(t,e,a){return function e(r,i){var o=new t(r);et()(o,{parent:i,depth:null===i?0:i.depth+1,height:0,length:1});var n=a(r)||[];return o.children=0===n.length?null:n.map(function(t){return e(t,o)}),o.children&&et()(o,o.children.reduce(function(t,e){return{height:Math.max(t.height,e.height+1),length:t.length+e.length}},o)),o}(e,null)}return et()(r,{nodeSize:function(t){return arguments.length?(e.nodeSize=t,r):e.nodeSize},spacing:function(t){return arguments.length?(e.spacing=t,r):e.spacing},children:function(t){return arguments.length?(e.children=t,r):e.children},hierarchy:function(t,a){var r=void 0===a?e.children:a;return n(i(),t,r)},dump:function(t){var e=a("nodeSize");return function t(a){return function(r){var i=a+"  ",o=a+"    ",n=r.x,l=r.y,s=e(r),h=r.children||[],d=0===h.length?" ":","+i+"children: ["+o+h.map(t(o)).join(o)+i+"],"+a;return"{ size: ["+s.join(", ")+"],"+i+"x: "+n+", y: "+l+d+"},"}}("\n")(t)}}),r}var lt=function t(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.y=a,(e.children||[]).reduce(function(a,r){var i=o()(a,2),n=i[0],l=i[1];t(r,e.y+e.ySize);var s=(0===n?r.lExt:r.rExt).bottom;return 0!==n&&ht(e,n,l),[n+1,vt(s,n,l)]},[0,null]),console.log(e),yt(e),e},st=function t(e,a,r){void 0===a&&(a=-e.relX-e.prelim,r=0);var i=a+e.relX;return e.relX=i+e.prelim-r,e.prelim=0,e.x=r+e.relX,(e.children||[]).forEach(function(a){return t(a,i,e.x)}),e},ht=function(t,e,a){for(var r=t.children[e-1],i=t.children[e],o=r,n=r.relX,l=i,s=i.relX,h=!1;o&&l;){o.bottom>a.lowY&&(a=a.next);var d=n+o.prelim-(s+l.prelim)+o.xSize/2+l.xSize/2+o.spacing(l);(d>0||d<0&&h)&&(s+=d,dt(i,d),ct(t,e,a.index,d)),h=!1;var c=o.bottom,g=l.bottom;c<=g&&(o=ut(o))&&(n+=o.relX),c>=g&&(l=gt(l))&&(s+=l.relX)}!o&&l?pt(t,e,l,s):o&&!l&&ft(t,e,o,n)},dt=function(t,e){t.relX+=e,t.lExtRelX+=e,t.rExtRelX+=e},ct=function(t,e,a,r){var i=t.children[e],o=e-a;if(o>1){var n=r/o;t.children[a+1].shift+=n,i.shift-=n,i.change-=r-n}},gt=function(t){return t.hasChildren?t.firstChild:t.lThr},ut=function(t){return t.hasChildren?t.lastChild:t.rThr},pt=function(t,e,a,r){var i=t.firstChild,o=i.lExt,n=t.children[e];o.lThr=a;var l=r-a.relX-i.lExtRelX;o.relX+=l,o.prelim-=l,i.lExt=n.lExt,i.lExtRelX=n.lExtRelX},ft=function(t,e,a,r){var i=t.children[e],o=i.rExt,n=t.children[e-1];o.rThr=a;var l=r-a.relX-i.rExtRelX;o.relX+=l,o.prelim-=l,i.rExt=n.rExt,i.rExtRelX=n.rExtRelX},yt=function(t){if(t.hasChildren){var e=0;t.childNodes.forEach(function(a){e+=(a.relX+a.prelim-a.parentChange)/t.numChildren});var a=t.firstChild,r=t.lastChild;et()(t,{prelim:e,lExt:a.lExt,lExtRelX:a.lExtRelX,rExt:r.rExt,rExtRelX:r.rExtRelX})}},vt=function(t,e,a){for(;null!==a&&t>=a.lowY;)a=a.next;return{lowY:t,index:e,next:a}},mt=a("c/Tr"),xt=a.n(mt),bt=a("lHA8"),Nt=a.n(bt);function wt(t){return function(t){var e={};do{var a=_t(t),r=[].concat(I()(a.right),I()(a.down),I()(a.mix));console.log(a,"current");var i=r.reduce(function(t,e){return u()({},t,e)},{});if(w(e)){var o=E(e,i),n=!0,l=!1,s=void 0;try{for(var h,d=_()(o);!(n=(h=d.next()).done);n=!0){var c=h.value,g=i[c],p={};for(var f in e){var y=e[f];f.startsWith(c)&&(p[f]=y)}var v=Et(p),m=g[0]-v.x,x=g[1]-v.y;for(var b in e){var N=e[b];b.startsWith(c)&&(N[0]+=m,N[1]+=x)}}}catch(t){l=!0,s=t}finally{try{!n&&d.return&&d.return()}finally{if(l)throw s}}k(e,i)}else e=R()(i)}while("children"in t);return e;function w(t){for(var e in t)return!0;return!1}function E(t,e){var a=[];for(var r in t)t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&a.push(r);return a}function k(t,e){for(var a in e)e.hasOwnProperty(a)&&!t.hasOwnProperty(a)&&(t[a]=e[a])}}(R()(t))}function _t(t){var e=new Nt.a,a=new Nt.a;!function t(e,a){e.parent=a;e.children&&e.children.forEach(function(a){return t(a,e)})}(t,null),function t(e,a,r){var i=!0;!function t(a){a.direction!==e.direction&&(i=!1);a.children&&a.children.forEach(t)}(e);if(i)return"right"===e.direction?null!==e.parent?a.add(e.parent):a.add(e):"down"===e.direction&&(e.parent,r.add(e.parent)),!0;e.children&&e.children.forEach(function(e){return t(e,a,r)});return!1}(t,e,a);var r=new Nt.a,i=!0,o=!1,n=void 0;try{for(var l,s=_()(e);!(i=(l=s.next()).done);i=!0){var h=l.value;a.has(h)&&(r.add(h),e.delete(h),a.delete(h))}}catch(t){o=!0,n=t}finally{try{!i&&s.return&&s.return()}finally{if(o)throw n}}return{right:xt()(e).map(function(t){var e=R()(t);if(delete t.children,c(e),"down"===t.direction){var a=e.size[0];e.size[0]=e.size[1],e.size[1]=a}U(e,function(t){Array.isArray(t.size)&&(t.size[1]+=100)});var r=nt({spacing:80}),i=r(r.hierarchy(e));i.each(function(t){var e=t.x;t.x=t.y,t.y=e});var o={};i.each(function(t){o[t.data.oName]=[t.x,t.y-t.data.size[0]/2,t.data.size[1],1*t.data.size[0]]});var n=Et(o);return t._size=[n.width,n.height],t.size=[n.height,n.width],o}),down:xt()(a).map(function(t){var e=R()(t);if(delete t.children,d(e),U(e,function(t){Array.isArray(t.size)&&(t._size||(t._size=t.size.slice()),t.size=[t.size[1],t.size[0]])}),U(e,function(t){Array.isArray(t.size)&&(t.size[1]+=100)}),"down"===t.direction){var a=e.size[0];e.size[0]=e.size[1],e.size[1]=a}var r=nt({spacing:120}),i={};r(r.hierarchy(e)).each(function(t){i[t.data.oName]=[t.x-t.data.size[0]/2,t.y,1*t.data.size[0],t.data.size[1]]});var o=Et(i);return t._size=[o.width,o.height],t.size=[o.height,o.width],i}),mix:xt()(r).map(function(t){var e=R()(t);delete t.children;var a=R()(e);U(a,function(t){Array.isArray(t.size)&&(t._size||(t._size=t.size.slice()),t.size=[t.size[1],t.size[0]])}),U(a,function(t){Array.isArray(t.size)&&(t.size[1]+=100)}),U(e,function(t){Array.isArray(t.size)&&(t.size[1]+=100)}),d(a),c(e);var r=nt({spacing:120}),i=nt({spacing:80}),o=r.hierarchy(a),n=i.hierarchy(e);if("down"===t.direction){var l=e.size[0];e.size[0]=e.size[1],e.size[1]=l;var s=a.size[0];a.size[0]=a.size[1],a.size[1]=s}var h=r(o),g=r(n);g.each(function(t){var e=t.x;t.x=t.y,t.y=e});var p={};h.each(function(t){p[t.data.oName]=[t.x-t.data.size[0]/2,t.y,t.data.size[0],1*t.data.size[1]]});var f={};g.each(function(t){f[t.data.oName]=[t.x,t.y-t.data.size[0]/2,t.data.size[1],1*t.data.size[0]]});var y=f[t.oName][0]-p[t.oName][0],v=f[t.oName][1]-p[t.oName][1];for(var m in p)p[m][0]+=y,p[m][1]+=v;var x=u()({},f,p),b=Et(x);return t._size=[b.width,b.height],t.size=[b.height,b.width],x})};function d(t){t.children&&(t.children=t.children.filter(function(t){return"right"!==t.direction}),t.children.forEach(d))}function c(t){t.children&&(t.children=t.children.filter(function(t){return"down"!==t.direction}),t.children.forEach(c))}}function Et(t){var e=1/0,a=1/0,r=-1/0,i=-1/0;for(var o in t){var n=t[o],l=n[0],s=n[1],h=l,d=s,c=l+n[2],g=s+n[3];e=Math.min(e,h),a=Math.min(a,d),r=Math.max(r,c),i=Math.max(i,g)}return{x:e,y:a,width:r-e,height:i-a}}function kt(t,e,a,r,i,o,n){console.log(n,"direction");var l=m.g("#boxid"+String(a)).select("#"+String(r));if(o||"true"===l.attr("data-opened"))return m.g("#boxid"+String(a)).selectAll("[data-opened='true']").attr("data-opened","false"),void m.h(".drawer").each(function(t,r){var i=this,o=m.g(this).attr("id").replace("line","").replace("boxid",""),n=(String(a)+"-"+String(e)).split("-");if(2===o.split("_").length){var l=!1,s=o.split("_")[0],h=o.split("_")[1],d=s.split("-"),c=h.split("-");if(G(d,n))m.g(this).transition("transition1").duration(200).style("opacity",0).end().then(function(){m.g(i).remove()}),l=!0;else if(d.length>n.length){var g=d.slice(0,n.length);J()(g)===J()(n)&&(m.g(this).transition("transition2").duration(200).style("opacity",0).end().then(function(){m.g(i).remove()}),l=!0)}if(!l)if(G(c,n))m.g(this).transition("transition3").duration(200).style("opacity",0).end().then(function(){m.g(i).remove()});else if(c.length>n.length){var u=c.slice(0,n.length);J()(u)===J()(n)&&m.g(this).transition("transition4").duration(200).style("opacity",0).end().then(function(){m.g(i).remove()})}}else{var p=o.split("-");if(G(p,n))m.g(this).transition("transition5").duration(200).style("opacity",0).end().then(function(){m.g(i).remove()});else if(p.length>n.length){var f=p.slice(0,n.length);J()(f)===J()(n)&&m.g(this).transition("transition6").duration(200).style("opacity",0).end().then(function(){m.g(i).remove()})}}});a=String(a);var s=A(t[e-1]),h=String(a)+"-"+String(e),d=m.g("#boxid"+a).select("#"+r),g=m.g("#boxid"+a).select("#frame"+a),u=[Number(d.attr("x"))+Number(d.attr("width"))/2,Number(d.attr("y"))+Number(d.attr("height"))/2],p=[Number(g.attr("x"))+Number(g.attr("width"))/2,Number(g.attr("y"))+Number(g.attr("height"))/2];Rt(s,t,h,n,[u[0]-p[0],u[1]-p[1]]);var f,y=q(0);f=wt(y);c()(f);var v=f[h][0]-f[a][0],x=f[h][1]-f[a][1];D(r,"frame"+h,[v,x],a,h,i,n),m.h(".drawer").each(function(t,e){var a=m.g(this).attr("id").replace("boxid","");2!==a.split("_").length&&(a===h?(m.g(this).attr("transform","translate("+(f[a][0]+90)+","+(f[a][1]+675)+")").attr("opacity",0),m.g(this).transition("transition7").duration(920).style("opacity",1)):m.g(this).transition("transition8").duration(720).attr("transform","translate("+(f[a][0]+90)+","+(f[a][1]+675)+")"))}),m.h(".drawer").each(function(t,e){var a=m.g(this).attr("id").replace("boxid","");if(2===a.split("_").length)if("dashed"!==m.g(this).attr("line-type")){var r=a,i=a.replace("line","").split("_")[0],o=a.replace("line","").split("_")[1],n=m.g("#boxid"+i).attr("transform"),l=m.g("#boxid"+o).attr("transform");if(null!==n&&i!=h){var s,d=n.slice(10,-1).split(",").map(Number);s=[f[i][0]+90,f[i][1]+675];var c=[f[o][0]-f[i][0],f[o][1]-f[i][1]];if(d[1]!==s[1]||d[0]!==s[0]){var g=m.g(this).attr("sourceid"),u=m.g(this).attr("targetid"),p=m.g(this).attr("body_num_source"),y=m.g(this).attr("body_num_target");L(g,u,c,p,y,m.g(this).attr("color"),r,m.g("#boxid"+y).attr("direction"))}}if(null!==l&&o!=h){var v,x=l.slice(10,-1).split(",").map(Number),b=[f[o][0]-f[i][0],f[o][1]-f[i][1]];if(v=[f[o][0]+90,f[o][1]+675],x[1]!==v[1]||x[0]!==v[0]){var N=m.g(this).attr("sourceid"),w=m.g(this).attr("targetid"),_=m.g(this).attr("body_num_source"),E=m.g(this).attr("body_num_target");L(N,w,b,_,E,m.g(this).attr("color"),r,m.g("#boxid"+E).attr("direction"))}}a=(a=a.replace("line","")).split("_")[0],m.g(this).attr("transform","translate("+(f[a][0]+90)+","+(f[a][1]+675)+")").style("opacity",.38)}else{var k=a,z=a.replace("line","").split("_")[0],M=a.replace("line","").split("_")[1],C=m.g("#boxid"+z).attr("transform"),S=m.g("#boxid"+M).attr("transform");if(null!==C&&z!=h){var R,A=C.slice(10,-1).split(",").map(Number);if(R=[f[z][0]+90,f[z][1]+675],A[1]!==R[1]||A[0]!==R[0]){var T=m.g(this).select("text").text();X(f,z,M,"black",T,k)}}if(null!==S&&M!=h){var J,P=S.slice(10,-1).split(",").map(Number);if(J=[f[M][0]+90,f[M][1]+675],P[1]!==J[1]||P[0]!==J[0]){var F=m.g(this).select("text").text();X(f,z,M,"black",F,k)}}a=(a=a.replace("line","")).split("_")[0],m.g(this).transition("transition9").duration(720).attr("transform","translate("+(f[a][0]+90)+","+(f[a][1]+675)+")")}})}a("izJC");function zt(t,e,a,r,i,o,n,l,s){var h=m.g("#boxid"+String(i)).select("#"+String(o));if(l||"true"===h.attr("data-opened"))return m.g("#boxid"+String(i)).selectAll("[data-opened='true']").attr("data-opened","false"),void m.h(".drawer").each(function(t,a){var r=this,o=m.g(this).attr("id").replace("line","").replace("boxid",""),n=(String(i)+"-"+String(e)).split("-");if(2===o.split("_").length){var l=!1,s=o.split("_")[0],h=o.split("_")[1],d=s.split("-"),c=h.split("-");if(G(d,n))m.g(this).transition().duration(200).style("opacity",0).end().then(function(){m.g(r).remove()}),l=!0;else if(d.length>n.length){var g=d.slice(0,n.length);J()(g)===J()(n)&&(m.g(this).transition().duration(200).style("opacity",0).end().then(function(){m.g(r).remove()}),l=!0)}if(!l)if(G(c,n))m.g(this).transition().duration(200).style("opacity",0).end().then(function(){m.g(r).remove()});else if(c.length>n.length){var u=c.slice(0,n.length);J()(u)===J()(n)&&m.g(this).transition().duration(200).style("opacity",0).end().then(function(){m.g(r).remove()})}}else{var p=o.split("-");if(G(p,n))m.g(this).transition().duration(200).style("opacity",0).end().then(function(){m.g(r).remove()});else if(p.length>n.length){var f=p.slice(0,n.length);J()(f)===J()(n)&&m.g(this).transition().duration(200).style("opacity",0).end().then(function(){m.g(r).remove()})}}});i=String(i);var d=void 0,g=A(t[e-1]),u=A(t[a-1]);void 0!==r&&(d=A(t[r-1]));var p=String(i)+"-"+String(e),f=String(p)+"-"+String(a),y=String(p)+"-"+String(r);Rt(g,t,p,s),Rt(u,t,f,s),void 0!==r&&Rt(d,t,y,s);var v,x=q(0);v=wt(x);c()(v);console.log(v),console.log();var b=v[p][0]-v[i][0],N=v[p][1]-v[i][1];D(o,"frame"+p,[b,N],i,p,n,s),B(v,p,f,"black","TRUE",s),void 0!==d&&B(v,p,y,"black","FALSE",s),m.h(".drawer").each(function(t,e){var a=m.g(this).attr("id").replace("boxid","");if(2===a.split("_").length)if("dashed"!==m.g(this).attr("line-type")){var r=a,i=a.replace("line","").split("_")[0],o=a.replace("line","").split("_")[1],n=m.g("#boxid"+i).attr("transform"),l=m.g("#boxid"+o).attr("transform");if(null!==n&&i!=p){var s,h=n.slice(10,-1).split(",").map(Number);s=[v[i][0]+90,v[i][1]+675];var d=[v[o][0]-v[i][0],v[o][1]-v[i][1]];if(h[1]!==s[1]||h[0]!==s[0]){var c=m.g(this).attr("sourceid"),g=m.g(this).attr("targetid"),u=(m.g(this).attr("locationTransform").split(","),m.g(this).attr("body_num_source")),x=m.g(this).attr("body_num_target");L(c,g,d,u,x,m.g(this).attr("color"),r,m.g("#boxid"+x).attr("direction"))}}if(null!==l&&o!=p){var b,N=l.slice(10,-1).split(",").map(Number);b=[v[o][0]+90,v[o][1]+675];var w=[v[o][0]-v[i][0],v[o][1]-v[i][1]];if(N[1]!==b[1]||N[0]!==b[0]){var _=m.g(this).attr("sourceid"),E=m.g(this).attr("targetid"),k=(m.g(this).attr("locationTransform").split(","),m.g(this).attr("body_num_source")),z=m.g(this).attr("body_num_target");L(_,E,w,k,z,m.g(this).attr("color"),r,m.g("#boxid"+z).attr("direction"))}}a=(a=a.replace("line","")).split("_")[0],m.g(this).attr("transform","translate("+(v[a][0]+90)+","+(v[a][1]+675)+")").style("opacity",.38)}else{var M=a,C=a.replace("line","").split("_")[0],S=a.replace("line","").split("_")[1],R=m.g("#boxid"+C).attr("transform"),A=m.g("#boxid"+S).attr("transform");if(null!==R&&C!=p){var T,J=R.slice(10,-1).split(",").map(Number);if(T=[v[C][0]+90,v[C][1]+675],J[1]!==T[1]||J[0]!==T[0]){var P=m.g(this).select("text").text(),F=m.g("#boxid"+S).attr("direction");X(v,C,S,"black",P,M,F)}}if(null!==A&&S!=p){var O,I=A.slice(10,-1).split(",").map(Number);if(O=[v[S][0]+90,v[S][1]+675],I[1]!==O[1]||I[0]!==O[0]){var D=m.g(this).select("text").text(),B=m.g("#boxid"+S).attr("direction");X(v,C,S,"black",D,M,B)}}a=(a=a.replace("line","")).split("_")[0],m.g(this).attr("transform","translate("+(v[a][0]+90)+","+(v[a][1]+675)+")")}else a===p||a===y||a===f?(m.g(this).attr("transform","translate("+(v[a][0]+90)+","+(v[a][1]+675)+")").attr("opacity",0),m.g(this).transition().duration(920).style("opacity",1)):m.g(this).transition().duration(720).attr("transform","translate("+(v[a][0]+90)+","+(v[a][1]+675)+")")})}function Mt(t,e,a,r,i,o,n,l,s,h){var d=m.g("#boxid"+String(o)).select("#"+String(n));if(s||"true"===d.attr("data-opened"))return m.g("#boxid"+String(o)).selectAll("[data-opened='true']").attr("data-opened","false"),void m.h(".drawer").each(function(t,a){var r=this,i=m.g(this).attr("id").replace("line","").replace("boxid",""),n=(String(o)+"-"+String(e)).split("-");if(2===i.split("_").length){var l=!1,s=i.split("_")[0],h=i.split("_")[1],d=s.split("-"),c=h.split("-");if(G(d,n))m.g(this).transition().duration(200).style("opacity",0).end().then(function(){m.g(r).remove()}),l=!0;else if(d.length>n.length){var g=d.slice(0,n.length);J()(g)===J()(n)&&(m.g(this).transition().duration(200).style("opacity",0).end().then(function(){m.g(r).remove()}),l=!0)}if(!l)if(G(c,n))m.g(this).transition().duration(200).style("opacity",0).end().then(function(){m.g(r).remove()});else if(c.length>n.length){var u=c.slice(0,n.length);J()(u)===J()(n)&&m.g(this).transition().duration(200).style("opacity",0).end().then(function(){m.g(r).remove()})}}else{var p=i.split("-");if(G(p,n))m.g(this).transition().duration(200).style("opacity",0).end().then(function(){m.g(r).remove()});else if(p.length>n.length){var f=p.slice(0,n.length);J()(f)===J()(n)&&m.g(this).transition().duration(200).style("opacity",0).end().then(function(){m.g(r).remove()})}}});o=String(o);var g=String(o)+"-"+String(e),u=String(g)+"-"+String(a),p=String(g)+"-"+String(r),f=String(g)+"-"+String(i);void 0!==e&&Rt(A(t[e-1]),t,g,h),void 0!==a&&Rt(A(t[a-1]),t,u,h),void 0!==r&&Rt(A(t[r-1]),t,p,h),void 0!==i&&Rt(A(t[i-1]),t,f,h);var y,v=q(100);y=wt(v);c()(y);console.log(y),console.log();var x=y[g][0]-y[o][0],b=y[g][1]-y[o][1];D(n,"frame"+g,[x,b],o,g,l,h),void 0!==a&&B(y,g,u,"black","PRE",h),void 0!==r&&B(y,g,p,"black","WHILE TRUE",h),void 0!==i&&B(y,g,f,"black","POST",h),m.h(".drawer").each(function(t,e){var a=m.g(this).attr("id").replace("boxid","");if(2===a.split("_").length)if("dashed"!==m.g(this).attr("line-type")){var r=a,i=a.replace("line","").split("_")[0],o=a.replace("line","").split("_")[1],n=m.g("#boxid"+i).attr("transform"),l=m.g("#boxid"+o).attr("transform");if(null!==n&&i!=g){var s,h=n.slice(10,-1).split(",").map(Number);s=[y[i][0]+90,y[i][1]+675];var d=[y[o][0]-y[i][0],y[o][1]-y[i][1]];if(h[1]!==s[1]||h[0]!==s[0]){var c=m.g(this).attr("sourceid"),v=m.g(this).attr("targetid"),x=(m.g(this).attr("locationTransform").split(","),m.g(this).attr("body_num_source")),b=m.g(this).attr("body_num_target");L(c,v,d,x,b,m.g(this).attr("color"),r,m.g("#boxid"+b).attr("direction"))}}if(null!==l&&o!=g){var N,w=l.slice(10,-1).split(",").map(Number);N=[y[o][0]+90,y[o][1]+675];var _=[y[o][0]-y[i][0],y[o][1]-y[i][1]];if(w[1]!==N[1]||w[0]!==N[0]){var E=m.g(this).attr("sourceid"),k=m.g(this).attr("targetid"),z=(m.g(this).attr("locationTransform").split(","),m.g(this).attr("body_num_source")),M=m.g(this).attr("body_num_target");L(E,k,_,z,M,m.g(this).attr("color"),r,m.g("#boxid"+M).attr("direction"))}}a=(a=a.replace("line","")).split("_")[0],m.g(this).attr("transform","translate("+(y[a][0]+90)+","+(y[a][1]+675)+")").style("opacity",.38)}else{var C=a,S=a.replace("line","").split("_")[0],R=a.replace("line","").split("_")[1],A=m.g("#boxid"+S).attr("transform"),T=m.g("#boxid"+R).attr("transform");if(null!==A&&S!=g){var J,P=A.slice(10,-1).split(",").map(Number);if(J=[y[S][0]+90,y[S][1]+675],P[1]!==J[1]||P[0]!==J[0]){var F=m.g(this).select("text").text(),O=m.g("#boxid"+R).attr("direction");X(y,S,R,"black",F,C,O)}}if(null!==T&&R!=g){var I,D=T.slice(10,-1).split(",").map(Number);if(I=[y[R][0]+90,y[R][1]+675],D[1]!==I[1]||D[0]!==I[0]){var B=m.g(this).select("text").text(),G=m.g("#boxid"+R).attr("direction");X(y,S,R,"black",B,C,G)}}a=(a=a.replace("line","")).split("_")[0],m.g(this).attr("transform","translate("+(y[a][0]+90)+","+(y[a][1]+675)+")")}else a===g||a===u||a===p||a===f?(m.g(this).attr("transform","translate("+(y[a][0]+90)+","+(y[a][1]+675)+")").attr("opacity",0),m.g(this).transition().duration(920).style("opacity",1)):m.g(this).transition().duration(720).attr("transform","translate("+(y[a][0]+90)+","+(y[a][1]+675)+")")})}var Ct=null;function St(){return Ct}function Rt(t,e,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"right",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[0,0],n=m.g("#mainsvg").select("#sumGroup").append("g").attr("id","boxid"+String(a)).attr("class","drawer").attr("direction",r).attr("parentCoord",i),l=t.nodes;console.log(t);var s={},h={};for(var d in l){var g=l[d],u=d.split("-"),p=o()(u,2),f=p[0],y=(p[1],"opo"===f);"opi"===f&&(h[d]=g),y&&(s[d]=g)}console.log(h),console.log(s),c()(h).length>1&&(h=j(h)),c()(s).length>1&&(s=j(s));var v=!1,x=!1,b=Math.min.apply(Math,I()(F()(t.nodes).map(function(t){return t.y}))),N=Math.max.apply(Math,I()(F()(t.nodes).map(function(t){return t.y})));for(var w in l){var _=l[w],E=w.split("-"),k=o()(E,2),z=k[0],M=(k[1],"opo"===z);"opi"===z&&_.y===b&&(x=!0),M&&_.y===N&&(v=!0)}for(var C in l){var S=C.split("-"),R=o()(S,2),A=R[0],T=(R[1],"opo"===A);"opi"===A&&(l[C].y=x?b:b-50-37),T&&(l[C].y=v?N:N+50+37)}var J=1/0,P=1/0;for(var O in l){var D=O.split("-"),L=o()(D,2);L[0],L[1];l[O].x<J&&(J=l[O].x),l[O].y<P&&(P=l[O].y)}for(var B in l)l[B].x=l[B].x-J,l[B].y-=P;var X=function(t){var e=1/0,a=1/0,r=-1/0,i=-1/0;for(var n in t){var l=t[n],s=n.split("-"),h=o()(s,2),d=h[0],c=(h[1],"pof"===d),g="pif"===d,u="opo"===d,p="opi"===d,f="poc"===d,y="pic"===d,v="pol"===d,m="pil"===d;if("bf"===d||"bc"===d||"bl"===d){if(void 0===l.width||void 0===l.height)continue;"LITERAL"==l.type?l.fullBox?(e=Math.min(e,l.x-l.width/2),a=Math.min(a,l.y-l.height/2+37),r=Math.max(r,l.x+l.width/2),i=Math.max(i,l.y+l.height/2-37)):(e=Math.min(e,l.x-l.width/2+18.5),a=Math.min(a,l.y-l.height/2-37),r=Math.max(r,l.x+l.width/2-18.5),i=Math.max(i,l.y+l.height/2-37)):l.fullBox?(e=Math.min(e,l.x-l.width/2),a=Math.min(a,l.y-l.height/2+37),r=Math.max(r,l.x+l.width/2),i=Math.max(i,l.y+l.height/2-37)):(e=Math.min(e,l.x-l.width/2),a=Math.min(a,l.y-l.height/2-37),r=Math.max(r,l.x+l.width/2),i=Math.max(i,l.y+l.height/2-37))}else(c||g||p||u||y||f||m||v)&&(e=Math.min(e,l.x-l.width/2),a=Math.min(a,l.y-l.height/2),r=Math.max(r,l.x+l.width/2),i=Math.max(i,l.y+l.height/2))}return{x:e,y:a,width:r-e,height:i-a}}(l),G=function(t,e,a,r){var i=void 0,o=void 0,n=void 0,l=void 0;return"opo-0"in r&&"opi-0"in r?(i=t.x-e,o=t.y-e+a,n=t.width+2*e,l=t.height+2*e-2*a):"opo-0"in r&&!("opi-0"in r)?(i=t.x-e,o=t.y-e-a/10,n=t.width+2*e,l=t.height+2*e-a):!("opo-0"in r)&&"opi-0"in r?(i=t.x-e,o=t.y-e+2*a,n=t.width+2*e,l=t.height+2*e-a):(i=t.x-e,o=t.y-e,n=t.width+2*e,l=t.height+2*e),{x:i,y:o,width:n,height:l}}(X,22.5,37,l);for(var U in l){var H=l[U],q=U.split("-"),V=o()(q,2),W=V[0],$=(V[1],"pof"===W),Y="pif"===W,Z="opo"===W,K="opi"===W,Q="bc"===W,tt="poc"===W,et="pic"===W,at="bl"===W,rt="pol"===W,it="pil"===W;if(!("aux"===W)){if("bf"===W){if(H.fullBox){if("FUNCTION"==H.type)At(H,U,n,"green",37,e,a,G);else if("EXPRESSION"==H.type)At(H,U,n,"purple",37,e,a,G);else if("LITERAL"==H.type)It(H,U,n,"red",37);else if("LANGUAGE_PRIMITIVE"==H.type)Dt(H,U,n,"red",37);else if("ABSTRACT"==H.type)At(H,U,n,"yellow",37);else if("IMPORTED"==H.type){At(H,U,n,"gray",37,e,a,G,!0)}else if("IMPORTED_METHOD"==H.type){At(H,U,n,"purple",37,e,a,G,!0)}}else if("FUNCTION"==H.type)Tt(H,U,n,"green",37,e,a,G);else if("EXPRESSION"==H.type)Tt(H,U,n,"purple",37,e,a,G);else if("LITERAL"==H.type)Bt(H,U,n,"red",37);else if("LANGUAGE_PRIMITIVE"==H.type)Lt(H,U,n,"red",37);else if("ABSTRACT"==H.type)Tt(H,U,n,"yellow",37);else if("IMPORTED"==H.type){Tt(H,U,n,"gray",37,e,a,G,!0)}else if("IMPORTED_METHOD"==H.type){Tt(H,U,n,"purple",37,e,a,G,!0)}}else Q?H.fullBox?Jt(H,U,n,"orange",37,e,a,G):Pt(H,U,n,"orange",37,e,a,G):at?H.fullBox?Ft(H,U,n,"blue",37,e,a,G):Ot(H,U,n,"blue",37,e,a,G):($||Y||K||Z||et||tt||it||rt)&&("err"===H.label?Xt(H,U,n,"red","red"):Xt(H,U,n,"black"))}}n.append("defs").append("marker").attr("id","arrowhead").attr("markerWidth",10).attr("markerHeight",7).attr("refX",10).attr("refY",3.5).attr("orient","auto").append("path").attr("d","M0,0 L10,3.5 L0,7 Z").style("fill","gray"),t.edges.forEach(function(t){var e=l[t.source],a=l[t.target],r=t.source.split("-")[0],i=t.target.split("-")[0];"aux"===r||"aux"===i||n.append("line").attr("x1",e.x).attr("y1",e.y-e.height/2).attr("x2",a.x).attr("y2",a.y+a.height/2).style("stroke","gray").style("stroke-width",2.2).attr("marker-end","url(#arrowhead)")});var ot=X.width+90,nt=X.height+90;if("opo-0"in l&&"opi-0"in l){if("MODULE"===t.meta.type)Gt(n,X,ot,nt,22.5,37,"gray",a,!1,t);else if("EXPRESSION"===t.meta.type)Gt(n,X,ot,nt,22.5,37,"purple",a,!1,t);else if("FUNCTION"===t.meta.type)Gt(n,X,ot,nt,22.5,37,"green",a,!1,t);else if("PREDICATE"===t.meta.type)Gt(n,X,ot,nt,22.5,37,"Magenta",a,!1,t);else if("ABSTRACT"==t.meta.type)Gt(n,X,ot,nt,22.5,37,"yellow",a,!1,t);else if("IMPORTED"===t.meta.type){Gt(n,X,ot,nt,22.5,37,"gray",a,!0,t)}else if("IMPORTED_METHOD"===t.meta.type){Gt(n,X,ot,nt,22.5,37,"purple",a,!0,t)}}else if("opo-0"in l&&!("opi-0"in l)){if("MODULE"===t.meta.type)jt(n,X,ot,nt,22.5,37,"gray",a,!1,t);else if("EXPRESSION"===t.meta.type)jt(n,X,ot,nt,22.5,37,"purple",a,!1,t);else if("FUNCTION"===t.meta.type)jt(n,X,ot,nt,22.5,37,"green",a,!1,t);else if("PREDICATE"===t.meta.type)jt(n,X,ot,nt,22.5,37,"Magenta",a,!1,t);else if("ABSTRACT"==t.meta.type)jt(n,X,ot,nt,22.5,37,"yellow",a,!1,t);else if("IMPORTED"===t.meta.type){jt(n,X,ot,nt,22.5,37,"gray",a,!0,t)}else if("IMPORTED_METHOD"===t.meta.type){jt(n,X,ot,nt,22.5,37,"purple",a,!0,t)}}else if(!("opo-0"in l)&&"opi-0"in l){if("MODULE"===t.meta.type)Ut(n,X,ot,nt,22.5,37,"gray",a,!1,t);else if("EXPRESSION"===t.meta.type)Ut(n,X,ot,nt,22.5,37,"purple",a,!1,t);else if("FUNCTION"===t.meta.type)Ut(n,X,ot,nt,22.5,37,"green",a,!1,t);else if("PREDICATE"===t.meta.type)Ut(n,X,ot,nt,22.5,37,"Magenta",a,!1,t);else if("ABSTRACT"==t.meta.type)Ut(n,X,ot,nt,22.5,37,"yellow",a,!1,t);else if("IMPORTED"===t.meta.type){Ut(n,X,ot,nt,22.5,37,"gray",a,!0,t)}else if("IMPORTED_METHOD"===t.meta.type){Ut(n,X,ot,nt,22.5,37,"purple",a,!0,t)}}else if("MODULE"===t.meta.type)Ht(n,X,ot,nt,22.5,37,"gray",a,!1,t);else if("EXPRESSION"===t.meta.type)Ht(n,X,ot,nt,22.5,37,"purple",a,!1,t);else if("FUNCTION"===t.meta.type)Ht(n,X,ot,nt,22.5,37,"green",a,!1,t);else if("PREDICATE"===t.meta.type)Ht(n,X,ot,nt,22.5,37,"Magenta",a,!1,t);else if("ABSTRACT"==t.meta.type)Ht(n,X,ot,nt,22.5,37,"yellow",a,!1,t);else if("IMPORTED"===t.meta.type){Ht(n,X,ot,nt,22.5,37,"gray",a,!0,t)}else if("IMPORTED_METHOD"===t.meta.type){Ht(n,X,ot,nt,22.5,37,"purple",a,!0,t)}n.attr("width",n.node().getBBox().width).attr("height",n.node().getBBox().height),0===a&&n.attr("transform","translate(90,"+(675-n.node().getBBox().height/2*1)+")")}function At(t,e,a,r,i,o,n){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"right",s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=!1,d=null;void 0!==t.body&&(d=t.body);var c=l.x+l.width,g=l.y+l.height,u="right";c-(t.x+t.width/2)>g-(t.y+t.height/2-i)+120&&(u="down");var p=a.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).attr("rx",15).attr("ry",15).attr("data-body",d).attr("data-opened","neo").attr("data-clicked","false").style("fill","rgba(0, 0, 255, 0)").style("stroke",r).style("cursor","pointer").style("stroke-width",5);s&&p.style("stroke-dasharray","10, 5"),void 0!==t.label&&a.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var f=m.g("#tooltip"),y=St().metadata_collection;void 0!==t.metadata&&a.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2+i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var a=J()(y[t.metadata-1],null,2);f.style("opacity",.9).html("<pre>"+a+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){f.style("opacity",0)}),void 0!==t.body&&p.on("click",function(){kt(o,t.body,n,e,r,h,u),h=!h,this.setAttribute("data-clicked",h.toString())})}function Tt(t,e,a,r,i,o,n){var l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"right",s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=null;void 0!==t.body&&(h=t.body),!0===s&&(console.log(t),console.log(t.body));var d=!1,c=l.x+l.width,g=l.y+l.height,u="right";c-(t.x+t.width/2)>g-(t.y+t.height/2-i)+120&&(u="down");var p=a.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2-i).attr("width",t.width).attr("height",t.height).attr("rx",15).attr("ry",15).attr("data-body",h).attr("data-opened","neo").attr("data-clicked","false").style("fill","rgba(0, 0, 255, 0)").style("cursor","pointer").style("stroke",r).style("stroke-width",5);s&&p.style("stroke-dasharray","10, 5"),void 0!==t.label&&a.append("text").attr("x",t.x).attr("y",t.y-t.height/4-i/2).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var f=m.g("#tooltip"),y=St().metadata_collection;void 0!==t.metadata&&a.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2-i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var a=J()(y[t.metadata-1],null,2);f.style("opacity",.9).html("<pre>"+a+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){f.style("opacity",0)}),void 0!==t.body&&p.on("click",function(){kt(o,t.body,n,e,r,d,u),d=!d,this.setAttribute("data-clicked",d.toString())})}function Jt(t,e,a,r,i,o,n,l){var s=!1,h=null;void 0!==t.condition&&(h=t.condition);var d=l.x+l.width,c=l.y+l.height,g="right";d-(t.x+t.width/2)>c-(t.y+t.height/2-i)+120&&(g="down");var u=a.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).attr("rx",15).attr("ry",15).attr("data-body",h).attr("data-clicked","false").style("fill","rgba(0, 0, 255, 0)").style("stroke",r).style("cursor","pointer").style("stroke-width",5);void 0!==t.label&&a.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var p=m.g("#tooltip"),f=St().metadata_collection;void 0!==t.metadata&&a.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2+i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var a=J()(f[t.metadata-1],null,2);p.style("opacity",.9).html("<pre>"+a+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){p.style("opacity",0)}),void 0!==t.condition&&u.on("click",function(){zt(o,t.condition,t.body_if,t.body_else,n,e,r,s,g),s=!s,this.setAttribute("data-clicked",s.toString())})}function Pt(t,e,a,r,i,o,n,l){var s=null;void 0!==t.body&&(s=t.body);var h=!1,d=l.x+l.width,c=l.y+l.height,g="right";d-(t.x+t.width/2)>c-(t.y+t.height/2-i)+120&&(g="down");var u=a.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2-i).attr("width",t.width).attr("height",t.height).attr("rx",15).attr("ry",15).attr("data-body",s).attr("data-clicked","false").style("fill","rgba(0, 0, 255, 0)").style("cursor","pointer").style("stroke",r).style("stroke-width",5);void 0!==t.label&&a.append("text").attr("x",t.x).attr("y",t.y-t.height/4-i/2).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var p=m.g("#tooltip"),f=St().metadata_collection;void 0!==t.metadata&&a.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2-i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var a=J()(f[t.metadata-1],null,2);p.style("opacity",.9).html("<pre>"+a+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){p.style("opacity",0)}),void 0!==t.body&&u.on("click",function(){zt(o,t.condition,t.body_if,t.body_else,n,e,r,h,g),h=!h,this.setAttribute("data-clicked",h.toString())})}function Ft(t,e,a,r,i,o,n,l){var s=!1,h=null;void 0!==t.condition&&(h=t.condition);var d=l.x+l.width,c=l.y+l.height,g="right";d-(t.x+t.width/2)>c-(t.y+t.height/2-i)+120&&(g="down");var u=a.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).attr("rx",15).attr("ry",15).attr("data-body",h).attr("data-clicked","false").style("fill","rgba(0, 0, 255, 0)").style("stroke",r).style("cursor","pointer").style("stroke-width",5);void 0!==t.label&&a.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var p=m.g("#tooltip"),f=St().metadata_collection;void 0!==t.metadata&&a.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2+i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var a=J()(f[t.metadata-1],null,2);p.style("opacity",.9).html("<pre>"+a+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){p.style("opacity",0)}),void 0!==t.condition&&u.on("click",function(){Mt(o,t.condition,t.pre,t.body,t.post,n,e,r,s,g),s=!s,this.setAttribute("data-clicked",s.toString())})}function Ot(t,e,a,r,i,o,n,l){var s=null;void 0!==t.body&&(s=t.body);var h=!1,d=l.x+l.width,c=l.y+l.height,g="right";d-(t.x+t.width/2)>c-(t.y+t.height/2-i)+120&&(g="down");var u=a.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2-i).attr("width",t.width).attr("height",t.height).attr("rx",15).attr("ry",15).attr("data-body",s).attr("data-clicked","false").style("fill","rgba(0, 0, 255, 0)").style("cursor","pointer").style("stroke",r).style("stroke-width",5);void 0!==t.label&&a.append("text").attr("x",t.x).attr("y",t.y-t.height/4-i/2).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var p=m.g("#tooltip"),f=St().metadata_collection;void 0!==t.metadata&&a.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2-i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var a=J()(f[t.metadata-1],null,2);p.style("opacity",.9).html("<pre>"+a+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){p.style("opacity",0)}),void 0!==t.body&&u.on("click",function(){Mt(o,t.body,n,e,r,h,g),h=!h,this.setAttribute("data-clicked",h.toString())})}function It(t,e,a,r,i){a.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).style("fill","none").style("stroke",r).style("stroke-width",2),void 0!==t.label&&a.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var o=m.g("#tooltip"),n=St().metadata_collection;void 0!==t.metadata&&a.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2+i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var a=J()(n[t.metadata-1],null,2);o.style("opacity",.9).html("<pre>"+a+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){o.style("opacity",0)}),void 0!==t.value&&a.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","30px").text(t.value.value)}function Dt(t,e,a,r,i){a.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2+i).attr("width",t.width).attr("height",t.height-2*i).style("fill","none").style("stroke",r).style("stroke-width",5),void 0!==t.label&&a.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","20px").text(t.label);var o=m.g("#tooltip"),n=St().metadata_collection;void 0!==t.metadata&&a.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2+i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var a=J()(n[t.metadata-1],null,2);o.style("opacity",.9).html("<pre>"+a+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){o.style("opacity",0)}),void 0!==t.value&&a.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","30px").text(t.value.value)}function Lt(t,e,a,r,i){a.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2-i).attr("width",t.width).attr("height",t.height).style("fill","none").style("stroke",r).style("stroke-width",5),void 0!==t.label&&a.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var o=m.g("#tooltip"),n=St().metadata_collection;void 0!==t.metadata&&a.append("text").attr("x",t.x+t.width/2-17).attr("y",t.y-t.height/2-i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var a=J()(n[t.metadata-1],null,2);o.style("opacity",.9).html("<pre>"+a+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){o.style("opacity",0)}),void 0!==t.value&&a.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","30px").text(t.value.value)}function Bt(t,e,a,r,i){a.append("rect").attr("id",e).attr("x",t.x-t.width/2+i/2).attr("y",t.y-t.height/2-i).attr("width",t.width-i).attr("height",t.height).style("fill","none").style("stroke",r).style("stroke-width",2),void 0!==t.label&&a.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","12px").text(t.label);var o=m.g("#tooltip"),n=St().metadata_collection;void 0!==t.metadata&&a.append("text").attr("x",t.x+t.width/2-27).attr("y",t.y-t.height/2-i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var a=J()(n[t.metadata-1],null,2);o.style("opacity",.9).html("<pre>"+a+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){o.style("opacity",0)}),void 0!==t.value&&a.append("text").attr("x",t.x).attr("y",t.y-1.2*i).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","30px").text(t.value.value)}function Xt(t,e,a,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"white";a.append("rect").attr("id",e).attr("x",t.x-t.width/2).attr("y",t.y-t.height/2).attr("width",t.width).attr("height",t.height).style("fill",i).style("stroke",r).style("stroke-width",2);var o=m.g("#tooltip"),n=St().metadata_collection;void 0!==t.metadata&&a.append("text").attr("x",t.x+t.width/2-12).attr("y",t.y-t.height/2+12).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","15px").text(t.metadata).on("mouseover",function(e){var a=J()(n[t.metadata-1],null,2);o.style("opacity",.9).html("<pre>"+a+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){o.style("opacity",0)}),void 0!==t.label&&a.append("text").attr("x",t.x).attr("y",t.y).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","27px").text(t.label)}function Gt(t,e,a,r,i,o,n,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=arguments[9],d=t.insert("rect",":first-child").attr("id","frame"+l).attr("x",e.x-i).attr("y",e.y-i+o).attr("rx",15).attr("ry",15).attr("width",a-2*i).attr("height",r-2*i-2*o).style("fill","transparent").style("stroke",n).style("stroke-width",5).lower();s&&d.style("stroke-dasharray","10,5");var c=m.g("#tooltip"),g=St().metadata_collection;void 0!==h.meta.metadata&&t.append("text").attr("x",e.x-i+(a-2*i)-17).attr("y",e.y-i+o+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","17px").text(h.meta.metadata).on("mouseover",function(t){var e=J()(g[h.meta.metadata-1],null,2);c.style("opacity",.9).html("<pre>"+e+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){c.style("opacity",0)})}function jt(t,e,a,r,i,o,n,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=arguments[9],d=t.insert("rect",":first-child").attr("id","frame"+l).attr("x",e.x-i).attr("y",e.y-i-o/10).attr("rx",15).attr("ry",15).attr("width",a-2*i).attr("height",r-2*i-o).style("fill","transparent").style("stroke",n).style("stroke-width",5).lower(),c=m.g("#tooltip"),g=St().metadata_collection;void 0!==h.meta.metadata&&t.append("text").attr("x",e.x-i+(a-2*i)-17).attr("y",e.y-i-o/10+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","17px").text(h.meta.metadata).on("mouseover",function(t){var e=J()(g[h.meta.metadata-1],null,2);c.style("opacity",.9).html("<pre>"+e+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){c.style("opacity",0)}),s&&d.style("stroke-dasharray","10,5")}function Ut(t,e,a,r,i,o,n,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=arguments[9],d=t.insert("rect",":first-child").attr("id","frame"+l).attr("x",e.x-i).attr("y",e.y-i+2*o).attr("rx",15).attr("ry",15).attr("width",a-2*i).attr("height",r-2*i-o).style("fill","transparent").style("stroke",n).style("stroke-width",5).lower(),c=m.g("#tooltip"),g=St().metadata_collection;void 0!==h.meta.metadata&&t.append("text").attr("x",e.x-i+(a-2*i)-17).attr("y",e.y-i+10*o+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","17px").text(h.meta.metadata).on("mouseover",function(t){var e=J()(g[h.meta.metadata-1],null,2);c.style("opacity",.9).html("<pre>"+e+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){c.style("opacity",0)}),s&&d.style("stroke-dasharray","10,5")}function Ht(t,e,a,r,i,o,n,l){var s=arguments.length>8&&void 0!==arguments[8]&&arguments[8],h=arguments[9];e.x!==1/0&&e.x!==-1/0||(e.x=100,e.y=100,a=200,r=200);var d=t.insert("rect",":first-child").attr("id","frame"+l).attr("x",e.x-i).attr("y",e.y-i).attr("rx",15).attr("ry",15).attr("width",a-2*i).attr("height",r-2*i).style("fill","transparent").style("stroke",n).style("stroke-width",5).lower(),c=m.g("#tooltip"),g=St().metadata_collection;void 0!==h.meta.metadata&&t.append("text").attr("x",e.x-i+(a-2*i)-17).attr("y",e.y-i+17).attr("text-anchor","middle").attr("dominant-baseline","middle").style("font-size","17px").text(h.meta.metadata).on("mouseover",function(t){var e=J()(g[h.meta.metadata-1],null,2);c.style("opacity",.9).html("<pre>"+e+"</pre>").style("left","0px").style("top","70px")}).on("mouseout",function(t){c.style("opacity",0)}),s&&d.style("stroke-dasharray","10,5")}var qt={name:"App",components:{VueJsonPretty:N.a},data:function(){return{skemaVersion:"",url:"",selectedDeep:3,possibleDepths:[1,2,3,4,5,6,7],startingFN:0,blockStyle:{backgroundColor:"rgba(255, 255, 120, 0)",height:"90vh",width:"100%"},selectedFile:null,selectedOption:null,gromet:null,path:"res",highlightedJson:null,selectedNode:null,highlightNode:null,routePair:{0:"0"},routePairC:{0:"0"},boxTypePair:{},options:[{text:"Clay1",value:"https://raw.githubusercontent.com/hconhisway/webcrawler/master/get_beta--Gromet-FN-auto2.json"},{text:"core_dynamics",value:"https://raw.githubusercontent.com/hconhisway/webcrawler/master/core_dynamics_pack2.json"},{text:"while1",value:"https://raw.githubusercontent.com/ml4ai/skema/adarshp/nom_error_handling/data/gromet/python/while1/FN_0.1.6/while1--Gromet-FN-auto.json"},{text:"cond1",value:"https://raw.githubusercontent.com/ml4ai/skema/adarshp/nom_error_handling/data/gromet/python/cond1/FN_0.1.6/cond1--Gromet-FN-auto.json"},{text:"fun1",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/fun1/FN_0.1.6/fun1--Gromet-FN-auto.json"},{text:"fun4",value:"https://raw.githubusercontent.com/ml4ai/skema/adarshp/nom_error_handling/data/gromet/python/fun4/FN_0.1.6/fun4--Gromet-FN-auto.json"},{text:"exp1",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/exp1/FN_0.1.6/exp1--Gromet-FN-auto.json"},{text:"exp2",value:"https://gist.githubusercontent.com/jastier/76f7566ac44265707d892a252d8f85ab/raw/2be498c5fb369635725e9e6b493732a5c181ac65/first_matlab.json"},{text:"exp3",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/exp3/FN_0.1.6/exp3--Gromet-FN-auto.json"},{text:"fun_default1",value:"https://raw.githubusercontent.com/ml4ai/skema/adarshp/nom_error_handling/data/gromet/python/fun_default1/FN_0.1.6/fun_default1--Gromet-FN-auto.json"},{text:"assign_operator1",value:"https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/assign_operator1/FN_0.1.6/assign_operator1--Gromet-FN-auto.json"}]}},mounted:function(){this.$refs.svgMoviz.addEventListener("mouseover",this.handleMouseOverDelegate)},beforeDestroy:function(){this.$refs.svgMoviz.removeEventListener("mouseover",this.handleMouseOverDelegate)},created:function(){var t=this;return v()(f.a.mark(function e(){var a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=t.$route.query.gromet_url)){e.next=15;break}return e.prev=2,e.next=5,x.a.get(a);case 5:r=e.sent,t.gromet=r.data,t.skemaVersion=t.gromet.schema_version,t.processJson(),t.drawMoviz(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0);case 15:case"end":return e.stop()}},e,t,[[2,12]])}))()},methods:{drawMoviz:function(){m.h("g").remove();var t=m.g("svg");t.append("g").attr("id","sumGroup");var e=m.i().on("zoom",function(t){m.g("svg g").attr("transform",t.transform)});t.call(e);var a=this.gromet.modules[0];Ct=a;var r=a.fn,i=a.fn_array,o=r;(console.log(this.routePair),0!==this.startingFN)?Rt(A(o=i[this.startingFN-1]),i,this.startingFN-1):Rt(A(o),i,0)},processJson:function(){this.highlightedJson=this.gromet.modules[0],this.highlightedJson.fn=u()({hi_there:"--- Click <HERE> to visualize this FN ---  0"},this.highlightedJson.fn),this.getAllChildBody(this.highlightedJson.fn,"0","0");for(var t=0;t<this.highlightedJson.metadata_collection.length;t++){this.highlightedJson.metadata_collection[t]=u()({},this.highlightedJson.metadata_collection[t]),this.highlightedJson.metadata_collection[t].hasOwnProperty("0")&&(delete this.highlightedJson.metadata_collection[t][0].metadata_type,delete this.highlightedJson.metadata_collection[t][0].source_language,delete this.highlightedJson.metadata_collection[t][0].source_language_version,delete this.highlightedJson.metadata_collection[t][0].data_type,delete this.highlightedJson.metadata_collection[t][0].provenance,delete this.highlightedJson.metadata_collection[t][0].col_begin,delete this.highlightedJson.metadata_collection[t][0].col_end,delete this.highlightedJson.metadata_collection[t][0].code_file_reference_uid),this.highlightedJson.metadata_collection[t].hasOwnProperty("1")&&(delete this.highlightedJson.metadata_collection[t][1].metadata_type,delete this.highlightedJson.metadata_collection[t][1].source_language,delete this.highlightedJson.metadata_collection[t][1].source_language_version,delete this.highlightedJson.metadata_collection[t][1].data_type,delete this.highlightedJson.metadata_collection[t][1].provenance,delete this.highlightedJson.metadata_collection[t][1].col_begin,delete this.highlightedJson.metadata_collection[t][1].col_end,delete this.highlightedJson.metadata_collection[t][1].code_file_reference_uid),this.highlightedJson.metadata_collection[t].hasOwnProperty("2")&&(delete this.highlightedJson.metadata_collection[t][2].metadata_type,delete this.highlightedJson.metadata_collection[t][2].source_language,delete this.highlightedJson.metadata_collection[t][2].source_language_version,delete this.highlightedJson.metadata_collection[t][2].data_type,delete this.highlightedJson.metadata_collection[t][2].provenance,delete this.highlightedJson.metadata_collection[t][2].col_begin,delete this.highlightedJson.metadata_collection[t][2].col_end,delete this.highlightedJson.metadata_collection[t][2].code_file_reference_uid)}for(var e=0;e<this.highlightedJson.fn_array.length;e++){var a=e+1;this.highlightedJson.fn_array[e]=u()({body_num:a},this.highlightedJson.fn_array[e])}},getAllChildBody:function(t,e,a){if("bf"in t)for(var r=0;r<t.bf.length;r++)if("body"in t.bf[r]){var i=t.bf[r].body-1,o=e+"-"+(i+1),n=a+"-"+r,l="--- Click <HERE> to visualize this FN ---  "+n;this.routePair[n]=o,this.highlightedJson.fn_array[i]=u()({hi_there:l},this.highlightedJson.fn_array[i]),this.getAllChildBody(this.highlightedJson.fn_array[i],o,n)}if("bl"in t)for(var s=0;s<t.bl.length;s++){if("body"in t.bl[s]){var h=t.bl[s].body-1,d=e+"-"+(h+1),c=a+"-"+s,g="--- Click <HERE> to visualize this FN ---  "+c;this.routePair[c]=d,this.highlightedJson.fn_array[h]=u()({hi_there:g},this.highlightedJson.fn_array[h]),this.getAllChildBody(this.highlightedJson.fn_array[h],d,c)}if("condition"in t.bl[s]){var p=t.bl[s].condition-1,f=e+"-"+(p+1),y=a+"-"+s,v="--- Click <HERE> to visualize this FN ---  "+y;this.routePair[y]=f,this.highlightedJson.fn_array[p]=u()({hi_there:v},this.highlightedJson.fn_array[p]),this.getAllChildBody(this.highlightedJson.fn_array[p],f,y)}}if("bc"in t)for(var m=0;m<t.bc.length;m++){if("body"in t.bc[m]){var x=t.bc[m].body-1,b=e+"-"+(x+1),N=a+"-"+m,w="--- Click <HERE> to visualize this FN ---  "+N;this.routePair[N]=b,this.highlightedJson.fn_array[x]=u()({hi_there:w},this.highlightedJson.fn_array[x]),this.getAllChildBody(this.highlightedJson.fn_array[x],b,N)}if("condition"in t.bc[m]){var _=t.bc[m].condition-1,E=e+"-"+(_+1),k=a+"-"+m,z="--- Click <HERE> to visualize this FN ---  "+k;this.routePair[k]=E,this.highlightedJson.fn_array[_]=u()({hi_there:z},this.highlightedJson.fn_array[_]),this.getAllChildBody(this.highlightedJson.fn_array[_],E,k)}if("body_if"in t.bc[m]){var M=t.bc[m].body_if-1,C=e+"-"+(M+1),S=a+"-"+m,R="--- Click <HERE> to visualize this FN ---  "+S;this.routePair[S]=C,this.highlightedJson.fn_array[M]=u()({hi_there:R},this.highlightedJson.fn_array[M]),this.getAllChildBody(this.highlightedJson.fn_array[M],C,S)}if("body_else"in t.bc[m]){var A=t.bc[m].body_else-1,T=e+"-"+(A+1),J=a+"-"+m,P="--- Click <HERE> to visualize this FN ---  "+J;this.routePair[J]=T,this.highlightedJson.fn_array[A]=u()({hi_there:P},this.highlightedJson.fn_array[A]),this.getAllChildBody(this.highlightedJson.fn_array[A],T,J)}}},fetchData:function(){var t=this;return v()(f.a.mark(function e(){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get(t.selectedOption);case 3:a=e.sent,t.gromet=a.data,t.skemaVersion=t.gromet.schema_version,t.processJson(),t.drawMoviz(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()},triggerFileInput:function(){this.$refs.fileInput.click()},handleFileChange:function(t){var e=this;if(this.selectedFile=t.target.files[0],this.selectedFile){var a=new FileReader;a.onload=function(t){try{e.gromet=JSON.parse(t.target.result),e.skemaVersion=e.gromet.schema_version,e.processJson(),e.drawMoviz()}catch(t){console.error("Error parsing JSON:",t)}},a.readAsText(this.selectedFile)}},handleMouseOverDelegate:function(t){var e=t.target;if(e.id&&e.id.startsWith("frame")){var a=e.id.split("-").pop().match(/\d+$/);if(m.g("#mainsvg").selectAll("#highlightRect").remove(),this.selectedNode=a?a[0]:null,0===this.selectedNode||"0"===this.selectedNode?this.highlightNode=["res.fn"]:this.highlightNode=["res.fn_array["+(this.selectedNode-1)+"]"],null!==this.selectedNode){var r=e.width.baseVal.value+7,i=e.height.baseVal.value+7;m.g(e.parentNode).append("rect").attr("id","highlightRect").attr("x",e.x.baseVal.value-3.5).attr("y",e.y.baseVal.value-3.5).attr("rx",5).attr("ry",5).attr("width",r).attr("height",i).style("fill","none").style("stroke","red").style("stroke-width",38).style("stroke-opacity",.2)}}if("mainsvg"!==t.target.id){var o=document.getElementById("floating-tag");o||((o=document.createElement("div")).id="floating-tag",document.body.appendChild(o)),o.style.position="absolute",o.style.zIndex="10000",o.style.background="white",o.style.padding="2px 8px",o.style.borderRadius="4px",o.innerHTML='<span style="color: green;">'+t.target.id+"</span>",o.style.boxShadow="0 0 7px -2px #0000008f",o.style.fontWeight="bold";var n=t.target.getBoundingClientRect(),l=n.left+window.scrollX,s=n.top+window.scrollY;o.style.left=l+"px",o.style.top=s-36+"px"}e.id&&this.highlightNode&&this.highlightNode.length&&(0===this.selectedNode||"0"===this.selectedNode?this.highlightNode=["res.fn"]:this.highlightNode=["res.fn_array["+(this.selectedNode-1)+"]"],this.highlightNode=[this.highlightNode[0],this.highlightNode[0]+"."+e.id.split("-")[0]+"["+e.id.split("-")[1]+"]"])},jsonClick:function(){var t=event.target.textContent;if(t.startsWith('"--- Click <HERE> to visualize this FN ---')&&c()(this.routePair).length>1){for(var e=t.replace("--- Click <HERE> to visualize this FN ---  ","").trim().replace(/^['"]+|['"]+$/g,""),a=e.split("-").map(Number),r=this.routePair[e].split("-").map(Number),i="0",o=0;o<a.length;o++)if(0!==o){var n="boxid"+i,l="bf-"+String(a[o]);this.triggerClickEvent(n,l),i=i+"-"+String(r[o])}var s=m.g("#mainsvg").select("#sumGroup").select("#boxid"+i).select("#frame"+i);if(m.g("#mainsvg").selectAll("#highlightRect").remove(),this.selectedNode=r[r.length-1],0===this.selectedNode||"0"===this.selectedNode?this.highlightNode=["res.fn"]:this.highlightNode=["res.fn_array["+(this.selectedNode-1)+"]"],null!==this.selectedNode){var h=Number(s.attr("width"))+7,d=Number(s.attr("height"))+7;m.g("#mainsvg").select("#boxid"+i).append("rect").attr("id","highlightRect").attr("x",Number(s.attr("x"))-3.5).attr("y",Number(s.attr("y"))-3.5).attr("rx",5).attr("ry",5).attr("width",h).attr("height",d).style("fill","none").style("stroke","red").style("stroke-width",38).style("stroke-opacity",.2)}}},triggerClickEvent:function(t,e){var a=m.g("#sumGroup").select("#"+t).select("#"+e);a&&"false"===a.attr("data-clicked")&&a.dispatch("click")},downloadSVG:function(){var t=document.getElementById("mainsvg"),e=(new XMLSerializer).serializeToString(t),a=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),r=URL.createObjectURL(a),i=document.createElement("a");i.href=r,i.download="mainsvg.svg",document.body.appendChild(i),i.click(),document.body.removeChild(i)},runChecking:function(){var t=this,e=[],a=V(this.gromet.modules[0].fn);0!==a.length&&e.push(h()({},"fn",a));for(var r=0;r<this.gromet.modules[0].fn_array.length;r++){var i=r+1,n=V(this.gromet.modules[0].fn_array[r]);0!==n.length&&e.push(h()({},"fn_array-"+String(i),n))}var s=document.getElementById("errorFrame");e.forEach(function(e){l()(e).forEach(function(e){var a=o()(e,2),r=a[0],i=a[1],n=document.createElement("div");n.className="elementERR";var l=document.createElement("div");l.className="elementERR-name",l.textContent=r;var h=t;l.onclick=function(){"fn"===this.textContent?(h.startingFN=0,h.drawMoviz()):(h.startingFN=this.textContent.split("-")[1],h.drawMoviz()),console.log(this.textContent)};var d=document.createElement("div");d.className="elementERR-values",i.forEach(function(t){var e=document.createElement("div");e.textContent=t,d.appendChild(e)}),n.appendChild(l),n.appendChild(d),s.appendChild(n)})})},showPreviousBox:function(){if(null!==this.selectedNode&&0!==this.selectedNode&&1!==this.selectedNode){var t=this.gromet.modules[0].fn_array[this.selectedNode-1].hi_there.replace("--- Click <HERE> to visualize this FN ---  ","").trim(),e=this.routePair[t.replace(/^['"]+|['"]+$/g,"")],a=e.split("-");a.pop();var r=a.join("-"),i="boxid"+r,o="line"+r+"_"+e;console.log(o),m.g("#sumGroup").selectChildren().each(function(){this.id===i?m.g(this).style("display",null):this.id===o&&m.g(this).style("display",null)})}else if(1===this.selectedNode){var n=this.gromet.modules[0].fn.hi_there.replace("--- Click <HERE> to visualize this FN ---  ","").trim(),l=this.routePair[n.replace(/^['"]+|['"]+$/g,"")],s=l.split("-");s.pop();var h=s.join("-"),d="boxid"+h,c="line"+h+"_"+l;console.log(c),m.g("#sumGroup").selectChildren().each(function(){this.id===d?m.g(this).style("display",null):this.id===c&&m.g(this).style("display",null)})}},submitUrl:function(){var t=this;return v()(f.a.mark(function e(){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.get(t.url);case 3:a=e.sent,t.gromet=a.data,t.skemaVersion=t.gromet.schema_version,t.processJson(),t.drawMoviz(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}},e,t,[[0,10]])}))()}}},Vt={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",{staticClass:"menu"},[t._v("\n    Current Supported Skema Version:\n    "),a("span",{staticStyle:{"white-space":"pre",color:"tomato","font-weight":"bold"}},[t._v("0.1.7         ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOption,expression:"selectedOption"}],staticClass:"my-select",attrs:{placeholder:"Select"},on:{change:[function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedOption=e.target.multiple?a:a[0]},t.fetchData]}},t._l(t.options,function(e){return a("option",{key:e.value,domProps:{value:e.value}},[t._v("\n        "+t._s(e.text)+"\n      ")])}),0),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.url,expression:"url"}],staticClass:"url-input",attrs:{type:"text",placeholder:"Input URL of JSON file here."},domProps:{value:t.url},on:{input:function(e){e.target.composing||(t.url=e.target.value)}}}),t._v(" "),a("button",{on:{click:t.submitUrl}},[t._v("Submit")]),t._v(" "),a("input",{ref:"fileInput",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.handleFileChange}}),t._v(" "),a("button",{staticClass:"btn btn-primary",style:{margin:"0 30px",backgroundColor:"tomato",color:"white",border:"none"},on:{click:t.triggerFileInput}},[t._v("\n        Choose File\n    ")]),t._v(" "),a("button",{staticClass:"btn btn-primary download-button",on:{click:t.downloadSVG}},[t._v("downloadSVG")]),t._v(" "),a("button",{staticClass:"btn btn-primary",style:{margin:"0 30px",backgroundColor:"green",color:"white",border:"none"},on:{click:t.showPreviousBox}},[t._v("\n        Parent Box\n    ")]),t._v(" "),a("button",{staticClass:"btn btn-primary",style:{margin:"0 30px",backgroundColor:"gray",color:"white",border:"none"},on:{click:t.runChecking}},[t._v("\n        Check Errors\n    ")])]),t._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"editor-box"},[a("label",{attrs:{for:"deep-select"}},[t._v("Select Display Depth: ")]),t._v(" "),a("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedDeep,expression:"selectedDeep"}],attrs:{id:"deep-select"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selectedDeep=e.target.multiple?a:a[0]}}},t._l(t.possibleDepths,function(e){return a("option",{key:e,domProps:{value:e}},[t._v("\n          "+t._s(e)+"\n        ")])}),0),t._v(" "),a("vue-json-pretty",{attrs:{data:t.highlightedJson,editable:!0,"highlight-array":t.highlightNode,deep:t.selectedDeep},nativeOn:{click:function(e){return t.jsonClick.apply(null,arguments)}}})],1),t._v(" "),a("div",{staticClass:"svg-container"},[a("div",{staticClass:"tooltip",attrs:{id:"tooltip"}}),t._v(" "),a("label",{attrs:{for:"startingFN"}},[t._v("Initial #(Entry): ")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.startingFN,expression:"startingFN"}],domProps:{value:t.startingFN},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.drawMoviz.apply(null,arguments)},input:function(e){e.target.composing||(t.startingFN=e.target.value)}}}),t._v(" "),a("div",{staticClass:"errorFrame",attrs:{id:"errorFrame"}}),t._v(" "),a("svg",{ref:"svgMoviz",attrs:{id:"mainsvg",width:"1200",height:"1000",overflow:"visible"}},[a("g",{attrs:{id:"sumGroup"}})])])])])},staticRenderFns:[]};var Wt=a("VU/8")(qt,Vt,!1,function(t){a("Fyv8")},"data-v-dce0a894",null).exports,$t=a("/ocq");r.a.use($t.a);var Yt=new $t.a({routes:[{path:"/",name:"Moviz",component:Wt}],mode:"hash"});r.a.config.productionTip=!1,new r.a({el:"#app",router:Yt,components:{App:Wt},template:"<App/>"})},iMEU:function(t,e){},"p+Xa":function(t,e){t.exports={name:"d3-flextree",version:"2.1.2",main:"build/d3-flextree.js",module:"index","jsnext:main":"index",author:{name:"Chris Maloney",url:"http://chrismaloney.org"},description:"Flexible tree layout algorithm that allows for variable node sizes.",keywords:["d3","d3-module","layout","tree","hierarchy","d3-hierarchy","plugin","d3-plugin","infovis","visualization","2d"],homepage:"https://github.com/klortho/d3-flextree",license:"WTFPL",repository:{type:"git",url:"https://github.com/klortho/d3-flextree.git"},scripts:{clean:"rm -rf build demo test","build:demo":"rollup -c --environment BUILD:demo","build:dev":"rollup -c --environment BUILD:dev","build:prod":"rollup -c --environment BUILD:prod","build:test":"rollup -c --environment BUILD:test",build:"rollup -c",lint:"eslint index.js src","test:main":"node test/bundle.js","test:browser":"node test/browser-tests.js",test:"npm-run-all test:*",prepare:"npm-run-all clean build lint test"},dependencies:{"d3-hierarchy":"^1.1.5"},devDependencies:{"babel-plugin-external-helpers":"^6.22.0","babel-preset-es2015-rollup":"^3.0.0",d3:"^4.13.0","d3-selection-multi":"^1.0.1",eslint:"^4.19.1",jsdom:"^11.6.2","npm-run-all":"^4.1.2",rollup:"^0.55.3","rollup-plugin-babel":"^2.7.1","rollup-plugin-commonjs":"^8.0.2","rollup-plugin-copy":"^0.2.3","rollup-plugin-json":"^2.3.0","rollup-plugin-node-resolve":"^3.0.2","rollup-plugin-uglify":"^3.0.0","uglify-es":"^3.3.9"}}}},["NHnr"]);
//# sourceMappingURL=app.1db5ca936744f7c04dba.js.map