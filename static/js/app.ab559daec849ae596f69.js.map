{"version":3,"sources":["webpack:///./src/App.vue?0e87","webpack:///./src/App.vue","webpack:///src/App.vue","webpack:///./src/utils/layout.js","webpack:///./src/utils/click.js","webpack:///./src/utils/drawBox.js","webpack:///src/components/Moviz.vue","webpack:///./src/components/Moviz.vue?30db","webpack:///./src/components/Moviz.vue","webpack:///./src/router/index.js","webpack:///./src/main.js","webpack:///./node_modules/d3-flextree/package.json"],"names":["selectortype_template_index_0_src_App","render","_h","this","$createElement","_c","_self","attrs","id","staticRenderFns","src_App","__webpack_require__","normalizeComponent","name","ssrContext","getBoxLayout","data","graph","dagre","Graph","compound","setGraph","setDefaultEdgeLabel","i","bf","length","node","nodeId","label","type","function_type","value","body","setNode","auxLabel","width","height","pif","setParent","box","pof","opo","opi","wff","edge","srcNodeId","src","tgtNodeId","tgt","setEdge","wfopi","wfopo","wopio","nodeID","auxID","predecessors","successors","ranksep","rankdir","layout","nodes","edges","forEach","x","y","push","source","v","target","w","_loop","bfNodeId","pofNode","find","pifNode","fullBox","meta","b","identifier","metadata","handleClick","fnS","body_num","sourceid","color","clicked","d3","each","d","_this","GID","attr","replace","deleteParts","String","split","deleteFlag","node1","node2","node1Parts","node2Parts","arraysAreEqual","transition","duration","style","end","then","remove","firstNParts","slice","stringify_default","GIDParts","newLabel","drawBox","hierarchies","childrens","routes","currentID","Number","oName","path","size","temp","sort","a","children","zoomin","element","filterChild","filter","item","hasOwnProperty","aNums","map","bNums","getChildren","loopOverHierarchy","callback","c","_children","Array","isArray","_size","reverse","flexLayout","flextree","spacing","console","log","treeData","hierarchy","treeLayout","locationDrift","nodesCoLevel","arr","paths","lastIndex","lastIndexOf","parentPath","values_default","pathGroup","findChildrenAtSameLevel","keys_default","d2","differenceX","differenceY","targetid","locationTransform","body_num_source","body_num_target","sourceX","select","sourceY","targetX1","targetX2","targetY1","targetY2","dx1","dy1","dx2","dy2","controlPoint11","controlPoint12","controlPoint21","controlPoint22","g","append","area","y0","y1","curve","datum","drawLines","lineID","sourceGID","targetGID","sourceTransString","targetTransString","transformArray","newTransArray","yDrift","padding","a01","a02","a03","a04","a05","a06","new03","selectAll","updateLines","datumForPath1","datumForPath2","array1","array2","_nodeId$split","_nodeId$split2","slicedToArray_default","isBfNode","isPofNode","isPifNode","isOpoNode","isOpiNode","minValue","Math","min","apply","toConsumableArray_default","obj","maxValue","max","selection","undefined","text","on","sourceNode","targetNode","sourceType","targetType","bbox","getBBox","lower","Moviz","skemaVersion","url","blockStyle","backgroundColor","selectedOption","options","methods","fetchData","axios","get","response","jsonData","schema_version","graphData","modules","fn0","fn","fn_array","catch","error","downloadSVG","svgElement","document","getElementById","svgData","XMLSerializer","serializeToString","svgBlob","Blob","svgUrl","URL","createObjectURL","downloadLink","createElement","href","download","appendChild","click","removeChild","submitUrl","excuteFunction","_this2","components_Moviz","_vm","staticClass","_v","directives","rawName","expression","placeholder","change","$event","$$selectedVal","prototype","call","o","selected","_value","multiple","_l","option","key","domProps","_s","_m","input","composing","src_components_Moviz","Moviz_normalizeComponent","Vue","use","Router","router","component","mode","config","productionTip","el","components","App","template","module","exports","version","main","jsnext:main","author","description","keywords","homepage","license","repository","scripts","clean","build:demo","build:dev","build:prod","build:test","build","lint","test:main","test:browser","test","prepare","dependencies","d3-hierarchy","devDependencies","babel-plugin-external-helpers","babel-preset-es2015-rollup","d3-selection-multi","eslint","jsdom","npm-run-all","rollup","rollup-plugin-babel","rollup-plugin-commonjs","rollup-plugin-copy","rollup-plugin-json","rollup-plugin-node-resolve","rollup-plugin-uglify","uglify-es"],"mappings":"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","file":"static/js/app.ab559daec849ae596f69.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-bee6a19a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-bee6a19a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-bee6a19a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","<template>\r\n  <div id=\"app\">\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'App',\r\n};\r\n</script>\r\n\r\n<style>\r\n\r\n.container {\r\n  align-items: center;\r\n}\r\n\r\n.button-spacing {\r\n  width: 2vh; /* 定义间距的宽度 */\r\n  display: inline-block;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","import * as dagre from 'dagre';\r\n\r\nexport function getBoxLayout(data) {\r\n  const graph = new dagre.graphlib.Graph({ compound: true });\r\n  graph.setGraph({});\r\n  // eslint-disable-next-line\r\n  graph.setDefaultEdgeLabel(() => { return {}; });\r\n  // get bf for all\r\n  if ('bf' in data) {\r\n    for (let i = 0; i < data.bf.length; i += 1) {\r\n      // eslint-disable-next-line\r\n      const node = data.bf[i];\r\n      const nodeId = `bf-${i}`;\r\n      const label = node.name;\r\n      const type = node.function_type;\r\n      const value = node.value;\r\n      const body = node.body;\r\n      graph.setNode(nodeId, { label, value, type, body });\r\n      // add auxi node for each bf\r\n      const auxLabel = 'aux';\r\n      const width = 1;\r\n      const height = 1;\r\n      graph.setNode(`aux-${nodeId}`, { auxLabel, width, height });\r\n    }\r\n  }\r\n\r\n  // get pif\r\n  if ('pif' in data) {\r\n    for (let i = 0; i < data.pif.length; i += 1) {\r\n      const node = data.pif[i];\r\n      const nodeId = `pif-${i}`;\r\n      const label = node.name;\r\n      const width = 50;\r\n      const height = 50;\r\n      graph.setNode(nodeId, { label, width, height });\r\n      graph.setParent(nodeId, `bf-${node.box - 1}`);\r\n    }\r\n  }\r\n\r\n  // get pof\r\n  if ('pof' in data) {\r\n    for (let i = 0; i < data.pof.length; i += 1) {\r\n      const node = data.pof[i];\r\n      const nodeId = `pof-${i}`;\r\n      const label = node.name;\r\n      const width = 50;\r\n      const height = 50;\r\n      graph.setNode(nodeId, { label, width, height });\r\n      graph.setParent(nodeId, `bf-${node.box - 1}`);\r\n    }\r\n  }\r\n\r\n  // get opo\r\n  if ('opo' in data) {\r\n    for (let i = 0; i < data.opo.length; i += 1) {\r\n      const node = data.opo[i];\r\n      const nodeId = `opo-${i}`;\r\n      const label = node.name;\r\n      const width = 50;\r\n      const height = 50;\r\n      graph.setNode(nodeId, { label, width, height });\r\n      // graph.setParent(nodeId, `bf-${node.box - 1}`);\r\n    }\r\n  }\r\n\r\n  // get opi\r\n  if ('opi' in data) {\r\n    for (let i = 0; i < data.opi.length; i += 1) {\r\n      const node = data.opi[i];\r\n      const nodeId = `opi-${i}`;\r\n      const label = node.name;\r\n      const width = 50;\r\n      const height = 50;\r\n      graph.setNode(nodeId, { label, width, height });\r\n      // graph.setParent(nodeId, `bf-${node.box - 1}`);\r\n    }\r\n  }\r\n\r\n  // set edges wff\r\n  if ('wff' in data) {\r\n    for (let i = 0; i < data.wff.length; i += 1) {\r\n      const edge = data.wff[i];\r\n      const srcNodeId = `pif-${edge.src - 1}`;\r\n      const tgtNodeId = `pof-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set edges wfopi\r\n  if ('wfopi' in data) {\r\n    for (let i = 0; i < data.wfopi.length; i += 1) {\r\n      const edge = data.wfopi[i];\r\n      const srcNodeId = `pif-${edge.src - 1}`;\r\n      const tgtNodeId = `opi-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set edges wfopo\r\n  if ('wfopo' in data) {\r\n    for (let i = 0; i < data.wfopo.length; i += 1) {\r\n      const edge = data.wfopo[i];\r\n      const srcNodeId = `opo-${edge.src - 1}`;\r\n      const tgtNodeId = `pof-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // set edges wopio\r\n  if ('wopio' in data) {\r\n    for (let i = 0; i < data.wopio.length; i += 1) {\r\n      const edge = data.wopio[i];\r\n      const srcNodeId = `opo-${edge.src - 1}`;\r\n      const tgtNodeId = `opi-${edge.tgt - 1}`;\r\n      graph.setEdge(srcNodeId, tgtNodeId);\r\n    }\r\n  }\r\n\r\n  // add auxi edges\r\n  if ('pif' in data) {\r\n    for (let i = 0; i < data.pif.length; i += 1) {\r\n      const nodeID = `pif-${i}`;\r\n      const pifNode = data.pif[i];\r\n      const auxID = `aux-bf-${pifNode.box - 1}`;\r\n      const hasIncomingEdges = graph.predecessors(nodeID).length > 0;\r\n      if (!hasIncomingEdges) {\r\n        graph.setEdge(auxID, nodeID);\r\n      }\r\n    }\r\n  }\r\n  if ('pof' in data) {\r\n    for (let i = 0; i < data.pof.length; i += 1) {\r\n      const nodeID = `pof-${i}`;\r\n      const pofNode = data.pof[i];\r\n      const auxID = `aux-bf-${pofNode.box - 1}`;\r\n      const hasOutgoingEdges = graph.successors(nodeID).length > 0;\r\n      if (!hasOutgoingEdges) {\r\n        graph.setEdge(nodeID, auxID);\r\n      }\r\n    }\r\n  }\r\n\r\n  // eslint-disable-next-line\r\n  // console.log(graph);\r\n  // execute layout calculation\r\n  graph.setGraph({ ranksep: 30, rankdir: 'BT' });\r\n  dagre.layout(graph);\r\n\r\n  // get layout result\r\n  const layout = {\r\n    nodes: {},\r\n    edges: [],\r\n  };\r\n  graph.nodes().forEach((nodeId) => {\r\n    const node = graph.node(nodeId);\r\n    layout.nodes[nodeId] = {\r\n      x: node.x,\r\n      y: node.y,\r\n      width: node.width,\r\n      height: node.height,\r\n      label: node.label,\r\n      type: node.type,\r\n      value: node.value,\r\n      body: node.body,\r\n    };\r\n  });\r\n  graph.edges().forEach((edge, i) => {\r\n    layout.edges.push({\r\n      id: i,\r\n      source: edge.v,\r\n      target: edge.w,\r\n    });\r\n  });\r\n\r\n  // set attributes for bf\r\n  if ('bf' in data) {\r\n    for (let i = 0; i < data.bf.length; i += 1) {\r\n      const bfNodeId = `bf-${i}`;\r\n      if (('pif' in data) && ('pof' in data)) {\r\n        const pofNode = data.pof.find(node => node.box === i + 1);\r\n        const pifNode = data.pif.find(node => node.box === i + 1);\r\n        if (pofNode && pifNode) {\r\n          layout.nodes[bfNodeId].fullBox = true;\r\n        } else {\r\n          layout.nodes[bfNodeId].fullBox = false;\r\n        }\r\n      } else {\r\n        layout.nodes[bfNodeId].fullBox = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  // set meta data for layout\r\n  layout.meta = {};\r\n  layout.meta.name = data.b[0].name;\r\n  layout.meta.identifier = `${data.b[0].function_type}-${data.b[0].metadata}`;\r\n  layout.meta.type = data.b[0].function_type;\r\n  return layout;\r\n}\r\n\r\nexport function getTreeLayout(data) {\r\n  const g = new dagre.graphlib.Graph({ compound: true });\r\n  g.setGraph({});\r\n  // eslint-disable-next-line\r\n  g.setDefaultEdgeLabel(() => { return {}; });\r\n\r\n  g.setGraph(data.graph);\r\n\r\n  data.subgraphs.forEach((subgraph) => {\r\n    const filteredAttributes = {};\r\n    Object.keys(subgraph.attributes).forEach((key) => {\r\n      if (key === 'label') {\r\n        filteredAttributes[key] = subgraph.attributes[key];\r\n      }\r\n    });\r\n    g.setNode(subgraph.name, filteredAttributes);\r\n    subgraph.nodes.forEach((node) => {\r\n      const filteredAttributesN = {};\r\n      Object.keys(node.attributes).forEach((key) => {\r\n        if (key === 'label') {\r\n          filteredAttributesN[key] = node.attributes[key];\r\n        }\r\n      });\r\n      g.setNode(node.name, filteredAttributesN);\r\n      g.setParent(node.name, subgraph.name);\r\n    });\r\n  });\r\n\r\n  data.edges.forEach((edge) => {\r\n    g.setEdge(edge.source, edge.target);\r\n  });\r\n\r\n  dagre.layout(g);\r\n  // eslint-disable-next-line\r\n  // console.log(g);\r\n  // // eslint-disable-next-line\r\n  // console.log(g.edges());\r\n\r\n  // const svg = d3.select('.svg-container').append('svg');\r\n  // // eslint-disable-next-line\r\n  // const inner = svg.append('g');\r\n  // // eslint-disable-next-line\r\n  // const render = new dagreD3.render();\r\n  // // eslint-disable-next-line\r\n  // render(inner, g);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/layout.js","/* eslint-disable */\r\nimport { drawBox } from \"./drawBox\";\r\nimport { getBoxLayout, getTreeLayout } from \"./layout\";\r\nimport * as flextree from \"d3-flextree\"\r\nimport * as d3 from \"d3\";\r\n\r\nexport function handleClick(fnS, body, body_num, sourceid, color, clicked) {\r\n  const transitionTime1 = 920;\r\n  const transitionTime2 = 720;\r\n  const transitionTime3 = 720;\r\n  if (clicked) {\r\n    d3.selectAll('g').each(function(d,i){\r\n      let GID = d3.select(this).attr('id').replace('line', '').replace('boxid', '');\r\n      const deleteLabel = String(body_num) + '-' + String(body);\r\n      const deleteParts = deleteLabel.split('-');\r\n      // delete edges\r\n      if (GID.split('_').length === 2){\r\n        let deleteFlag = false;\r\n        const node1 = GID.split('_')[0];\r\n        const node2 = GID.split('_')[1];\r\n        const node1Parts = node1.split('-');\r\n        const node2Parts = node2.split('-');\r\n        if (arraysAreEqual(node1Parts, deleteParts)) {\r\n          d3.select(this)\r\n            .transition()        // 开始一个过渡\r\n            .duration(transitionTime3)      // 设置过渡的持续时间\r\n            .style('opacity', 0) // 逐渐变透明\r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n          deleteFlag = true;\r\n        } else if (node1Parts.length > deleteParts.length) {\r\n          const firstNParts = node1Parts.slice(0, deleteParts.length);\r\n          if (JSON.stringify(firstNParts) === JSON.stringify(deleteParts)) {\r\n            d3.select(this)\r\n            .transition()        // 开始一个过渡\r\n            .duration(transitionTime3)      // 设置过渡的持续时间\r\n            .style('opacity', 0) // 逐渐变透明\r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n            deleteFlag = true;\r\n          }\r\n        }\r\n        if (!deleteFlag) {\r\n          if (arraysAreEqual(node2Parts, deleteParts)) {\r\n            d3.select(this)\r\n            .transition()        // 开始一个过渡\r\n            .duration(transitionTime3)      // 设置过渡的持续时间\r\n            .style('opacity', 0) // 逐渐变透明\r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n          } else if (node2Parts.length > deleteParts.length) {\r\n            const firstNParts = node2Parts.slice(0, deleteParts.length);\r\n            if (JSON.stringify(firstNParts) === JSON.stringify(deleteParts)) {\r\n              d3.select(this)\r\n            .transition()        // 开始一个过渡\r\n            .duration(transitionTime3)      // 设置过渡的持续时间\r\n            .style('opacity', 0) // 逐渐变透明\r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n            }\r\n          }\r\n        }\r\n      } else { // delete nodes\r\n        const GIDParts = GID.split('-');\r\n        if (arraysAreEqual(GIDParts, deleteParts)) {\r\n          d3.select(this)\r\n            .transition()        // 开始一个过渡\r\n            .duration(transitionTime3)      // 设置过渡的持续时间\r\n            .style('opacity', 0) // 逐渐变透明\r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n        } else if (GIDParts.length > deleteParts.length) {\r\n          const firstNParts = GIDParts.slice(0, deleteParts.length);\r\n          if (JSON.stringify(firstNParts) === JSON.stringify(deleteParts)) {\r\n            d3.select(this)\r\n            .transition()        // 开始一个过渡\r\n            .duration(transitionTime3)      // 设置过渡的持续时间\r\n            .style('opacity', 0) // 逐渐变透明\r\n            .end()\r\n            .then(() => {\r\n              d3.select(this).remove();\r\n            });\r\n          }\r\n        }\r\n      }\r\n      // console.log(GID);\r\n    })\r\n    return;\r\n  }\r\n  body_num = String(body_num);\r\n  const layout = getBoxLayout(fnS[body-1]);\r\n  const spaceX = 20;\r\n  const spaceY = 80;\r\n  const padding = 80;\r\n  const newLabel = String(body_num) + '-' + String(body); // new body_num\r\n  drawBox(layout, fnS, newLabel);\r\n  var hierarchies = {};\r\n  const childrens = [];\r\n  const gs = d3.selectAll('g').each(function(d, i){\r\n    const nodeID = d3.select(this).attr('id').replace(\"boxid\", \"\");\r\n    if (nodeID.split('_').length !== 2) {\r\n      const routes = nodeID.split(\"-\");\r\n      const currentID = routes[routes.length - 1];\r\n      if (currentID==='0') {\r\n          hierarchies.name = Number(currentID);\r\n          hierarchies.oName = nodeID;\r\n          hierarchies.path = routes;\r\n          hierarchies.size = [Number(d3.select(this).attr('width')) + spaceY, Number(d3.select(this).attr('height'))];\r\n      } else {\r\n          const temp = {}\r\n          temp.name = Number(currentID);\r\n          temp.size = [Number(d3.select(this).attr('width')) + spaceY, Number(d3.select(this).attr('height'))];\r\n          temp.path = routes;\r\n          temp.oName = nodeID;\r\n          childrens.push(temp);\r\n      }\r\n    }\r\n  })\r\n  childrens.sort(function(a,b){\r\n    return a.path.length - b.path.length;\r\n  })\r\n  getChildren(hierarchies, childrens);\r\n  loopOverHierarchy(hierarchies, d => {\r\n    if (Array.isArray(d.size)) {\r\n      if (!d._size) d._size = d.size.slice();\r\n      d.size = d._size.slice().reverse();\r\n    }\r\n  });\r\n  const flexLayout = flextree.flextree({ spacing: spaceX });\r\n  console.log(hierarchies);\r\n  const tree = flexLayout.hierarchy(hierarchies);\r\n  var treeData = flexLayout(tree);\r\n  treeData.each(d => {\r\n    const x = d.x;\r\n    d.x = d.y;\r\n    d.y = x;\r\n  });\r\n  var treeLayout = {};\r\n  treeData.each(d => {\r\n    treeLayout[d.data.oName] = [d.x, d.y, d.data.size[1], d.data.size[0] * 0];\r\n  });\r\n  const nodeNames = Object.keys(treeLayout);\r\n  const locationDrift = {};\r\n  const nodesCoLevel = findChildrenAtSameLevel(nodeNames);\r\n  if (nodesCoLevel.length !== 0) {\r\n      nodesCoLevel.forEach(d => {\r\n        d.forEach(d2 => {\r\n          locationDrift[d2] = d.length;\r\n        })\r\n      });\r\n  }\r\n  console.log(treeLayout);\r\n  console.log(locationDrift);\r\n  console.log()\r\n  let differenceX = treeLayout[newLabel][0] - treeLayout[body_num][0];\r\n  let differenceY = treeLayout[newLabel][1] - treeLayout[newLabel][3] / 2 - (treeLayout[body_num][1] - treeLayout[body_num][3] / 2);\r\n  if (JSON.stringify(locationDrift) === '{}' || (!body_num in locationDrift && !newLabel in locationDrift)){\r\n  } else if (body_num in locationDrift && newLabel in locationDrift) {\r\n    differenceY = differenceY + (locationDrift[newLabel] - 1) * 5 * spaceX - (locationDrift[body_num] - 1) * 5 * spaceX;\r\n  } else if (body_num in locationDrift && !(newLabel in locationDrift)) {\r\n    differenceY = differenceY - (locationDrift[body_num] - 1) * 5 * spaceX;\r\n  } else if (!(body_num in locationDrift) && newLabel in locationDrift){\r\n    differenceY = differenceY + (locationDrift[newLabel] - 1) * 5 * spaceX;\r\n  }\r\n  \r\n  const locationTransform = [differenceX, differenceY];\r\n  drawLines(sourceid, \"frame\" + newLabel, locationTransform, body_num, newLabel, color);\r\n  // console.log(locationTransform);\r\n  d3.selectAll('g').each(function(d, i){\r\n    let nodeID = d3.select(this).attr('id').replace(\"boxid\", \"\");\r\n    if (nodeID.split('_').length === 2){\r\n      const lineID = nodeID;\r\n      const sourceGID = nodeID.replace(\"line\", \"\").split('_')[0];\r\n      const targetGID = nodeID.replace(\"line\", \"\").split('_')[1];\r\n      const sourceTransString = d3.select(\"#boxid\" + sourceGID).attr('transform');\r\n      const targetTransString = d3.select(\"#boxid\" + targetGID).attr('transform');\r\n      if (sourceTransString!==null && sourceGID != newLabel){\r\n        const translatePart = sourceTransString.slice(10, -1);\r\n        const translateValues = translatePart.split(\",\");\r\n        const transformArray = translateValues.map(Number);\r\n        let newTransArray = [];\r\n        if (JSON.stringify(locationDrift) === '{}' || !(sourceGID in locationDrift)) {\r\n          newTransArray = [treeLayout[sourceGID][0] + padding, treeLayout[sourceGID][1] + padding *7.5 - treeLayout[sourceGID][3] / 2];\r\n        } else {\r\n          const yDrift = locationDrift[sourceGID] - 1;\r\n          newTransArray = [treeLayout[sourceGID][0] + padding, treeLayout[sourceGID][1] + padding *7.5 - treeLayout[sourceGID][3] / 2 + yDrift * spaceX * 5];\r\n        }\r\n        // console.log(sourceGID);\r\n        // console.log(transformArray);\r\n        // console.log(\"----------\");\r\n        // console.log(newTransArray);\r\n        if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n          const a01 = d3.select(this).attr('sourceid');\r\n          const a02 = d3.select(this).attr('targetid');\r\n          let a03 = d3.select(this).attr('locationTransform').split(',');\r\n          const a04 = d3.select(this).attr('body_num_source');\r\n          const a05 = d3.select(this).attr('body_num_target');\r\n          const a06 = d3.select(this).attr('color');\r\n          const new03 = [Number(a03[0]) + newTransArray[0] - transformArray[0], Number(a03[1]) + newTransArray[1] - transformArray[1]];\r\n          d3.select(\"#\" + lineID).selectAll('path').remove();\r\n          updateLines(a01, a02, new03, a04, a05, a06, lineID);\r\n        }\r\n      }\r\n      if (targetTransString!==null && targetGID != newLabel){\r\n        const translatePart = targetTransString.slice(10, -1);\r\n        const translateValues = translatePart.split(\",\");\r\n        const transformArray = translateValues.map(Number);\r\n        let newTransArray = [];\r\n        if (JSON.stringify(locationDrift) === '{}' || !(targetGID in locationDrift)) {\r\n          newTransArray = [treeLayout[targetGID][0] + padding, treeLayout[targetGID][1] + padding *7.5 - treeLayout[targetGID][3] / 2];\r\n        } else {\r\n          const yDrift = locationDrift[targetGID] - 1;\r\n          newTransArray = [treeLayout[targetGID][0] + padding, treeLayout[targetGID][1] + padding *7.5 - treeLayout[targetGID][3] / 2 + yDrift * spaceX * 5];\r\n        }\r\n\r\n        if (transformArray[1]!==newTransArray[1] || transformArray[0]!==newTransArray[0]) {\r\n          const a01 = d3.select(this).attr('sourceid');\r\n          const a02 = d3.select(this).attr('targetid');\r\n          let a03 = d3.select(this).attr('locationTransform').split(',');\r\n          const a04 = d3.select(this).attr('body_num_source');\r\n          const a05 = d3.select(this).attr('body_num_target');\r\n          const a06 = d3.select(this).attr('color');\r\n          const new03 = [Number(a03[0]) + newTransArray[0] - transformArray[0], Number(a03[1]) + newTransArray[1] - transformArray[1]];\r\n          updateLines(a01, a02, new03, a04, a05, a06, lineID);\r\n        }\r\n      }\r\n      \r\n      // drawLines(a01, a02, a03, a04, a05, a06);\r\n      nodeID = nodeID.replace(\"line\", \"\");\r\n      nodeID = nodeID.split('_')[0];\r\n      if (JSON.stringify(locationDrift) === '{}' || !(nodeID in locationDrift)) {\r\n        d3.select(this)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 - treeLayout[nodeID][3] / 2})`)\r\n          .style(\"opacity\", 0.7);\r\n      } else {\r\n        const yDrift = locationDrift[nodeID] - 1;\r\n        d3.select(this)\r\n        .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 - treeLayout[nodeID][3] / 2 + yDrift * spaceX * 5})`)\r\n        .style(\"opacity\", 0.7);\r\n      }\r\n    } else {\r\n      if (nodeID === newLabel) {\r\n        if (JSON.stringify(locationDrift) === '{}' || !(nodeID in locationDrift)) {\r\n          d3.select(this)\r\n            .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 - treeLayout[nodeID][3] / 2})`)\r\n            .attr(\"opacity\", 0);\r\n          d3.select(this)\r\n            .transition()\r\n            .duration(transitionTime1)\r\n            .style(\"opacity\", 1);\r\n        } else {\r\n          const yDrift = locationDrift[nodeID] - 1;\r\n          d3.select(this)\r\n          .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 - treeLayout[nodeID][3] / 2 + yDrift * spaceX * 5})`)\r\n          .attr(\"opacity\", 0);\r\n          d3.select(this)\r\n            .transition()\r\n            .duration(transitionTime1)\r\n            .style(\"opacity\", 1);\r\n        }\r\n      } else {\r\n        if (JSON.stringify(locationDrift) === '{}' || !(nodeID in locationDrift)) {\r\n          d3.select(this)\r\n            .transition()\r\n            .duration(transitionTime2)\r\n            .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 - treeLayout[nodeID][3] / 2})`);\r\n        } else {\r\n          const yDrift = locationDrift[nodeID] - 1;\r\n          d3.select(this)\r\n            .transition()\r\n            .duration(transitionTime2)\r\n            .attr(\"transform\", `translate(${treeLayout[nodeID][0] + padding},${treeLayout[nodeID][1] + padding *7.5 - treeLayout[nodeID][3] / 2 + yDrift * spaceX * 5})`);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  )\r\n}\r\n\r\nfunction loopOverHierarchy(d, callback) {\r\n    callback(d);\r\n    if (d.children) d.children.forEach(c => loopOverHierarchy(c, callback));\r\n    if (d._children) d._children.forEach(c => loopOverHierarchy(c, callback));\r\n  }\r\n\r\nfunction getChildren(hierarchies, childrens) {\r\n  var children = hierarchies;\r\n  var zoomin = 2;\r\n  childrens.forEach(function(element){\r\n  element.path.forEach(function(node){\r\n    if (Number(node) !== 0) {\r\n        if (node !== element.path[element.path.length - 1] && zoomin === element.path.length - 1) {\r\n            const filterChild = children.children.filter(function(item){\r\n                return Number(item.name) === Number(node);\r\n            })[0]\r\n            zoomin += 1\r\n            children = filterChild;\r\n        }\r\n        else if (node === element.path[element.path.length - 1]) {\r\n            if (children.hasOwnProperty(\"children\")) {\r\n                children.children.push(element);\r\n                sortByOName(children.children);\r\n            } else {\r\n                children.children = [ element ];\r\n            }\r\n        }\r\n    }\r\n  })\r\n})\r\n}\r\n\r\nfunction findChildrenAtSameLevel(arr) {\r\n  const paths = {};\r\n\r\n  for (let i = 0; i < arr.length; i++) {\r\n    const path = arr[i];\r\n    const lastIndex = path.lastIndexOf('-');\r\n\r\n    if (lastIndex !== -1) {\r\n      const parentPath = path.slice(0, lastIndex);\r\n\r\n      if (!paths[parentPath]) {\r\n        paths[parentPath] = [];\r\n      }\r\n\r\n      paths[parentPath].push(path);\r\n    }\r\n  }\r\n\r\n  const similarPaths = Object.values(paths).filter(pathGroup => pathGroup.length > 1);\r\n\r\n  return similarPaths;\r\n}\r\n\r\nfunction drawLines(sourceid, targetid, locationTransform, body_num_source, body_num_target, color) {\r\n  // console.log(\"sourceid, \", sourceid);\r\n  // console.log(\"targetid, \", targetid);\r\n  // console.log(\"locationTransform, \", locationTransform);\r\n  // console.log(\"body_num_source, \", body_num_source);\r\n  // console.log(\"body_num_target, \", body_num_target);\r\n  // console.log(\"color, \", color);\r\n\r\n\r\n  const sourceX = Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('x')) + Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('width'));\r\n  const sourceY = Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('y')) + Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('height')) / 2;\r\n  const targetX1 = Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0];\r\n  const targetX2= Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0];\r\n  const targetY1 = Number(d3.select(\"#\" + targetid).attr('y')) + locationTransform[1];\r\n  const targetY2 = Number(d3.select(\"#\" + targetid).attr('y')) + Number(d3.select(\"#\" + targetid).attr('height')) + locationTransform[1];\r\n  const dx1 = targetX1 - sourceX;\r\n  const dy1 = targetY1 - sourceY;\r\n  const dx2 = targetX2 - sourceX;\r\n  const dy2 = targetY2 - sourceY;\r\n  const controlPoint11 = {};\r\n  const controlPoint12 = {};\r\n  const controlPoint21 = {};\r\n  const controlPoint22 = {};\r\n  controlPoint11.x = sourceX + 0.25 * 1.5 * dx1;\r\n  controlPoint11.y = sourceY + 0.25 * 1.2 * dy1;\r\n  controlPoint12.x = sourceX + 0.75 * 0.8 * dx1;\r\n  controlPoint12.y = sourceY + 0.75 * 1.0 * dy1;\r\n  controlPoint21.x = sourceX + 0.25 * 1.5 * dx2;\r\n  controlPoint21.y = sourceY + 0.25 * 1.2 * dy2;\r\n  controlPoint22.x = sourceX + 0.75 * 0.8 * dx2;\r\n  controlPoint22.y = sourceY + 0.75 * 1.0 * dy2;\r\n\r\n  const g = d3.select('svg').append(\"g\").attr('id', 'line' + String(body_num_source) + '_' + String(body_num_target));\r\n\r\n  g.attr(\"sourceid\", sourceid)\r\n    .attr(\"targetid\", targetid)\r\n    .attr(\"locationTransform\", locationTransform)\r\n    .attr(\"body_num_source\", body_num_source)\r\n    .attr(\"body_num_target\", body_num_target)\r\n    .attr(\"color\", color);\r\n\r\n\r\n  let area = d3.area()\r\n  .x(function(d) { return d.x; })\r\n  .y0(function(d) { return d.y - 0.03 * d.x;;})\r\n  .y1(function(d) { return d.y  + 0.03 * d.x; })\r\n  .curve(d3.curveBasis);\r\n\r\n  const paddingL = 10;\r\n    // .x0(function(d) { return d.x; })\r\n  // .y0(function(d) { return d.y; })\r\n  // .x1(function(d) { return d.x; })\r\n  // .y1(function(d) { return d.y + d.height; })\r\n\r\n  let path1 = g.append(\"path\")\r\n  .datum([\r\n    {x: sourceX, y: sourceY},\r\n    {x: controlPoint11.x, y: controlPoint11.y},\r\n    {x: controlPoint12.x, y: controlPoint12.y},\r\n    {x: targetX1, y: targetY1 + paddingL}\r\n  ])\r\n  .attr(\"d\", area)\r\n  .attr('id', 'path1')\r\n  .attr(\"fill\", color);\r\n\r\n  let path2 = g.append(\"path\")\r\n  .datum([\r\n    {x: sourceX, y: sourceY},\r\n    {x: controlPoint21.x, y: controlPoint21.y},\r\n    {x: controlPoint22.x, y: controlPoint22.y},\r\n    {x: targetX2, y: targetY2 - paddingL}\r\n  ])\r\n  .attr(\"d\", area)\r\n  .attr('id', 'path2')\r\n  .attr(\"fill\", color);\r\n}\r\n\r\nfunction updateLines(sourceid, targetid, locationTransform, body_num_source, body_num_target, color, lineID) {\r\n  // console.log(\"sourceid, \", sourceid);\r\n  // console.log(\"targetid, \", targetid);\r\n  // console.log(\"locationTransform, \", locationTransform);\r\n  // console.log(\"body_num_source, \", body_num_source);\r\n  // console.log(\"body_num_target, \", body_num_target);\r\n  // console.log(\"color, \", color);\r\n\r\n  const sourceX = Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('x')) + Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('width'));\r\n  const sourceY = Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('y')) + Number(d3.select(\"#boxid\" + body_num_source).select(\"#\" + sourceid).attr('height')) / 2;\r\n  const targetX1 = Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0];\r\n  const targetX2= Number(d3.select(\"#\" + targetid).attr('x')) + locationTransform[0];\r\n  const targetY1 = Number(d3.select(\"#\" + targetid).attr('y')) + locationTransform[1];\r\n  const targetY2 = Number(d3.select(\"#\" + targetid).attr('y')) + Number(d3.select(\"#\" + targetid).attr('height')) + locationTransform[1];\r\n  const dx1 = targetX1 - sourceX;\r\n  const dy1 = targetY1 - sourceY;\r\n  const dx2 = targetX2 - sourceX;\r\n  const dy2 = targetY2 - sourceY;\r\n  const controlPoint11 = {};\r\n  const controlPoint12 = {};\r\n  const controlPoint21 = {};\r\n  const controlPoint22 = {};\r\n  controlPoint11.x = sourceX + 0.25 * 1.5 * dx1;\r\n  controlPoint11.y = sourceY + 0.25 * 1.2 * dy1;\r\n  controlPoint12.x = sourceX + 0.75 * 0.8 * dx1;\r\n  controlPoint12.y = sourceY + 0.75 * 1.0 * dy1;\r\n  controlPoint21.x = sourceX + 0.25 * 1.5 * dx2;\r\n  controlPoint21.y = sourceY + 0.25 * 1.2 * dy2;\r\n  controlPoint22.x = sourceX + 0.75 * 0.8 * dx2;\r\n  controlPoint22.y = sourceY + 0.75 * 1.0 * dy2;\r\n\r\n  const g = d3.select('#' + lineID);\r\n\r\n  g.attr(\"sourceid\", sourceid)\r\n    .attr(\"targetid\", targetid)\r\n    .attr(\"locationTransform\", locationTransform)\r\n    .attr(\"body_num_source\", body_num_source)\r\n    .attr(\"body_num_target\", body_num_target)\r\n    .attr(\"color\", color);\r\n\r\n\r\n  let area = d3.area()\r\n  .x(function(d) { return d.x; })\r\n  .y0(function(d) { return d.y - 0.03 * d.x;;})\r\n  .y1(function(d) { return d.y  + 0.03 * d.x; })\r\n  .curve(d3.curveBasis);\r\n\r\n  const paddingL = 10;\r\n\r\n  const datumForPath1 = [\r\n    {x: sourceX, y: sourceY},\r\n    {x: controlPoint11.x, y: controlPoint11.y},\r\n    {x: controlPoint12.x, y: controlPoint12.y},\r\n    {x: targetX1, y: targetY1 + paddingL}\r\n  ];\r\n\r\n  const datumForPath2 = [\r\n    {x: sourceX, y: sourceY},\r\n    {x: controlPoint21.x, y: controlPoint21.y},\r\n    {x: controlPoint22.x, y: controlPoint22.y},\r\n    {x: targetX2, y: targetY2 - paddingL}\r\n  ];\r\n\r\n  let path1 = g.select(\"#path1\")\r\n  .datum(datumForPath1)\r\n  .transition()\r\n  .duration(720)\r\n  .attr(\"d\", area)\r\n  .attr(\"fill\", color);\r\n\r\n  let path2 = g.select(\"#path2\")\r\n  .datum(datumForPath2)\r\n  .transition()\r\n  .duration(720)\r\n  .attr(\"d\", area)\r\n  .attr(\"fill\", color);\r\n}\r\n\r\nfunction arraysAreEqual(array1, array2) {\r\n\r\n  if (array1.length !== array2.length) {\r\n      return false;\r\n  }\r\n\r\n  for (var i = 0; i < array1.length; i++) {\r\n      if (array1[i] !== array2[i]) {\r\n          return false;\r\n      }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction sortByOName(arr) {\r\n  return arr.sort((a, b) => {\r\n      const aNums = a.oName.split('-').map(Number);\r\n      const bNums = b.oName.split('-').map(Number);\r\n\r\n      // 根据数字依次进行比较\r\n      for(let i = 0; i < aNums.length; i++) {\r\n          if (aNums[i] < bNums[i]) {\r\n              return -1;\r\n          } else if (aNums[i] > bNums[i]) {\r\n              return 1;\r\n          }\r\n          // 如果相等，继续比较下一个数字\r\n      }\r\n\r\n      // 如果所有数字都相等，返回0表示不需要改变顺序\r\n      return 0;\r\n  });\r\n}\r\n\r\n  // const curvePath = d3.path();\r\n  // curvePath.moveTo(sourceX, sourceY);\r\n  // curvePath.bezierCurveTo(\r\n  //   sourceX + dx1 / 2, sourceY + dy1 / 2,\r\n  //   targetX1 - dx1 / 2, targetY1 - dy1 /2,\r\n  //   targetX1, targetY1\r\n  // );\r\n  // curvePath.moveTo(sourceX, sourceY);\r\n  // curvePath.bezierCurveTo(\r\n  //   sourceX + dx2 / 2, sourceY + dy2 / 2,\r\n  //   targetX2 - dx2 / 2, targetY2 - dy2 / 2,\r\n  //   targetX2, targetY2\r\n  // );\r\n\r\n    // const curve = g.append(\"path\")\r\n  // .attr(\"d\", curvePath.toString())\r\n  // .style(\"fill\", \"none\")\r\n  // .style(\"stroke\", \"url(#curve-gradient)\");\n\n\n// WEBPACK FOOTER //\n// ./src/utils/click.js","/* eslint-disable */\r\nimport * as d3 from \"d3\";\r\nimport { handleClick } from \"./click\";\r\n\r\nexport function drawBox(layout, fnS, body_num) {\r\n    // 创建SVG元素\r\n    const svg = d3.select(\"#mainsvg\")\r\n    const g = svg.append(\"g\").attr('id', \"boxid\" + String(body_num));\r\n    const ranksep = 37;\r\n    // 绘制节点\r\n    const nodes = layout.nodes;\r\n    for (const nodeId in nodes) {\r\n      const node = nodes[nodeId];\r\n      const [type, index] = nodeId.split(\"-\");\r\n      const isBfNode = (type === \"bf\");\r\n      const isPofNode = (type === \"pof\");\r\n      const isPifNode = (type === \"pif\");\r\n      const isAuxNode = (type === \"aux\");\r\n      const isOpoNode = (type === 'opo');\r\n      const isOpiNode = (type === 'opi');\r\n  \r\n      if (isAuxNode) {\r\n        continue; // 不绘制aux前缀的节点\r\n      }\r\n  \r\n      if (isOpiNode) {\r\n        const minValue = Math.min(...Object.values(layout.nodes).map(obj => obj.y));\r\n        if (node.y !== minValue){\r\n          node.y = minValue - 50 - ranksep;\r\n        }\r\n      }\r\n\r\n      if (isOpoNode) {\r\n        const maxValue = Math.max(...Object.values(layout.nodes).map(obj => obj.y));\r\n        if (node.y !== maxValue){\r\n          node.y = maxValue + 50 + ranksep;\r\n        }\r\n      }\r\n\r\n      if (isBfNode) {\r\n        if (node.fullBox){\r\n            if (node.type == \"FUNCTION\") {\r\n              let clicked = false;\r\n              const selection = g.append(\"rect\")\r\n              .attr(\"id\", nodeId)\r\n              .attr(\"x\", node.x - node.width / 2)\r\n              .attr(\"y\", node.y - node.height / 2 + ranksep)\r\n              .attr(\"width\", node.width)\r\n              .attr(\"height\", node.height - ranksep * 2)\r\n              .attr(\"rx\", 15)\r\n              .attr(\"ry\", 15)\r\n              .style(\"fill\", \"rgba(0, 0, 255, 0)\")\r\n              .style(\"stroke\", \"green\")\r\n              .style(\"cursor\", \"pointer\")\r\n              .style(\"stroke-width\", 5);\r\n              if (node.label !== undefined){\r\n                g.append(\"text\") // 添加节点的label\r\n                .attr(\"x\", node.x)\r\n                .attr(\"y\", node.y)\r\n                .attr(\"text-anchor\", \"middle\")\r\n                .attr(\"dominant-baseline\", \"middle\")\r\n                .style(\"font-size\", \"12px\")\r\n                .text(node.label);\r\n              }\r\n              if (node.body !== undefined) {\r\n                selection.on(\"click\", function(){\r\n                  handleClick(fnS, node.body, body_num, nodeId, \"green\", clicked);\r\n                  clicked = !clicked;\r\n                });\r\n              }\r\n            } else if (node.type == \"EXPRESSION\") {\r\n              let clicked = false;\r\n              const selection = g.append(\"rect\")\r\n              .attr(\"id\", nodeId)\r\n              .attr(\"x\", node.x - node.width / 2)\r\n              .attr(\"y\", node.y - node.height / 2 + ranksep)\r\n              .attr(\"width\", node.width)\r\n              .attr(\"height\", node.height - ranksep * 2)\r\n              .attr(\"rx\", 15)\r\n              .attr(\"ry\", 15)\r\n              .style(\"fill\", \"rgba(0, 0, 255, 0)\")\r\n              .style(\"stroke\", \"purple\")\r\n              .style(\"cursor\", \"pointer\")\r\n              .style(\"stroke-width\", 5);\r\n              if (node.label !== undefined){\r\n                g.append(\"text\") // 添加节点的label\r\n                .attr(\"x\", node.x)\r\n                .attr(\"y\", node.y)\r\n                .attr(\"text-anchor\", \"middle\")\r\n                .attr(\"dominant-baseline\", \"middle\")\r\n                .style(\"font-size\", \"12px\")\r\n                .text(node.label);\r\n              }\r\n              if (node.body !== undefined) {\r\n                selection.on(\"click\", function(){\r\n                  handleClick(fnS, node.body, body_num, nodeId, \"purple\", clicked);\r\n                  clicked = !clicked;\r\n                });\r\n              }\r\n            } else if (node.type == \"LITERAL\") {\r\n              g.append(\"rect\")\r\n              .attr(\"id\", nodeId)\r\n              .attr(\"x\", node.x - node.width / 2)\r\n              .attr(\"y\", node.y - node.height / 2 + ranksep)\r\n              .attr(\"width\", node.width)\r\n              .attr(\"height\", node.height )\r\n              .style(\"fill\", \"none\")\r\n              .style(\"stroke\", \"red\")\r\n              .style(\"stroke-width\", 5);\r\n              if (node.label !== undefined){\r\n                g.append(\"text\") // 添加节点的label\r\n                .attr(\"x\", node.x)\r\n                .attr(\"y\", node.y)\r\n                .attr(\"text-anchor\", \"middle\")\r\n                .attr(\"dominant-baseline\", \"middle\")\r\n                .style(\"font-size\", \"12px\")\r\n                .text(node.label);\r\n              }\r\n              if (node.value !== undefined){\r\n                g.append(\"text\") // 添加节点的label\r\n                .attr(\"x\", node.x)\r\n                .attr(\"y\", node.y)\r\n                .attr(\"text-anchor\", \"middle\")\r\n                .attr(\"dominant-baseline\", \"middle\")\r\n                .style(\"font-size\", \"30px\")\r\n                .text(node.value.value);\r\n              }\r\n            } else if (node.type == \"LANGUAGE_PRIMITIVE\") {\r\n              g.append(\"rect\")\r\n              .attr(\"id\", nodeId)\r\n              .attr(\"x\", node.x - node.width / 2)\r\n              .attr(\"y\", node.y - node.height / 2 + ranksep)\r\n              .attr(\"width\", node.width)\r\n              .attr(\"height\", node.height - ranksep * 2)\r\n              .style(\"fill\", \"none\")\r\n              .style(\"stroke\", \"red\")\r\n              .style(\"stroke-width\", 5);\r\n              if (node.label !== undefined){\r\n                g.append(\"text\") // 添加节点的label\r\n                .attr(\"x\", node.x)\r\n                .attr(\"y\", node.y)\r\n                .attr(\"text-anchor\", \"middle\")\r\n                .attr(\"dominant-baseline\", \"middle\")\r\n                .style(\"font-size\", \"20px\")\r\n                .text(node.label);\r\n              }\r\n              if (node.value !== undefined){\r\n                g.append(\"text\") // 添加节点的label\r\n                .attr(\"x\", node.x)\r\n                .attr(\"y\", node.y)\r\n                .attr(\"text-anchor\", \"middle\")\r\n                .attr(\"dominant-baseline\", \"middle\")\r\n                .style(\"font-size\", \"30px\")\r\n                .text(node.value.value);\r\n              }\r\n            }\r\n        } else {\r\n          if (node.type == \"FUNCTION\") {\r\n            let clicked = false;\r\n            const selection = g.append(\"rect\")\r\n            .attr(\"id\", nodeId)\r\n            .attr(\"x\", node.x - node.width / 2)\r\n            .attr(\"y\", node.y - node.height / 2 - ranksep)\r\n            .attr(\"width\", node.width)\r\n            .attr(\"height\", node.height)\r\n            .attr(\"rx\", 15)\r\n            .attr(\"ry\", 15)\r\n            .style(\"fill\", \"rgba(0, 0, 255, 0)\")\r\n            .style(\"cursor\", \"pointer\")\r\n            .style(\"stroke\", \"green\")\r\n            .style(\"stroke-width\", 5);\r\n            if (node.label !== undefined){\r\n              g.append(\"text\") // 添加节点的label\r\n              .attr(\"x\", node.x)\r\n              .attr(\"y\", node.y)\r\n              .attr(\"text-anchor\", \"middle\")\r\n              .attr(\"dominant-baseline\", \"middle\")\r\n              .style(\"font-size\", \"12px\")\r\n              .text(node.label);\r\n            }\r\n            if (node.body !== undefined) {\r\n              selection.on(\"click\", function(){\r\n                handleClick(fnS, node.body, body_num, nodeId, \"green\", clicked);\r\n                clicked = !clicked;\r\n              });\r\n            }\r\n          } else if (node.type == \"EXPRESSION\") {\r\n            let clicked = false;\r\n            const selection = g.append(\"rect\")\r\n            .attr(\"id\", nodeId)\r\n            .attr(\"x\", node.x - node.width / 2)\r\n            .attr(\"y\", node.y - node.height / 2 - ranksep)\r\n            .attr(\"width\", node.width)\r\n            .attr(\"height\", node.height)\r\n            .attr(\"rx\", 15)\r\n            .attr(\"ry\", 15)\r\n            .style(\"fill\", \"rgba(0, 0, 255, 0)\")\r\n            .style(\"cursor\", \"pointer\")\r\n            .style(\"stroke\", \"purple\")\r\n            .style(\"stroke-width\", 5);\r\n            if (node.label !== undefined){\r\n              g.append(\"text\") // 添加节点的label\r\n              .attr(\"x\", node.x)\r\n              .attr(\"y\", node.y)\r\n              .attr(\"text-anchor\", \"middle\")\r\n              .attr(\"dominant-baseline\", \"middle\")\r\n              .style(\"font-size\", \"12px\")\r\n              .text(node.label);\r\n            }\r\n            if (node.body !== undefined) {\r\n              selection.on(\"click\", function(){\r\n                handleClick(fnS, node.body, body_num, nodeId, \"purple\", clicked);\r\n                clicked = !clicked;\r\n              });\r\n            }\r\n          } else if (node.type == \"LITERAL\") {\r\n            g.append(\"rect\")\r\n            .attr(\"id\", nodeId)\r\n            .attr(\"x\", node.x - node.width / 2 + ranksep / 2)\r\n            .attr(\"y\", node.y - node.height / 2 - ranksep)\r\n            .attr(\"width\", node.width - ranksep)\r\n            .attr(\"height\", node.height)\r\n            .style(\"fill\", \"none\")\r\n            .style(\"stroke\", \"red\")\r\n            .style(\"stroke-width\", 2);\r\n            if (node.label !== undefined){\r\n              g.append(\"text\") // 添加节点的label\r\n              .attr(\"x\", node.x)\r\n              .attr(\"y\", node.y)\r\n              .attr(\"text-anchor\", \"middle\")\r\n              .attr(\"dominant-baseline\", \"middle\")\r\n              .style(\"font-size\", \"12px\")\r\n              .text(node.label);\r\n            }\r\n            if (node.value !== undefined){\r\n              g.append(\"text\") // 添加节点的label\r\n              .attr(\"x\", node.x)\r\n              .attr(\"y\", node.y - ranksep * 1.2)\r\n              .attr(\"text-anchor\", \"middle\")\r\n              .attr(\"dominant-baseline\", \"middle\")\r\n              .style(\"font-size\", \"30px\")\r\n              .text(node.value.value);\r\n            }\r\n          } else if (node.type == \"LANGUAGE_PRIMITIVE\") {\r\n            g.append(\"rect\")\r\n            .attr(\"id\", nodeId)\r\n            .attr(\"x\", node.x - node.width / 2)\r\n            .attr(\"y\", node.y - node.height / 2 - ranksep)\r\n            .attr(\"width\", node.width)\r\n            .attr(\"height\", node.height)\r\n            .style(\"fill\", \"none\")\r\n            .style(\"stroke\", \"red\")\r\n            .style(\"stroke-width\", 5);\r\n            if (node.label !== undefined){\r\n              g.append(\"text\") // 添加节点的label\r\n              .attr(\"x\", node.x)\r\n              .attr(\"y\", node.y)\r\n              .attr(\"text-anchor\", \"middle\")\r\n              .attr(\"dominant-baseline\", \"middle\")\r\n              .style(\"font-size\", \"12px\")\r\n              .text(node.label);\r\n            }\r\n            if (node.value !== undefined){\r\n              g.append(\"text\") // 添加节点的label\r\n              .attr(\"x\", node.x)\r\n              .attr(\"y\", node.y)\r\n              .attr(\"text-anchor\", \"middle\")\r\n              .attr(\"dominant-baseline\", \"middle\")\r\n              .style(\"font-size\", \"30px\")\r\n              .text(node.value.value);\r\n            }\r\n          }\r\n        }\r\n      } else if (isPofNode || isPifNode || isOpiNode || isOpoNode) {\r\n        g.append(\"rect\")\r\n          .attr(\"id\", nodeId)\r\n          .attr(\"x\", node.x - node.width / 2)\r\n          .attr(\"y\", node.y - node.height / 2)\r\n          .attr(\"width\", node.width)\r\n          .attr(\"height\", node.height)\r\n          .style(\"fill\", \"white\")\r\n          .style(\"stroke\", \"black\")\r\n          .style(\"stroke-width\", 2);\r\n          if (node.label !== undefined){\r\n            g.append(\"text\") // 添加节点的label\r\n            .attr(\"x\", node.x)\r\n            .attr(\"y\", node.y)\r\n            .attr(\"text-anchor\", \"middle\")\r\n            .attr(\"dominant-baseline\", \"middle\")\r\n            .style(\"font-size\", \"27px\")\r\n            .text(node.label);\r\n          }\r\n      }\r\n    }\r\n  \r\n    // 绘制箭头\r\n    g.append(\"defs\")\r\n      .append(\"marker\")\r\n      .attr(\"id\", \"arrowhead\")\r\n      .attr(\"markerWidth\", 10)\r\n      .attr(\"markerHeight\", 7)\r\n      .attr(\"refX\", 10)\r\n      .attr(\"refY\", 3.5)\r\n      .attr(\"orient\", \"auto\")\r\n      .append(\"path\")\r\n      .attr(\"d\", \"M0,0 L10,3.5 L0,7 Z\")\r\n      .style(\"fill\", \"gray\");\r\n  \r\n    // 绘制边\r\n    const edges = layout.edges;\r\n    edges.forEach((edge) => {\r\n      const sourceNode = nodes[edge.source];\r\n      const targetNode = nodes[edge.target];\r\n      const sourceType = edge.source.split(\"-\")[0];\r\n      const targetType = edge.target.split(\"-\")[0];\r\n      const isAuxEdge = (sourceType === \"aux\" || targetType === \"aux\");\r\n\r\n      if (!isAuxEdge) {\r\n        g.append(\"line\")\r\n          .attr(\"x1\", sourceNode.x)\r\n          .attr(\"y1\", sourceNode.y - sourceNode.height / 2)\r\n          .attr(\"x2\", targetNode.x)\r\n          .attr(\"y2\", targetNode.y + targetNode.height / 2)\r\n          .style(\"stroke\", \"gray\")\r\n          .style(\"stroke-width\", 2.2)\r\n          .attr(\"marker-end\", \"url(#arrowhead)\");\r\n      }\r\n    });\r\n\r\n    // 调整SVG大小\r\n    const padding = 20; // 设置padding的大小\r\n\r\n    // const svgElement = document.querySelector(\"svg\");\r\n    const bbox = g.node().getBBox();\r\n    const width = bbox.width + padding * 4;\r\n    const height = bbox.height + padding * 4;\r\n\r\n    if ('opo-0' in nodes && 'opi-0' in nodes){\r\n      if (layout.meta.type === \"MODULE\"){\r\n        // 绘制外框\r\n        g.append(\"rect\", \":first-child\")\r\n        .attr(\"id\", \"frame\" + body_num)\r\n        .attr(\"x\", bbox.x - padding)\r\n        .attr(\"y\", bbox.y - padding + ranksep)\r\n        .attr(\"rx\", 15)\r\n        .attr(\"ry\", 15)\r\n        .attr(\"width\", width - padding * 2)\r\n        .attr(\"height\", height - padding * 2 - ranksep * 2)\r\n        .style(\"fill\", \"none\")\r\n        .style(\"stroke\", \"gray\")\r\n        .style(\"stroke-width\", 5)\r\n        .lower();\r\n      } else if (layout.meta.type === \"EXPRESSION\") {\r\n        // 绘制外框\r\n        g.append(\"rect\", \":first-child\")\r\n        .attr(\"id\", \"frame\" + body_num)\r\n        .attr(\"x\", bbox.x - padding)\r\n        .attr(\"y\", bbox.y - padding + ranksep)\r\n        .attr(\"rx\", 15)\r\n        .attr(\"ry\", 15)\r\n        .attr(\"width\", width - padding * 2)\r\n        .attr(\"height\", height - padding * 2 - ranksep * 2)\r\n        .style(\"fill\", \"none\")\r\n        .style(\"stroke\", \"purple\")\r\n        .style(\"stroke-width\", 5)\r\n        .lower();\r\n      } else if (layout.meta.type === \"FUNCTION\") {\r\n        // 绘制外框\r\n        g.append(\"rect\", \":first-child\")\r\n        .attr(\"id\", \"frame\" + body_num)\r\n        .attr(\"x\", bbox.x - padding)\r\n        .attr(\"y\", bbox.y - padding + ranksep)\r\n        .attr(\"rx\", 15)\r\n        .attr(\"ry\", 15)\r\n        .attr(\"width\", width - padding * 2)\r\n        .attr(\"height\", height - padding * 2 - ranksep * 2)\r\n        .style(\"fill\", \"none\")\r\n        .style(\"stroke\", \"green\")\r\n        .style(\"stroke-width\", 5)\r\n        .lower();\r\n      }\r\n    } else {\r\n      if (layout.meta.type === \"MODULE\"){\r\n        // 绘制外框\r\n        g.append(\"rect\", \":first-child\")\r\n        .attr(\"id\", \"frame\" + body_num)\r\n        .attr(\"x\", bbox.x - padding)\r\n        .attr(\"y\", bbox.y - padding)\r\n        .attr(\"rx\", 15)\r\n        .attr(\"ry\", 15)\r\n        .attr(\"width\", width - padding * 2)\r\n        .attr(\"height\", height - padding * 2)\r\n        .style(\"fill\", \"none\")\r\n        .style(\"stroke\", \"gray\")\r\n        .style(\"stroke-width\", 5)\r\n        .lower();\r\n      } else if (layout.meta.type === \"EXPRESSION\") {\r\n        // 绘制外框\r\n        g.append(\"rect\", \":first-child\")\r\n        .attr(\"id\", \"frame\" + body_num)\r\n        .attr(\"x\", bbox.x - padding)\r\n        .attr(\"y\", bbox.y - padding)\r\n        .attr(\"rx\", 15)\r\n        .attr(\"ry\", 15)\r\n        .attr(\"width\", width - padding * 2)\r\n        .attr(\"height\", height - padding * 2)\r\n        .style(\"fill\", \"none\")\r\n        .style(\"stroke\", \"purple\")\r\n        .style(\"stroke-width\", 5)\r\n        .lower();\r\n      } else if (layout.meta.type === \"FUNCTION\") {\r\n        // 绘制外框\r\n        g.append(\"rect\", \":first-child\")\r\n        .attr(\"id\", \"frame\" + body_num)\r\n        .attr(\"x\", bbox.x - padding)\r\n        .attr(\"y\", bbox.y - padding)\r\n        .attr(\"rx\", 15)\r\n        .attr(\"ry\", 15)\r\n        .attr(\"width\", width - padding * 2)\r\n        .attr(\"height\", height - padding * 2)\r\n        .style(\"fill\", \"none\")\r\n        .style(\"stroke\", \"green\")\r\n        .style(\"stroke-width\", 5)\r\n        .lower();\r\n      }  \r\n    }\r\n    \r\n    g.attr(\"width\", width)\r\n      .attr(\"height\", height)\r\n    if (body_num === 0){\r\n      g.attr(\"transform\", `translate(${padding * 4},${padding * 30 - height / 2 * 0})`);\r\n    }\r\n      \r\n\r\n    // // 平移所有元素以留出padding\r\n    // svg.selectAll(\"*\")\r\n    //   .attr(\"transform\", `translate(${padding * 2},${padding * 2})`);\r\n    // // 将SVG渲染到HTML页面中\r\n    // const svgElement = document.querySelector(\"svg\");\r\n    // document.body.appendChild(svgElement);\r\n  }\r\n  \n\n\n// WEBPACK FOOTER //\n// ./src/utils/drawBox.js","<template>\r\n  <div class=\"container\">\r\n  <div class=\"d-flex justify-content-start\">\r\n    <!-- <button class=\"btn btn-primary\" @click=\"fetchData\">upload</button> -->\r\n    <div class=\"button-spacing\"></div> <!-- 添加间距 -->\r\n    <select v-model=\"selectedOption\" @change=\"fetchData\" class=\"my-select\" placeholder=\"Select\">\r\n      <option v-for=\"option in options\" :value=\"option.value\" :key=\"option.value\">\r\n        {{ option.text }}\r\n      </option>\r\n    </select>\r\n    <div><p> Or </p></div>\r\n    <input type=\"text\" v-model=\"url\" class=\"url-input\" placeholder=\"Input URL of JSON file here.\"/>\r\n    <button class=\"btn btn-primary\" @click=\"submitUrl\">Submit</button>\r\n    <button class=\"btn btn-primary download-button\" @click=\"downloadSVG\" >downloadSVG</button>\r\n  </div>\r\n    <div class=\"row\">\r\n      <div id=\"svg-container\" :style=\"blockStyle\">\r\n        <div class=\"version-text\">\r\n          Current Supported Skema Version:\r\n          <span class=\"highlight\">0.1.6</span>\r\n        </div>\r\n        <div class=\"version-text\">\r\n          Current File Version:\r\n          <span class=\"highlight\">{{ skemaVersion }}</span>\r\n        </div>\r\n        <svg id=\"mainsvg\" width=\"2000\" height=\"2000\"></svg>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport * as d3 from 'd3';\r\nimport axios from 'axios';\r\nimport { getBoxLayout } from '../utils/layout';\r\nimport { drawBox } from '../utils/drawBox';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      skemaVersion: '',\r\n      url: '',\r\n      blockStyle: {\r\n        backgroundColor: 'rgba(255, 255, 120, 0.5)',\r\n        height: '90vh',\r\n        width: '100%',\r\n      },\r\n      selectedOption: null,\r\n      options: [\r\n        { text: 'fun1', value: 'https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/fun1/FN_0.1.6/fun1--Gromet-FN-auto.json' },\r\n        { text: 'fun4', value: 'https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/fun4/FN_0.1.6/fun4--Gromet-FN-auto.json' },\r\n        { text: 'exp1', value: 'https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/exp1/FN_0.1.6/exp1--Gromet-FN-auto.json' },\r\n        { text: 'exp2', value: 'https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/exp2/FN_0.1.6/exp2--Gromet-FN-auto.json' },\r\n        { text: 'exp3', value: 'https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/exp3/FN_0.1.6/exp3--Gromet-FN-auto.json' },\r\n        { text: 'assign_operator1', value: 'https://raw.githubusercontent.com/ml4ai/skema/main/data/gromet/python/assign_operator1/FN_0.1.6/assign_operator1--Gromet-FN-auto.json' },\r\n      ],\r\n    };\r\n  },\r\n  methods: {\r\n    fetchData() {\r\n      d3.selectAll('g').remove();\r\n      axios.get(this.selectedOption)\r\n        .then((response) => {\r\n          const jsonData = response.data;\r\n          this.skemaVersion = jsonData.schema_version;\r\n          const graphData = jsonData.modules[0];\r\n          const fn0 = graphData.fn;\r\n          const fnS = graphData.fn_array;\r\n          const layout = getBoxLayout(fn0);\r\n          drawBox(layout, fnS, 0);\r\n        })\r\n        .catch((error) => {\r\n          // eslint-disable-next-line\r\n          console.error(error);\r\n        });\r\n    },\r\n    downloadSVG() {\r\n      // 获取 SVG 元素\r\n      const svgElement = document.getElementById('mainsvg');\r\n      // 获取 SVG 的内容\r\n      const svgData = new XMLSerializer().serializeToString(svgElement);\r\n      // 创建一个 Blob 对象\r\n      const svgBlob = new Blob([svgData], { type: 'image/svg+xml;charset=utf-8' });\r\n      // 创建一个指向 Blob 的 URL\r\n      const svgUrl = URL.createObjectURL(svgBlob);\r\n      // 创建一个链接并通过该链接下载 SVG 文件\r\n      const downloadLink = document.createElement('a');\r\n      downloadLink.href = svgUrl;\r\n      downloadLink.download = 'mainsvg.svg';\r\n      document.body.appendChild(downloadLink);\r\n      downloadLink.click();\r\n      document.body.removeChild(downloadLink);\r\n    },\r\n    submitUrl() {\r\n      this.excuteFunction(this.url);\r\n    },\r\n    excuteFunction(url) {\r\n      axios.get(url)\r\n        .then((response) => {\r\n          const jsonData = response.data;\r\n          this.skemaVersion = jsonData.schema_version;\r\n          const graphData = jsonData.modules[0];\r\n          const fn0 = graphData.fn;\r\n          const fnS = graphData.fn_array;\r\n          const layout = getBoxLayout(fn0);\r\n          drawBox(layout, fnS, 0);\r\n        })\r\n        .catch((error) => {\r\n          // eslint-disable-next-line\r\n          console.error(error);\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.svg-container {\r\n  width: 100%;\r\n  height: 100%;\r\n  overflow: hidden;\r\n}\r\n.my-select {\r\n    /* 下拉框的样式 */\r\n    padding: 10px;\r\n    font-size: 16px;\r\n    border-radius: 5px;\r\n    border: 1px solid #ccc;\r\n    margin-right: 20px; /* 这将在下拉框和其他元素之间添加一些间距 */\r\n}\r\n\r\n.url-input {\r\n    /* 输入框的样式 */\r\n    padding: 10px;\r\n    font-size: 16px;\r\n    border: 1px solid #ccc;\r\n    width: 400px;\r\n    overflow-x: auto;\r\n    margin-left: 20px; /* 这将在下拉框和其他元素之间添加一些间距 */\r\n}\r\n\r\np {\r\n  margin-bottom: -10px;\r\n  font-size: 27px;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n.download-button {\r\n  margin-left: 300px;\r\n}\r\n\r\n.version-text {\r\n  font-size: 27px;\r\n  font-family: Arial, sans-serif;\r\n}\r\n\r\n.highlight {\r\n  color: red;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/Moviz.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"d-flex justify-content-start\"},[_c('div',{staticClass:\"button-spacing\"}),_vm._v(\" \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedOption),expression:\"selectedOption\"}],staticClass:\"my-select\",attrs:{\"placeholder\":\"Select\"},on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedOption=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},_vm.fetchData]}},_vm._l((_vm.options),function(option){return _c('option',{key:option.value,domProps:{\"value\":option.value}},[_vm._v(\"\\n      \"+_vm._s(option.text)+\"\\n    \")])}),0),_vm._v(\" \"),_vm._m(0),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.url),expression:\"url\"}],staticClass:\"url-input\",attrs:{\"type\":\"text\",\"placeholder\":\"Input URL of JSON file here.\"},domProps:{\"value\":(_vm.url)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.url=$event.target.value}}}),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":_vm.submitUrl}},[_vm._v(\"Submit\")]),_vm._v(\" \"),_c('button',{staticClass:\"btn btn-primary download-button\",on:{\"click\":_vm.downloadSVG}},[_vm._v(\"downloadSVG\")])]),_vm._v(\" \"),_c('div',{staticClass:\"row\"},[_c('div',{style:(_vm.blockStyle),attrs:{\"id\":\"svg-container\"}},[_vm._m(1),_vm._v(\" \"),_c('div',{staticClass:\"version-text\"},[_vm._v(\"\\n        Current File Version:\\n        \"),_c('span',{staticClass:\"highlight\"},[_vm._v(_vm._s(_vm.skemaVersion))])]),_vm._v(\" \"),_c('svg',{attrs:{\"id\":\"mainsvg\",\"width\":\"2000\",\"height\":\"2000\"}})])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('p',[_vm._v(\" Or \")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"version-text\"},[_vm._v(\"\\n        Current Supported Skema Version:\\n        \"),_c('span',{staticClass:\"highlight\"},[_vm._v(\"0.1.6\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-1017a8db\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Moviz.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1017a8db\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Moviz.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Moviz.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./Moviz.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1017a8db\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./Moviz.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1017a8db\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Moviz.vue\n// module id = null\n// module chunks = ","import Vue from 'vue';\r\nimport Router from 'vue-router';\r\nimport Moviz from '@/components/Moviz';\r\n\r\nVue.use(Router);\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: '/',\r\n      name: 'Moviz',\r\n      component: Moviz,\r\n    },\r\n  ],\r\n  mode: 'hash',\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","// The Vue build version to load with the `import` command\r\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport Vue from 'vue';\r\nimport App from './App';\r\nimport router from './router';\r\n\r\nVue.config.productionTip = false;\r\n\r\n/* eslint-disable no-new */\r\nnew Vue({\r\n  el: '#app',\r\n  router,\r\n  components: { App },\r\n  template: '<App/>',\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","module.exports = {\"name\":\"d3-flextree\",\"version\":\"2.1.2\",\"main\":\"build/d3-flextree.js\",\"module\":\"index\",\"jsnext:main\":\"index\",\"author\":{\"name\":\"Chris Maloney\",\"url\":\"http://chrismaloney.org\"},\"description\":\"Flexible tree layout algorithm that allows for variable node sizes.\",\"keywords\":[\"d3\",\"d3-module\",\"layout\",\"tree\",\"hierarchy\",\"d3-hierarchy\",\"plugin\",\"d3-plugin\",\"infovis\",\"visualization\",\"2d\"],\"homepage\":\"https://github.com/klortho/d3-flextree\",\"license\":\"WTFPL\",\"repository\":{\"type\":\"git\",\"url\":\"https://github.com/klortho/d3-flextree.git\"},\"scripts\":{\"clean\":\"rm -rf build demo test\",\"build:demo\":\"rollup -c --environment BUILD:demo\",\"build:dev\":\"rollup -c --environment BUILD:dev\",\"build:prod\":\"rollup -c --environment BUILD:prod\",\"build:test\":\"rollup -c --environment BUILD:test\",\"build\":\"rollup -c\",\"lint\":\"eslint index.js src\",\"test:main\":\"node test/bundle.js\",\"test:browser\":\"node test/browser-tests.js\",\"test\":\"npm-run-all test:*\",\"prepare\":\"npm-run-all clean build lint test\"},\"dependencies\":{\"d3-hierarchy\":\"^1.1.5\"},\"devDependencies\":{\"babel-plugin-external-helpers\":\"^6.22.0\",\"babel-preset-es2015-rollup\":\"^3.0.0\",\"d3\":\"^4.13.0\",\"d3-selection-multi\":\"^1.0.1\",\"eslint\":\"^4.19.1\",\"jsdom\":\"^11.6.2\",\"npm-run-all\":\"^4.1.2\",\"rollup\":\"^0.55.3\",\"rollup-plugin-babel\":\"^2.7.1\",\"rollup-plugin-commonjs\":\"^8.0.2\",\"rollup-plugin-copy\":\"^0.2.3\",\"rollup-plugin-json\":\"^2.3.0\",\"rollup-plugin-node-resolve\":\"^3.0.2\",\"rollup-plugin-uglify\":\"^3.0.0\",\"uglify-es\":\"^3.3.9\"}}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/d3-flextree/package.json\n// module id = p+Xa\n// module chunks = 1"],"sourceRoot":""}